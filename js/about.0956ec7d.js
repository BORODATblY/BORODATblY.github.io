(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"03ed":function(t,e,i){t.exports=i.p+"img/icon_tide.36a72fbf.svg"},"04ab":function(t,e,i){t.exports=i.p+"img/surf.21521009.svg"},"05a8":function(t,e,i){t.exports=i.p+"img/pinterest-square-brands.6870a301.svg"},"086b":function(t,e,i){t.exports=i.p+"img/2.6f5877fc.png"},"099c":function(t,e,i){t.exports=i.p+"img/comment.fabf2d04.png"},"0e4a":function(t,e,i){t.exports=i.p+"img/6.41343272.png"},"0f77":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mogo"},[t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),n("section",{staticClass:"section"},[n("div",{staticClass:"mogo-container"},[t._m(6),n("div",{staticClass:"wedo"},[t._m(7),n("div",{staticClass:"wedo_item"},[n("div",{staticClass:"accordion"},[n("div",{staticClass:"accordion_item"},[n("div",{staticClass:"accordion_mogo-header",on:{click:t.showAcordeon1}},[n("img",{staticClass:"accordion_icon",attrs:{src:i("3c0d"),alt:""}}),n("div",{staticClass:"accordion_title"},[t._v("Photography")])]),t.Acordeon1?n("div",{staticClass:"accordion_content"},[n("p",[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.")])]):t._e()])]),n("div",{staticClass:"accordion"},[n("div",{staticClass:"accordion_item "},[n("div",{staticClass:"accordion_mogo-header",on:{click:t.showAcordeon2}},[n("img",{staticClass:"accordion_icon",attrs:{src:i("4547"),alt:""}}),n("div",{staticClass:"accordion_title"},[t._v("creativity")])]),t.Acordeon2?n("div",{staticClass:"accordion_content"},[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. ")]):t._e()])]),n("div",{staticClass:"accordion"},[n("div",{staticClass:"accordion_item "},[n("div",{staticClass:"accordion_mogo-header",on:{click:t.showAcordeon3}},[n("img",{staticClass:"accordion_icon",attrs:{src:i("49f1"),alt:""}}),n("div",{staticClass:"accordion_title"},[t._v("web design")])]),t.Acordeon3?n("div",{staticClass:"accordion_content"},[n("p",[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.")])]):t._e()])])])])])]),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),t._m(15),t._m(16)])},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"mogo-header"},[i("div",{staticClass:"mogo-container"},[i("div",{staticClass:"mogo-header_inner"},[i("div",{staticClass:"mogo-header_logo"},[t._v("MoGo")]),i("nav",{staticClass:"nav"},[i("a",{staticClass:"nav_link active",attrs:{href:"#"}},[t._v("About")]),i("a",{staticClass:"nav_link",attrs:{href:"#"}},[t._v("Service")]),i("a",{staticClass:"nav_link",attrs:{href:"#"}},[t._v("Blog")]),i("a",{staticClass:"nav_link",attrs:{href:"#"}},[t._v("Work")]),i("a",{staticClass:"nav_link",attrs:{href:"#"}},[t._v("Contact")])])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"intro"},[i("div",{staticClass:"mogo-container"},[i("div",{staticClass:"intro_inner"},[i("h2",{staticClass:"intro_suptitle"},[t._v("Creative Template")]),i("h1",{staticClass:"intro_title"},[t._v("Welcome to MoGo")]),i("a",{staticClass:"btn",attrs:{href:"#"}},[t._v("Learn more")])])]),i("div",{staticClass:"slider"},[i("div",{staticClass:"mogo-container"},[i("div",{staticClass:"slider_inner"},[i("div",{staticClass:"slider_item active"},[i("span",{staticClass:"slider_num"},[t._v("01")]),t._v(" intro ")]),i("div",{staticClass:"slider_item"},[i("span",{staticClass:"slider_num"},[t._v("02")]),t._v(" work ")]),i("div",{staticClass:"slider_item"},[i("span",{staticClass:"slider_num"},[t._v("03")]),t._v(" about ")]),i("div",{staticClass:"slider_item"},[i("span",{staticClass:"slider_num"},[t._v("04")]),t._v(" contacts ")])])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section"},[n("div",{staticClass:"mogo-container"},[n("div",{staticClass:"section_mogo-header"},[n("h3",{staticClass:"section_suptitle"},[t._v("What we do")]),n("h2",{staticClass:"section_title"},[t._v("Story about us")]),n("div",{staticClass:"section_text"},[n("p",[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.")])])]),n("div",{staticClass:"about"},[n("div",{staticClass:"about_item"},[n("img",{staticClass:"about_image",attrs:{src:i("abb7"),alt:""}}),n("div",{staticClass:"about_test"},[t._v("supper team")])]),n("div",{staticClass:"about_item"},[n("img",{staticClass:"about_image",attrs:{src:i("46db"),alt:""}}),n("div",{staticClass:"about_test"},[t._v("supper team")])]),n("div",{staticClass:"about_item"},[n("img",{staticClass:"about_image",attrs:{src:i("532c"),alt:""}}),n("div",{staticClass:"about_test"},[t._v("supper team")])])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"statistics section-small"},[i("div",{staticClass:"stat"},[i("div",{staticClass:"stat_item"},[i("div",{staticClass:"stat_count"},[t._v("42")]),i("div",{staticClass:"stat_text"},[t._v("Web Design Projects")])]),i("div",{staticClass:"stat_item"},[i("div",{staticClass:"stat_count"},[t._v("123")]),i("div",{staticClass:"stat_text"},[t._v("happy client")])]),i("div",{staticClass:"stat_item"},[i("div",{staticClass:"stat_count"},[t._v("15")]),i("div",{staticClass:"stat_text"},[t._v("award winner")])]),i("div",{staticClass:"stat_item"},[i("div",{staticClass:"stat_count"},[t._v("99")]),i("div",{staticClass:"stat_text"},[t._v("cup of coffee")])]),i("div",{staticClass:"stat_item"},[i("div",{staticClass:"stat_count"},[t._v("24")]),i("div",{staticClass:"stat_text"},[t._v("members")])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section"},[n("div",{staticClass:"mogo-container"},[n("div",{staticClass:"section_mogo-header"},[n("h3",{staticClass:"section_suptitle"},[t._v("We work with")]),n("h2",{staticClass:"section_title"},[t._v("Amazing Services")])]),n("div",{staticClass:"services"},[n("div",{staticClass:"services_item"},[n("img",{staticClass:"servise_icon",attrs:{src:i("4f23"),alt:""}}),n("div",{staticClass:"servises_title"},[t._v("Photography")]),n("div",{staticClass:"servises_text"},[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor.")])]),n("div",{staticClass:"services_item"},[n("img",{staticClass:"servise_icon",attrs:{src:i("1ec6"),alt:""}}),n("div",{staticClass:"servises_title"},[t._v("Web Design")]),n("div",{staticClass:"servises_text"},[t._v("Ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor. ")])]),n("div",{staticClass:"services_item"},[n("img",{staticClass:"servise_icon",attrs:{src:i("5945"),alt:""}}),n("div",{staticClass:"servises_title"},[t._v("Creativity")]),n("div",{staticClass:"servises_text"},[t._v("Dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor.")])])]),n("hr"),n("div",{staticClass:"services"},[n("div",{staticClass:"services_item"},[n("img",{staticClass:"servise_icon",attrs:{src:i("6a5e"),alt:""}}),n("div",{staticClass:"servises_title"},[t._v("Seo")]),n("div",{staticClass:"servises_text"},[t._v("Ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod.")])]),n("div",{staticClass:"services_item"},[n("img",{staticClass:"servise_icon",attrs:{src:i("dbf8"),alt:""}}),n("div",{staticClass:"servises_title"},[t._v("Css/Html")]),n("div",{staticClass:"servises_text"},[t._v("Lorem dolor sit amet, consectetur adipiscing elit, sed do tempor. ")])]),n("div",{staticClass:"services_item"},[n("img",{staticClass:"servise_icon",attrs:{src:i("97d3"),alt:""}}),n("div",{staticClass:"servises_title"},[t._v("digital")]),n("div",{staticClass:"servises_text"},[t._v("Sit amet, consectetur adipiscing elit, sed do eiusmod tempor.")])])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section section--devices"},[n("div",{staticClass:"mogo-container"},[n("div",{staticClass:"section_mogo-header"},[n("h3",{staticClass:"section_suptitle"},[t._v("For all devices")]),n("h2",{staticClass:"section_title"},[t._v("Unique design")])]),n("div",{staticClass:"devices"},[n("img",{staticClass:"devices_item",attrs:{src:i("5184"),align:""}}),n("img",{staticClass:"devices_item devices_item--iphone",attrs:{src:i("9d93"),align:""}})])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section_mogo-header"},[i("h3",{staticClass:"section_suptitle"},[t._v("Service")]),i("h2",{staticClass:"section_title"},[t._v("what we do")]),i("div",{staticClass:"section_text"},[t._v(" Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wedo_item"},[n("img",{staticClass:"wedo_image",attrs:{src:i("8fe5")}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section section--gray "},[n("div",{staticClass:"mogo-container"},[n("div",{staticClass:"reviews"},[n("div",{staticClass:"reviews_item"},[n("img",{staticClass:"reviews_image",attrs:{src:i("5eab")}}),n("div",{staticClass:"rewies_text"},[t._v("“Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation.”")]),n("div",{staticClass:"reviews_author"},[t._v("Jon Doe")])])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section"},[n("div",{staticClass:"mogo-container"},[n("div",{staticClass:"section_mogo-header"},[n("h3",{staticClass:"section_suptitle"},[t._v("Who we are")]),n("h2",{staticClass:"section_title"},[t._v("Meet our team")]),n("div",{staticClass:"section_text"},[n("p",[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. ")])])]),n("div",{staticClass:"about"},[n("div",{staticClass:"about_item"},[n("div",{staticClass:"about_inner"},[n("div",{staticClass:"about_image"},[n("img",{attrs:{src:i("69cf"),alt:""}})]),n("div",{staticClass:"about_test"},[n("div",{staticClass:"social"},[n("a",{staticClass:"social_item",attrs:{href:"#",target:"_blank"}},[n("img",{attrs:{src:i("501c"),alt:""}})]),n("a",{staticClass:"social_item",attrs:{href:"#",target:"_blank"}},[n("img",{attrs:{src:i("e721"),alt:""}})]),n("a",{staticClass:"social_item",attrs:{href:"#",target:"_blank"}},[n("img",{attrs:{src:i("05a8"),alt:""}})]),n("a",{staticClass:"social_item",attrs:{href:"#",target:"_blank"}},[n("img",{attrs:{src:i("be2e"),alt:""}})])])])]),n("div",{staticClass:"who_we_are_name"},[t._v("Matthew Dix")]),n("div",{staticClass:"who_we_are_position"},[t._v("Graphic Design")])]),n("div",{staticClass:"about_item"},[n("div",{staticClass:"about_inner"},[n("div",{staticClass:"about_image"},[n("img",{attrs:{src:i("ae33"),alt:""}})]),n("div",{staticClass:"about_test"},[n("div",{staticClass:"social"},[n("a",{staticClass:"social_item",attrs:{href:"#",target:"_blank"}},[n("img",{attrs:{src:i("501c"),alt:""}})]),n("a",{staticClass:"social_item",attrs:{href:"#",target:"_blank"}},[n("img",{attrs:{src:i("e721"),alt:""}})]),n("a",{staticClass:"social_item",attrs:{href:"#",target:"_blank"}},[n("img",{attrs:{src:i("05a8"),alt:""}})]),n("a",{staticClass:"social_item",attrs:{href:"#",target:"_blank"}},[n("img",{attrs:{src:i("be2e"),alt:""}})])])])]),n("div",{staticClass:"who_we_are_name"},[t._v("Christopher Campbell")]),n("div",{staticClass:"who_we_are_position"},[t._v("Branding/UX design")])]),n("div",{staticClass:"about_item"},[n("div",{staticClass:"about_inner"},[n("div",{staticClass:"about_image"},[n("img",{attrs:{src:i("7898"),alt:""}})]),n("div",{staticClass:"about_test"},[n("div",{staticClass:"social"},[n("a",{staticClass:"social_item",attrs:{href:"#",target:"_blank"}},[n("img",{attrs:{src:i("501c"),alt:""}})]),n("a",{staticClass:"social_item",attrs:{href:"#",target:"_blank"}},[n("img",{attrs:{src:i("e721"),alt:""}})]),n("a",{staticClass:"social_item",attrs:{href:"#",target:"_blank"}},[n("img",{attrs:{src:i("05a8"),alt:""}})]),n("a",{staticClass:"social_item",attrs:{href:"#",target:"_blank"}},[n("img",{attrs:{src:i("be2e"),alt:""}})])])])]),n("div",{staticClass:"who_we_are_name"},[t._v("Branding/UX design")]),n("div",{staticClass:"who_we_are_position"},[t._v("Developer")])])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section section--gray"},[n("div",{staticClass:"mogo-container"},[n("div",{staticClass:"emblems"},[n("div",{staticClass:"emblems_item"},[n("img",{staticClass:"emblems_image",attrs:{src:i("21e9")}})]),n("div",{staticClass:"emblems_item"},[n("img",{staticClass:"emblems_image",attrs:{src:i("7cb3")}})]),n("div",{staticClass:"emblems_item"},[n("img",{staticClass:"emblems_image",attrs:{src:i("2c12")}})]),n("div",{staticClass:"emblems_item"},[n("img",{staticClass:"emblems_image",attrs:{src:i("9f4b")}})]),n("div",{staticClass:"emblems_item"},[n("img",{staticClass:"emblems_image",attrs:{src:i("2ff2")}})]),n("div",{staticClass:"emblems_item"},[n("img",{staticClass:"emblems_image",attrs:{src:i("f39c")}})])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section"},[n("div",{staticClass:"mogo-container"},[n("div",{staticClass:"section_mogo-header"},[n("h3",{staticClass:"section_suptitle"},[t._v("What we do")]),n("h2",{staticClass:"section_title"},[t._v("some of our work")]),n("div",{staticClass:"section_text"},[n("p",[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. ")])])])]),n("div",{staticClass:"galery"},[n("div",{staticClass:"galery_col"},[n("div",{staticClass:"galery_item"},[n("img",{staticClass:"galery_image",attrs:{src:i("43cf"),alt:""}}),n("div",{staticClass:"galery_info"},[n("div",{staticClass:"galery_title"},[t._v("Creatively designed")]),n("div",{staticClass:"galery_text"},[t._v("Lorem ipsum dolor sit")])])]),n("div",{staticClass:"galery_item"},[n("img",{staticClass:"galery_image",attrs:{src:i("3342"),alt:""}}),n("div",{staticClass:"galery_info"},[n("div",{staticClass:"galery_title"},[t._v("Creatively designed")]),n("div",{staticClass:"galery_text"},[t._v("Lorem ipsum dolor sit")])])])]),n("div",{staticClass:"galery_col"},[n("div",{staticClass:"galery_item"},[n("img",{staticClass:"galery_image",attrs:{src:i("44aa"),alt:""}}),n("div",{staticClass:"galery_info"},[n("div",{staticClass:"galery_title"},[t._v("Creatively designed")]),n("div",{staticClass:"galery_text"},[t._v("Lorem ipsum dolor sit")])])]),n("div",{staticClass:"galery_item"},[n("img",{staticClass:"galery_image",attrs:{src:i("c879"),alt:""}}),n("div",{staticClass:"galery_info"},[n("div",{staticClass:"galery_title"},[t._v("Creatively designed")]),n("div",{staticClass:"galery_text"},[t._v("Lorem ipsum dolor sit")])])])]),n("div",{staticClass:"galery_col"},[n("div",{staticClass:"galery_item"},[n("img",{staticClass:"galery_image",attrs:{src:i("f510"),alt:""}}),n("div",{staticClass:"galery_info"},[n("div",{staticClass:"galery_title"},[t._v("Creatively designed")]),n("div",{staticClass:"galery_text"},[t._v("Lorem ipsum dolor sit")])])])]),n("div",{staticClass:"galery_col"},[n("div",{staticClass:"galery_item"},[n("img",{staticClass:"galery_image",attrs:{src:i("d71a"),alt:""}}),n("div",{staticClass:"galery_info"},[n("div",{staticClass:"galery_title"},[t._v("Creatively designed")]),n("div",{staticClass:"galery_text"},[t._v("Lorem ipsum dolor sit")])])]),n("div",{staticClass:"galery_item"},[n("img",{staticClass:"galery_image",attrs:{src:i("88aa"),alt:""}}),n("div",{staticClass:"galery_info"},[n("div",{staticClass:"galery_title"},[t._v("Creatively designed")]),n("div",{staticClass:"galery_text"},[t._v("Lorem ipsum dolor sit")])])])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section section--gray"},[n("div",{staticClass:"mogo-container"},[n("div",{staticClass:"reviews"},[n("div",{staticClass:"reviews_item reviews_item--photo "},[n("img",{staticClass:"reviews_image",attrs:{src:i("5eab")}}),n("div",{staticClass:"rewies_text"},[t._v("“Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation.”")]),n("div",{staticClass:"reviews_author"},[t._v("Joshua Earle")])])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section section--devices"},[n("div",{staticClass:"mogo-container"},[n("div",{staticClass:"section_mogo-header"},[n("h3",{staticClass:"section_suptitle"},[t._v("Happy Clients")]),n("h2",{staticClass:"section_title"},[t._v("What people say")])]),n("div",{staticClass:"people"},[n("div",{staticClass:"people_col"},[n("div",{staticClass:"people_item"},[n("div",{staticClass:"people_photo"},[n("img",{staticClass:"photo",attrs:{src:i("e75c"),alt:""}})]),n("div",{staticClass:"people_inner"},[n("div",{staticClass:"people_title"},[t._v("Matthew Dix")]),n("div",{staticClass:"position"},[t._v("Graphic Design")]),n("div",{staticClass:"people_text"},[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim.")])])]),n("div",{staticClass:"people_item"},[n("div",{staticClass:"people_photo"},[n("img",{staticClass:"photo",attrs:{src:i("9faa"),alt:""}})]),n("div",{staticClass:"people_inner"},[n("div",{staticClass:"people_title"},[t._v("Nick Karvounis")]),n("div",{staticClass:"position"},[t._v("Mike Petrucci")]),n("div",{staticClass:"people_text"},[t._v("Sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam.")])])])]),n("div",{staticClass:"people_col"},[n("div",{staticClass:"people_item"},[n("div",{staticClass:"people_photo"},[n("img",{staticClass:"photo",attrs:{src:i("aae3"),alt:""}})]),n("div",{staticClass:"people_inner"},[n("div",{staticClass:"people_title"},[t._v("Jaelynn Castillo ")]),n("div",{staticClass:"position"},[t._v("Graphic Design")]),n("div",{staticClass:"people_text"},[t._v("Ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam.")])])]),n("div",{staticClass:"people_item"},[n("div",{staticClass:"people_photo"},[n("img",{staticClass:"photo",attrs:{src:i("12e0"),alt:""}})]),n("div",{staticClass:"people_inner"},[n("div",{staticClass:"people_title"},[t._v("Matthew Dix")]),n("div",{staticClass:"position"},[t._v("Graphic Design")]),n("div",{staticClass:"people_text"},[t._v("Dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim.")])])])])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section"},[n("div",{staticClass:"mogo-container"},[n("div",{staticClass:"section_mogo-header"},[n("h3",{staticClass:"section_suptitle"},[t._v("Our stories")]),n("h2",{staticClass:"section_title"},[t._v("Latest blog")])]),n("div",{staticClass:"blog"},[n("div",{staticClass:"blog_item"},[n("div",{staticClass:"blog_image"},[n("img",{attrs:{src:i("84a1"),alt:""}})]),n("div",{staticClass:"blog_inner"},[n("div",{staticClass:"blog_title"},[t._v("Lorem ipsum dolor sit amet")]),n("div",{staticClass:"blog_text"},[t._v("Consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.")]),n("div",{staticClass:"blog_views"},[n("img",{staticClass:"blog_icon",attrs:{src:i("f29f"),alt:""}}),n("div",{staticClass:"blog_view"},[t._v("543")]),n("img",{staticClass:"blog_icon blog_icon--coment ",attrs:{src:i("1307"),alt:""}}),n("div",{staticClass:"blog_coment"},[t._v("543")])])])]),n("div",{staticClass:"blog_item"},[n("div",{staticClass:"blog_image"},[n("img",{attrs:{src:i("ddce"),alt:""}})]),n("div",{staticClass:"blog_inner"},[n("div",{staticClass:"blog_title"},[t._v("sed do eiusmod tempor")]),n("div",{staticClass:"blog_text"},[t._v("Adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.")]),n("div",{staticClass:"blog_views"},[n("img",{staticClass:"blog_icon",attrs:{src:i("f29f"),alt:""}}),n("div",{staticClass:"blog_view"},[t._v("543")]),n("img",{staticClass:"blog_icon blog_icon--coment ",attrs:{src:i("1307"),alt:""}}),n("div",{staticClass:"blog_coment"},[t._v("543")])])])]),n("div",{staticClass:"blog_item"},[n("div",{staticClass:"blog_image"},[n("img",{attrs:{src:i("4ac3"),alt:""}})]),n("div",{staticClass:"blog_inner"},[n("div",{staticClass:"blog_title"},[t._v("incididunt ut labore et dolore")]),n("div",{staticClass:"blog_text"},[t._v("Elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.")]),n("div",{staticClass:"blog_views"},[n("img",{staticClass:"blog_icon",attrs:{src:i("f29f"),alt:""}}),n("div",{staticClass:"blog_view"},[t._v("543")]),n("img",{staticClass:"blog_icon blog_icon--coment ",attrs:{src:i("1307"),alt:""}}),n("div",{staticClass:"blog_coment"},[t._v("543")])])])])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section section--devices map section-small"},[n("div",{staticClass:"mogo-container"},[n("div",{staticClass:"open_map"},[n("img",{staticClass:"map_icon",attrs:{src:i("534c"),alt:""}}),n("div",{staticClass:"map_text"},[t._v("Open map")])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer"},[n("div",{staticClass:"mogo-container"},[n("div",{staticClass:"footer_mogo"},[n("div",{staticClass:"footer_mogo_col"},[n("div",{staticClass:"footer_mogo_logo"},[t._v("MoGo")]),n("div",{staticClass:"footer_mogo_text"},[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. ")]),n("div",{staticClass:"footer_mogo_follower"},[n("b",[t._v("15k")]),t._v(" followers")]),n("div",{staticClass:"footer_mogo_follow_us"},[t._v(" Follow Us: "),n("i",{staticClass:"fab fa-facebook-square about_mogo_icon"}),n("i",{staticClass:"fab fa-twitter about_mogo_icon"}),n("i",{staticClass:"fab fa-instagram about_mogo_icon"}),n("i",{staticClass:"fab fa-pinterest-p about_mogo_icon"}),n("i",{staticClass:"fab fa-google-plus-g about_mogo_icon"}),n("i",{staticClass:"fab fa-youtube about_mogo_icon"}),n("a",{staticClass:"fab fa-tumblr about_mogo_icon"})]),n("div",{staticClass:"about_mogo_subscribe"},[n("div",{staticClass:"about_mogo_your_email"},[t._v("Your Email...")]),n("div",{staticClass:"about_mogo_subscribe_btn"},[t._v("Subscribe")])])]),n("div",{staticClass:"about_mogo_col"},[n("div",{staticClass:"about_mogo_title "},[t._v("blogs")]),n("div",{staticClass:"about_mogo_item"},[n("img",{staticClass:"about_mogo_item_img",attrs:{src:i("418b"),alt:""}}),n("div",{staticClass:"about_mogo_item_text"},[n("div",{staticClass:"about_mogo_title about_mogo_title--new"},[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing")]),n("div",{staticClass:"about_mogo_item_date"},[t._v("Jan 9, 2016")])])]),n("div",{staticClass:"about_mogo_item"},[n("img",{staticClass:"about_mogo_item_img",attrs:{src:i("5e25"),alt:""}}),n("div",{staticClass:"about_mogo_item_text"},[n("div",{staticClass:"about_mogo_title about_mogo_title--new"},[t._v("Consectetur adipiscing elit, sed do eiusmod tempor")]),n("div",{staticClass:"about_mogo_item_date"},[t._v("Jan 9, 2016")])])]),n("div",{staticClass:"about_mogo_item"},[n("img",{staticClass:"about_mogo_item_img",attrs:{src:i("7139"),alt:""}}),n("div",{staticClass:"about_mogo_item_text"},[n("div",{staticClass:"about_mogo_title about_mogo_title--new"},[t._v("sed do eiusmod tempor incididunt ut labore")]),n("div",{staticClass:"about_mogo_item_date"},[t._v("Jan 9, 2016")])])])]),n("div",{staticClass:"about_mogo_col"},[n("div",{staticClass:"about_mogo_title"},[t._v("instagram")]),n("div",{staticClass:"about_mogo_instagram"},[n("img",{staticClass:"about_mogo_instagram_img",attrs:{src:i("4f49"),alt:""}}),n("img",{staticClass:"about_mogo_instagram_img",attrs:{src:i("086b"),alt:""}}),n("img",{staticClass:"about_mogo_instagram_img",attrs:{src:i("7fd9"),alt:""}}),n("img",{staticClass:"about_mogo_instagram_img",attrs:{src:i("e39f"),alt:""}}),n("img",{staticClass:"about_mogo_instagram_img",attrs:{src:i("3463"),alt:""}}),n("img",{staticClass:"about_mogo_instagram_img",attrs:{src:i("0e4a"),alt:""}}),n("img",{staticClass:"about_mogo_instagram_img",attrs:{src:i("14ba"),alt:""}}),n("img",{staticClass:"about_mogo_instagram_img",attrs:{src:i("5f64"),alt:""}}),n("img",{staticClass:"about_mogo_instagram_img",attrs:{src:i("96b4"),alt:""}})]),n("a",{staticClass:"about_mogo_instagram_more",attrs:{href:"#"}},[t._v("View more photos")])])])])])}],a={data:function(){return{Acordeon1:!1,Acordeon2:!1,Acordeon3:!1}},methods:{showAcordeon1:function(){this.Acordeon1=!this.Acordeon1,this.Acordeon2=!1,this.Acordeon3=!1},showAcordeon2:function(){this.Acordeon2=!this.Acordeon2,this.Acordeon1=!1,this.Acordeon3=!1},showAcordeon3:function(){this.Acordeon3=!this.Acordeon3,this.Acordeon1=!1,this.Acordeon2=!1}}},o=a,s=(i("9768"),i("2877")),c=Object(s["a"])(o,n,r,!1,null,"d6ed8a58",null);e["default"]=c.exports},"12e0":function(t,e,i){t.exports=i.p+"img/4.9d7b1ae7.png"},1307:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmNjY3YjExZC0xMjlhLWJkNDAtYjY0ZS1lMzJhNWU5ODM1ZTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTg0MTRCNkVFQUNFMTFFOUI5MTlDNjA5MDhBNzdGNTgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTg0MTRCNkRFQUNFMTFFOUI5MTlDNjA5MDhBNzdGNTgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OWYyOWNhMDgtMDFlNC0yYzQyLWFiYzItZTYxMmUxMWYzZmEyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmY2NjdiMTFkLTEyOWEtYmQ0MC1iNjRlLWUzMmE1ZTk4MzVlOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv9ikuMAAAE0SURBVHjalNK7K8VhHMfx3znO5DK5lGySRG4lGc9g4B/AzH7KwGYwUspALoVNMVLOItlMLkW5D6dMBh2XmMj7U59Tj1/inG+96vdcvt+n5/v8Eou58ygWLRhCHxpQiWfc4BCbeClsTgWJzZjHYPR7dGMYs5jEsiaTXlTSyR/JYVRhCTOFAk3YQkVUWkwgrQJTrqr4RD7Y9I6PYJz3HkUCGRUY8MQb2lCNdRyj3s6w4rV2F1ak1cQaD65NsYOnoNvqfhZfuPSLdOmFVOAKrZ4Y9cnqciP2UObu9+ARvehw4TsVWPXzaeNarFEHwbeuchpb31YPFrAblR45zCXd1RE3rti4Rz9ek8FzjeHon8QHTKNT94//yuX+qSJ3O4ML1Okk3PrkH5EKkjdQ66Rx7Bdzl28BBgB4TUHVSwGuFQAAAABJRU5ErkJggg=="},"14ba":function(t,e,i){t.exports=i.p+"img/7.617b8ef7.png"},"15ee":function(t,e,i){t.exports=i.p+"img/go_surf.6ca7d92b.svg"},"1bb8":function(t,e,i){t.exports=i.p+"img/arrows_right.53c40bc2.svg"},"1c8c":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"VisitCartReview"},[n("img",{staticClass:"visitCart1",attrs:{src:i("da06"),alt:""}}),n("img",{staticClass:"visitCart2",attrs:{src:i("da06"),alt:""}})])}],a={},o=a,s=(i("5afd"),i("2877")),c=Object(s["a"])(o,n,r,!1,null,null,null);e["default"]=c.exports},"1dbf":function(t,e,i){t.exports=i.p+"img/earthbump.48a74641.jpg"},"1ec6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAgCAYAAAB3j6rJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmNjY3YjExZC0xMjlhLWJkNDAtYjY0ZS1lMzJhNWU5ODM1ZTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0ZCMTFENTlFOTI0MTFFOTg5QzBCRDk4NENEQ0VEMDQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0ZCMTFENThFOTI0MTFFOTg5QzBCRDk4NENEQ0VEMDQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OWYyOWNhMDgtMDFlNC0yYzQyLWFiYzItZTYxMmUxMWYzZmEyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmY2NjdiMTFkLTEyOWEtYmQ0MC1iNjRlLWUzMmE1ZTk4MzVlOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pqq6oCsAAAGBSURBVHja7NjPKwRhHMfxZ9cmqZV/wK+rNiVKkoMTFwcufuTq4sBFHLZcRLYcnJzc/Fi52Bzl6IC4sEWRIsXBUWGzxnv0nXqaZmTmMA81T71q95lp5rOfp31m24RlWWr1vriglJpGpYp2lLA8UZ/JJmVi1kAIJfe0C1BOkAplbnwXkPI4kIgogKW/Sao/MuIgcZA4yL8NkoroPvbOPYIytt2bWZAg9nlDcoEdfAQI0YB1dGursBlmadpwhA25wCGafxliDOdaCN9HyE9B0ljBsYRxRgfO5Int12gt8tJEjczZLc5hK0iQJlxgSnsyv+JdXldhyaedHmlhWJu7QRfm8RkkyKCsrTP2kUE7Tn3aqUYOB6jTzllDK07CfH33cIcHjKIXtyiiE1mPdp4wo13zGQMYx0vYfeQajfLJ8q5j9loverSTdjXYgkIUG5pXO2+YRB8eo9zQnHZ20S9LemVyZ70U8UMvDhIHMfrDyDLZSNlgGSU9SM6ZMPG3hP3iS4ABAIIyT4fs6NR6AAAAAElFTkSuQmCC"},"21e9":function(t,e,i){t.exports=i.p+"img/1.94ebe07e.png"},"25f5":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"activebox"},[n("section",{staticClass:"section"},[n("div",{staticClass:"intro"},[n("div",{staticClass:"container"},[n("header",{staticClass:"header"},[n("div",{staticClass:"header_inner"},[n("div",{staticClass:"header_active"},[t._v("active")]),n("div",{staticClass:"header_box"},[t._v("box")])]),n("div",{staticClass:"header_inner"},[n("a",{staticClass:"navigation",attrs:{href:""}},[t._v("Features")]),n("a",{staticClass:"navigation",attrs:{href:""}},[t._v("Works")]),n("a",{staticClass:"navigation",attrs:{href:""}},[t._v("Our")]),n("a",{staticClass:"navigation",attrs:{href:""}},[t._v("Testimonials")]),n("a",{staticClass:"navigation",attrs:{href:""}},[t._v("Download")])])]),n("div",{staticClass:"intro_inner"},[n("div",{staticClass:"intro_title"},[t._v("Your Favorite One Page Multi Purpose Template")]),n("div",{staticClass:"intro_subtitle"},[t._v("Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent commodo cursus magna vel scelerisque nisl consectetur et.")]),n("button",{staticClass:"intro_btn"},[t._v("Find Out More")])])])])]),n("section",{staticClass:"section"},[n("div",{staticClass:"container"},[n("div",{staticClass:"function"},[n("div",{staticClass:"function_inner"},[n("img",{staticClass:"img",attrs:{src:i("dd0c"),alt:""}}),n("div",{staticClass:"function_inner_title"},[t._v("Easily Customised")]),n("div",{staticClass:"function_inner_text"},[t._v(" Cras justo odio, dapibus ac facilisis in, egestas eget quam. Nullam quis risus eget urna mollis ornare vel eu leo. Donec ullamcorper nulla non metus auctor fringilla. ")])]),n("div",{staticClass:"function_inner"},[n("img",{staticClass:"img",attrs:{src:i("80b3"),alt:""}}),n("div",{staticClass:"function_inner_title"},[t._v("Responsive REady")]),n("div",{staticClass:"function_inner_text"},[t._v(" Cras justo odio, dapibus ac facilisis in, egestas eget quam. Nullam quis risus eget urna mollis ornare vel eu leo. Donec ullamcorper nulla non metus auctor fringilla. ")])]),n("div",{staticClass:"function_inner"},[n("img",{staticClass:"img",attrs:{src:i("cde2"),alt:""}}),n("div",{staticClass:"function_inner_title"},[t._v("Modern Design")]),n("div",{staticClass:"function_inner_text"},[t._v(" Cras justo odio, dapibus ac facilisis in, egestas eget quam. Nullam quis risus eget urna mollis ornare vel eu leo. Donec ullamcorper nulla non metus auctor fringilla. ")])])]),n("div",{staticClass:"function"},[n("div",{staticClass:"function_inner"},[n("img",{staticClass:"img",attrs:{src:i("e867"),alt:""}}),n("div",{staticClass:"function_inner_title"},[t._v("Clean Code")]),n("div",{staticClass:"function_inner_text"},[t._v(" Cras justo odio, dapibus ac facilisis in, egestas eget quam. Nullam quis risus eget urna mollis ornare vel eu leo. Donec ullamcorper nulla non metus auctor fringilla. ")])]),n("div",{staticClass:"function_inner"},[n("img",{staticClass:"img",attrs:{src:i("928d"),alt:""}}),n("div",{staticClass:"function_inner_title"},[t._v("Ready to Ship")]),n("div",{staticClass:"function_inner_text"},[t._v(" Cras justo odio, dapibus ac facilisis in, egestas eget quam. Nullam quis risus eget urna mollis ornare vel eu leo. Donec ullamcorper nulla non metus auctor fringilla. ")])]),n("div",{staticClass:"function_inner"},[n("img",{staticClass:"img",attrs:{src:i("ce81"),alt:""}}),n("div",{staticClass:"function_inner_title"},[t._v("Download for Free")]),n("div",{staticClass:"function_inner_text"},[t._v(" Cras justo odio, dapibus ac facilisis in, egestas eget quam. Nullam quis risus eget urna mollis ornare vel eu leo. Donec ullamcorper nulla non metus auctor fringilla. ")])])])])]),n("div",{staticClass:"galery"},[n("div",{staticClass:"galery_col"},[n("div",{staticClass:"galery_item"},[n("img",{staticClass:"galery_image",attrs:{src:i("fe68"),alt:""}}),n("div",{staticClass:"galery_info"},[n("div",{staticClass:"galery_title"},[t._v("Project Name")]),n("div",{staticClass:"galery_text"},[t._v("User Interface Design")])])]),n("div",{staticClass:"galery_item"},[n("img",{staticClass:"galery_image",attrs:{src:i("fe68"),alt:""}}),n("div",{staticClass:"galery_info"},[n("div",{staticClass:"galery_title"},[t._v("Project Name")]),n("div",{staticClass:"galery_text"},[t._v("User Interface Design")])])])]),n("div",{staticClass:"galery_col"},[n("div",{staticClass:"galery_item"},[n("img",{staticClass:"galery_image",attrs:{src:i("fe68"),alt:""}}),n("div",{staticClass:"galery_info"},[n("div",{staticClass:"galery_title"},[t._v("Project Name")]),n("div",{staticClass:"galery_text"},[t._v("User Interface Design")])])]),n("div",{staticClass:"galery_item"},[n("img",{staticClass:"galery_image",attrs:{src:i("fe68"),alt:""}}),n("div",{staticClass:"galery_info"},[n("div",{staticClass:"galery_title"},[t._v("Project Name")]),n("div",{staticClass:"galery_text"},[t._v("User Interface Design")])])])]),n("div",{staticClass:"galery_col"},[n("div",{staticClass:"galery_item"},[n("img",{staticClass:"galery_image",attrs:{src:i("fe68"),alt:""}}),n("div",{staticClass:"galery_info"},[n("div",{staticClass:"galery_title"},[t._v("Project Name")]),n("div",{staticClass:"galery_text"},[t._v("User Interface Design")])])]),n("div",{staticClass:"galery_item"},[n("img",{staticClass:"galery_image",attrs:{src:i("fe68"),alt:""}}),n("div",{staticClass:"galery_info"},[n("div",{staticClass:"galery_title"},[t._v("Project Name")]),n("div",{staticClass:"galery_text"},[t._v("User Interface Design")])])])]),n("div",{staticClass:"galery_col"},[n("div",{staticClass:"galery_item"},[n("img",{staticClass:"galery_image",attrs:{src:i("fe68"),alt:""}}),n("div",{staticClass:"galery_info"},[n("div",{staticClass:"galery_title"},[t._v("Project Name")]),n("div",{staticClass:"galery_text"},[t._v("User Interface Design")])])]),n("div",{staticClass:"galery_item"},[n("img",{staticClass:"galery_image",attrs:{src:i("fe68"),alt:""}}),n("div",{staticClass:"galery_info"},[n("div",{staticClass:"galery_title"},[t._v("Project Name")]),n("div",{staticClass:"galery_text"},[t._v("User Interface Design")])])])])]),n("section",{staticClass:"section"},[n("div",{staticClass:"container"},[n("div",{staticClass:"people"},[n("div",{staticClass:"people_inner"},[n("img",{staticClass:"people_photo",attrs:{src:i("3bc0"),alt:""}}),n("div",{staticClass:"people_name"},[t._v("Ruth Woods")]),n("div",{staticClass:"people_position"},[t._v("Founder, CEO")]),n("div",{staticClass:"people_text"},[t._v(" Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Maecenas sed diam eget risus varius blandit sit amet non magna. Nullam quis risus eget urna mollis ornare vel eu leo. ")]),n("div",{staticClass:"people_link"},[n("i",{staticClass:"fab fa-facebook-f icon active"}),n("i",{staticClass:"fab fa-twitter icon active"}),n("i",{staticClass:"fab fa-instagram icon active"})])]),n("div",{staticClass:"people_inner"},[n("img",{staticClass:"people_photo",attrs:{src:i("4a20"),alt:""}}),n("div",{staticClass:"people_name"},[t._v("Timothy Reed")]),n("div",{staticClass:"people_position"},[t._v("Co-Founder, Developer")]),n("div",{staticClass:"people_text"},[t._v(" Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Maecenas sed diam eget risus varius blandit sit amet non magna. Nullam quis risus eget urna mollis ornare vel eu leo. ")]),n("div",{staticClass:"people_link"},[n("i",{staticClass:"fab fa-facebook-f icon active"}),n("i",{staticClass:"fab fa-twitter icon active"}),n("i",{staticClass:"fab fa-instagram icon active"})])]),n("div",{staticClass:"people_inner"},[t._v(" active "),n("img",{staticClass:"people_photo",attrs:{src:i("e02c"),alt:""}}),n("div",{staticClass:"people_name"},[t._v("Victoria Valdez")]),n("div",{staticClass:"people_position"},[t._v("UI Designer")]),n("div",{staticClass:"people_text"},[t._v(" Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Maecenas sed diam eget risus varius blandit sit amet non magna. Nullam quis risus eget urna mollis ornare vel eu leo. ")]),n("div",{staticClass:"people_link"},[n("i",{staticClass:"fab fa-facebook-f icon active"}),n("i",{staticClass:"fab fa-twitter icon active"}),n("i",{staticClass:"fab fa-instagram icon active"})])]),n("div",{staticClass:"people_inner"},[n("img",{staticClass:"people_photo",attrs:{src:i("471b"),alt:""}}),n("div",{staticClass:"people_name"},[t._v("Beverly Little")]),n("div",{staticClass:"people_position"},[t._v("Data Scientist")]),n("div",{staticClass:"people_text"},[t._v(" Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Maecenas sed diam eget risus varius blandit sit amet non magna. Nullam quis risus eget urna mollis ornare vel eu leo. ")]),n("div",{staticClass:"people_link"},[n("i",{staticClass:"fab fa-facebook-f icon active "}),n("i",{staticClass:"fab fa-twitter icon active"}),n("i",{staticClass:"fab fa-instagram icon active"})])])])])]),n("div",{staticClass:"comment"},[n("div",{staticClass:"comment_inner"},[n("img",{staticClass:"comment_img",attrs:{src:i("099c"),alt:""}}),n("div",{staticClass:"comment_content"},[n("div",{staticClass:"comment_text"},[t._v(" “Integer posuere erat a ante venenatis dapibus posuere velit aliquet. Donec sed odio dui. Aenean eu leo quam...” ")]),n("div",{staticClass:"comment_text_who"},[t._v(" Susan Sims, Interaction Designer at XYZ ")])])])]),n("div",{staticClass:"ready"},[n("div",{staticClass:"comtainer"},[n("div",{staticClass:"ready_inner"},[n("div",{staticClass:"ready_title"},[t._v(" Are You Ready to Start? Download Now For Free! ")]),n("div",{staticClass:"ready_subtitle"},[t._v(" Fusce dapibus, tellus ac cursus commodo ")]),n("button",{staticClass:"ready_btn"},[t._v(" Download Here ")])])])])])}],a={},o=a,s=(i("2bec"),i("2877")),c=Object(s["a"])(o,n,r,!1,null,null,null);e["default"]=c.exports},"2bec":function(t,e,i){"use strict";var n=i("c6f2"),r=i.n(n);r.a},"2c12":function(t,e,i){t.exports=i.p+"img/3.d36eea7c.png"},"2ea7":function(t,e,i){"use strict";function n(){}i.r(e),i.d(e,"WebGLRenderTargetCube",(function(){return Pe})),i.d(e,"WebGLRenderTarget",(function(){return Re})),i.d(e,"WebGLRenderer",(function(){return Va})),i.d(e,"ShaderLib",(function(){return Ar})),i.d(e,"UniformsLib",(function(){return Sr})),i.d(e,"UniformsUtils",(function(){return bi})),i.d(e,"ShaderChunk",(function(){return br})),i.d(e,"FogExp2",(function(){return ja})),i.d(e,"Fog",(function(){return Wa})),i.d(e,"Scene",(function(){return Xa})),i.d(e,"LensFlare",(function(){return Ya})),i.d(e,"Sprite",(function(){return qa})),i.d(e,"LOD",(function(){return Ja})),i.d(e,"SkinnedMesh",(function(){return $a})),i.d(e,"Skeleton",(function(){return Qa})),i.d(e,"Bone",(function(){return Ka})),i.d(e,"Mesh",(function(){return ua})),i.d(e,"LineSegments",(function(){return io})),i.d(e,"Line",(function(){return eo})),i.d(e,"Points",(function(){return ro})),i.d(e,"Group",(function(){return ao})),i.d(e,"VideoTexture",(function(){return oo})),i.d(e,"DataTexture",(function(){return Er})),i.d(e,"CompressedTexture",(function(){return so})),i.d(e,"CubeTexture",(function(){return De})),i.d(e,"CanvasTexture",(function(){return co})),i.d(e,"DepthTexture",(function(){return lo})),i.d(e,"Texture",(function(){return Ce})),i.d(e,"CompressedTextureLoader",(function(){return ds})),i.d(e,"BinaryTextureLoader",(function(){return fs})),i.d(e,"DataTextureLoader",(function(){return ps})),i.d(e,"CubeTextureLoader",(function(){return vs})),i.d(e,"TextureLoader",(function(){return gs})),i.d(e,"ObjectLoader",(function(){return Ys})),i.d(e,"MaterialLoader",(function(){return Vs})),i.d(e,"BufferGeometryLoader",(function(){return js})),i.d(e,"DefaultLoadingManager",(function(){return us})),i.d(e,"LoadingManager",(function(){return ls})),i.d(e,"JSONLoader",(function(){return Xs})),i.d(e,"ImageLoader",(function(){return ms})),i.d(e,"FontLoader",(function(){return cc})),i.d(e,"FileLoader",(function(){return hs})),i.d(e,"Loader",(function(){return Ws})),i.d(e,"Cache",(function(){return cs})),i.d(e,"AudioLoader",(function(){return uc})),i.d(e,"SpotLightShadow",(function(){return bs})),i.d(e,"SpotLight",(function(){return ws})),i.d(e,"PointLight",(function(){return Ms})),i.d(e,"RectAreaLight",(function(){return hc})),i.d(e,"HemisphereLight",(function(){return _s})),i.d(e,"DirectionalLightShadow",(function(){return Es})),i.d(e,"DirectionalLight",(function(){return Ss})),i.d(e,"AmbientLight",(function(){return As})),i.d(e,"LightShadow",(function(){return xs})),i.d(e,"Light",(function(){return ys})),i.d(e,"StereoCamera",(function(){return dc})),i.d(e,"PerspectiveCamera",(function(){return fa})),i.d(e,"OrthographicCamera",(function(){return ma})),i.d(e,"CubeCamera",(function(){return pc})),i.d(e,"Camera",(function(){return pa})),i.d(e,"AudioListener",(function(){return fc})),i.d(e,"PositionalAudio",(function(){return vc})),i.d(e,"AudioContext",(function(){return lc})),i.d(e,"AudioAnalyser",(function(){return gc})),i.d(e,"Audio",(function(){return mc})),i.d(e,"VectorKeyframeTrack",(function(){return Us})),i.d(e,"StringKeyframeTrack",(function(){return Fs})),i.d(e,"QuaternionKeyframeTrack",(function(){return Ns})),i.d(e,"NumberKeyframeTrack",(function(){return zs})),i.d(e,"ColorKeyframeTrack",(function(){return Gs})),i.d(e,"BooleanKeyframeTrack",(function(){return Bs})),i.d(e,"PropertyMixer",(function(){return yc})),i.d(e,"PropertyBinding",(function(){return _c})),i.d(e,"KeyframeTrack",(function(){return ks})),i.d(e,"AnimationUtils",(function(){return Cs})),i.d(e,"AnimationObjectGroup",(function(){return xc})),i.d(e,"AnimationMixer",(function(){return wc})),i.d(e,"AnimationClip",(function(){return Hs})),i.d(e,"Uniform",(function(){return Mc})),i.d(e,"InstancedBufferGeometry",(function(){return Ec})),i.d(e,"BufferGeometry",(function(){return la})),i.d(e,"GeometryIdCount",(function(){return ca})),i.d(e,"Geometry",(function(){return oa})),i.d(e,"InterleavedBufferAttribute",(function(){return Sc})),i.d(e,"InstancedInterleavedBuffer",(function(){return Tc})),i.d(e,"InterleavedBuffer",(function(){return Ac})),i.d(e,"InstancedBufferAttribute",(function(){return Cc})),i.d(e,"Face3",(function(){return Yr})),i.d(e,"Object3D",(function(){return jr})),i.d(e,"Raycaster",(function(){return Lc})),i.d(e,"Layers",(function(){return Hr})),i.d(e,"EventDispatcher",(function(){return n})),i.d(e,"Clock",(function(){return Ic})),i.d(e,"QuaternionLinearInterpolant",(function(){return Ds})),i.d(e,"LinearInterpolant",(function(){return Ps})),i.d(e,"DiscreteInterpolant",(function(){return Is})),i.d(e,"CubicInterpolant",(function(){return Rs})),i.d(e,"Interpolant",(function(){return Ls})),i.d(e,"Triangle",(function(){return Xr})),i.d(e,"Spline",(function(){return Oc})),i.d(e,"Math",(function(){return Se})),i.d(e,"Spherical",(function(){return Uc})),i.d(e,"Cylindrical",(function(){return Dc})),i.d(e,"Plane",(function(){return zr})),i.d(e,"Frustum",(function(){return Fr})),i.d(e,"Sphere",(function(){return Dr})),i.d(e,"Ray",(function(){return Gr})),i.d(e,"Matrix4",(function(){return Ue})),i.d(e,"Matrix3",(function(){return Nr})),i.d(e,"Box3",(function(){return Ur})),i.d(e,"Box2",(function(){return Tr})),i.d(e,"Line3",(function(){return Wr})),i.d(e,"Euler",(function(){return kr})),i.d(e,"Vector4",(function(){return Le})),i.d(e,"Vector3",(function(){return Oe})),i.d(e,"Vector2",(function(){return Ae})),i.d(e,"Quaternion",(function(){return Ie})),i.d(e,"Color",(function(){return wr})),i.d(e,"MorphBlendMesh",(function(){return Nc})),i.d(e,"ImmediateRenderObject",(function(){return zc})),i.d(e,"VertexNormalsHelper",(function(){return Fc})),i.d(e,"SpotLightHelper",(function(){return Bc})),i.d(e,"SkeletonHelper",(function(){return Gc})),i.d(e,"PointLightHelper",(function(){return kc})),i.d(e,"RectAreaLightHelper",(function(){return Hc})),i.d(e,"HemisphereLightHelper",(function(){return Vc})),i.d(e,"GridHelper",(function(){return jc})),i.d(e,"PolarGridHelper",(function(){return Wc})),i.d(e,"FaceNormalsHelper",(function(){return Xc})),i.d(e,"DirectionalLightHelper",(function(){return Yc})),i.d(e,"CameraHelper",(function(){return Zc})),i.d(e,"BoxHelper",(function(){return qc})),i.d(e,"ArrowHelper",(function(){return Kc})),i.d(e,"AxisHelper",(function(){return $c})),i.d(e,"CatmullRomCurve3",(function(){return tl})),i.d(e,"SplineCurve3",(function(){return el})),i.d(e,"CubicBezierCurve3",(function(){return il})),i.d(e,"QuadraticBezierCurve3",(function(){return nl})),i.d(e,"LineCurve3",(function(){return rl})),i.d(e,"ArcCurve",(function(){return al})),i.d(e,"EllipseCurve",(function(){return Qs})),i.d(e,"SplineCurve",(function(){return $s})),i.d(e,"CubicBezierCurve",(function(){return tc})),i.d(e,"QuadraticBezierCurve",(function(){return ec})),i.d(e,"LineCurve",(function(){return qs})),i.d(e,"Shape",(function(){return rc})),i.d(e,"ShapePath",(function(){return oc})),i.d(e,"Path",(function(){return ac})),i.d(e,"Font",(function(){return sc})),i.d(e,"CurvePath",(function(){return Js})),i.d(e,"Curve",(function(){return Zs})),i.d(e,"ShapeUtils",(function(){return Ro})),i.d(e,"SceneUtils",(function(){return ol})),i.d(e,"CurveUtils",(function(){return Ks})),i.d(e,"WireframeGeometry",(function(){return uo})),i.d(e,"ParametricGeometry",(function(){return po})),i.d(e,"ParametricBufferGeometry",(function(){return ho})),i.d(e,"TetrahedronGeometry",(function(){return vo})),i.d(e,"TetrahedronBufferGeometry",(function(){return mo})),i.d(e,"OctahedronGeometry",(function(){return yo})),i.d(e,"OctahedronBufferGeometry",(function(){return go})),i.d(e,"IcosahedronGeometry",(function(){return xo})),i.d(e,"IcosahedronBufferGeometry",(function(){return _o})),i.d(e,"DodecahedronGeometry",(function(){return wo})),i.d(e,"DodecahedronBufferGeometry",(function(){return bo})),i.d(e,"PolyhedronGeometry",(function(){return Mo})),i.d(e,"PolyhedronBufferGeometry",(function(){return fo})),i.d(e,"TubeGeometry",(function(){return So})),i.d(e,"TubeBufferGeometry",(function(){return Eo})),i.d(e,"TorusKnotGeometry",(function(){return To})),i.d(e,"TorusKnotBufferGeometry",(function(){return Ao})),i.d(e,"TorusGeometry",(function(){return Lo})),i.d(e,"TorusBufferGeometry",(function(){return Co})),i.d(e,"TextGeometry",(function(){return Io})),i.d(e,"SphereBufferGeometry",(function(){return Oo})),i.d(e,"SphereGeometry",(function(){return Uo})),i.d(e,"RingGeometry",(function(){return No})),i.d(e,"RingBufferGeometry",(function(){return Do})),i.d(e,"PlaneBufferGeometry",(function(){return da})),i.d(e,"PlaneGeometry",(function(){return zo})),i.d(e,"LatheGeometry",(function(){return Bo})),i.d(e,"LatheBufferGeometry",(function(){return Fo})),i.d(e,"ShapeGeometry",(function(){return ko})),i.d(e,"ShapeBufferGeometry",(function(){return Go})),i.d(e,"ExtrudeGeometry",(function(){return Po})),i.d(e,"EdgesGeometry",(function(){return Ho})),i.d(e,"ConeGeometry",(function(){return Wo})),i.d(e,"ConeBufferGeometry",(function(){return Xo})),i.d(e,"CylinderGeometry",(function(){return jo})),i.d(e,"CylinderBufferGeometry",(function(){return Vo})),i.d(e,"CircleBufferGeometry",(function(){return Yo})),i.d(e,"CircleGeometry",(function(){return Zo})),i.d(e,"BoxBufferGeometry",(function(){return ha})),i.d(e,"BoxGeometry",(function(){return qo})),i.d(e,"ShadowMaterial",(function(){return Qo})),i.d(e,"SpriteMaterial",(function(){return Za})),i.d(e,"RawShaderMaterial",(function(){return Ko})),i.d(e,"ShaderMaterial",(function(){return Ir})),i.d(e,"PointsMaterial",(function(){return no})),i.d(e,"MultiMaterial",(function(){return $o})),i.d(e,"MeshPhysicalMaterial",(function(){return es})),i.d(e,"MeshStandardMaterial",(function(){return ts})),i.d(e,"MeshPhongMaterial",(function(){return is})),i.d(e,"MeshToonMaterial",(function(){return ns})),i.d(e,"MeshNormalMaterial",(function(){return rs})),i.d(e,"MeshLambertMaterial",(function(){return as})),i.d(e,"MeshDepthMaterial",(function(){return Or})),i.d(e,"MeshBasicMaterial",(function(){return Zr})),i.d(e,"LineDashedMaterial",(function(){return os})),i.d(e,"LineBasicMaterial",(function(){return to})),i.d(e,"Material",(function(){return Pr})),i.d(e,"Float64BufferAttribute",(function(){return ra})),i.d(e,"Float32BufferAttribute",(function(){return na})),i.d(e,"Uint32BufferAttribute",(function(){return ia})),i.d(e,"Int32BufferAttribute",(function(){return ea})),i.d(e,"Uint16BufferAttribute",(function(){return ta})),i.d(e,"Int16BufferAttribute",(function(){return $r})),i.d(e,"Uint8ClampedBufferAttribute",(function(){return Kr})),i.d(e,"Uint8BufferAttribute",(function(){return Qr})),i.d(e,"Int8BufferAttribute",(function(){return Jr})),i.d(e,"BufferAttribute",(function(){return qr})),i.d(e,"REVISION",(function(){return r})),i.d(e,"MOUSE",(function(){return a})),i.d(e,"CullFaceNone",(function(){return o})),i.d(e,"CullFaceBack",(function(){return s})),i.d(e,"CullFaceFront",(function(){return c})),i.d(e,"CullFaceFrontBack",(function(){return l})),i.d(e,"FrontFaceDirectionCW",(function(){return u})),i.d(e,"FrontFaceDirectionCCW",(function(){return h})),i.d(e,"BasicShadowMap",(function(){return d})),i.d(e,"PCFShadowMap",(function(){return p})),i.d(e,"PCFSoftShadowMap",(function(){return f})),i.d(e,"FrontSide",(function(){return m})),i.d(e,"BackSide",(function(){return v})),i.d(e,"DoubleSide",(function(){return g})),i.d(e,"FlatShading",(function(){return y})),i.d(e,"SmoothShading",(function(){return _})),i.d(e,"NoColors",(function(){return x})),i.d(e,"FaceColors",(function(){return b})),i.d(e,"VertexColors",(function(){return w})),i.d(e,"NoBlending",(function(){return M})),i.d(e,"NormalBlending",(function(){return E})),i.d(e,"AdditiveBlending",(function(){return S})),i.d(e,"SubtractiveBlending",(function(){return A})),i.d(e,"MultiplyBlending",(function(){return T})),i.d(e,"CustomBlending",(function(){return C})),i.d(e,"BlendingMode",(function(){return L})),i.d(e,"AddEquation",(function(){return R})),i.d(e,"SubtractEquation",(function(){return P})),i.d(e,"ReverseSubtractEquation",(function(){return I})),i.d(e,"MinEquation",(function(){return O})),i.d(e,"MaxEquation",(function(){return U})),i.d(e,"ZeroFactor",(function(){return D})),i.d(e,"OneFactor",(function(){return N})),i.d(e,"SrcColorFactor",(function(){return z})),i.d(e,"OneMinusSrcColorFactor",(function(){return F})),i.d(e,"SrcAlphaFactor",(function(){return B})),i.d(e,"OneMinusSrcAlphaFactor",(function(){return G})),i.d(e,"DstAlphaFactor",(function(){return k})),i.d(e,"OneMinusDstAlphaFactor",(function(){return H})),i.d(e,"DstColorFactor",(function(){return V})),i.d(e,"OneMinusDstColorFactor",(function(){return j})),i.d(e,"SrcAlphaSaturateFactor",(function(){return W})),i.d(e,"NeverDepth",(function(){return X})),i.d(e,"AlwaysDepth",(function(){return Y})),i.d(e,"LessDepth",(function(){return Z})),i.d(e,"LessEqualDepth",(function(){return q})),i.d(e,"EqualDepth",(function(){return J})),i.d(e,"GreaterEqualDepth",(function(){return Q})),i.d(e,"GreaterDepth",(function(){return K})),i.d(e,"NotEqualDepth",(function(){return $})),i.d(e,"MultiplyOperation",(function(){return tt})),i.d(e,"MixOperation",(function(){return et})),i.d(e,"AddOperation",(function(){return it})),i.d(e,"NoToneMapping",(function(){return nt})),i.d(e,"LinearToneMapping",(function(){return rt})),i.d(e,"ReinhardToneMapping",(function(){return at})),i.d(e,"Uncharted2ToneMapping",(function(){return ot})),i.d(e,"CineonToneMapping",(function(){return st})),i.d(e,"UVMapping",(function(){return ct})),i.d(e,"CubeReflectionMapping",(function(){return lt})),i.d(e,"CubeRefractionMapping",(function(){return ut})),i.d(e,"EquirectangularReflectionMapping",(function(){return ht})),i.d(e,"EquirectangularRefractionMapping",(function(){return dt})),i.d(e,"SphericalReflectionMapping",(function(){return pt})),i.d(e,"CubeUVReflectionMapping",(function(){return ft})),i.d(e,"CubeUVRefractionMapping",(function(){return mt})),i.d(e,"TextureMapping",(function(){return vt})),i.d(e,"RepeatWrapping",(function(){return gt})),i.d(e,"ClampToEdgeWrapping",(function(){return yt})),i.d(e,"MirroredRepeatWrapping",(function(){return _t})),i.d(e,"TextureWrapping",(function(){return xt})),i.d(e,"NearestFilter",(function(){return bt})),i.d(e,"NearestMipMapNearestFilter",(function(){return wt})),i.d(e,"NearestMipMapLinearFilter",(function(){return Mt})),i.d(e,"LinearFilter",(function(){return Et})),i.d(e,"LinearMipMapNearestFilter",(function(){return St})),i.d(e,"LinearMipMapLinearFilter",(function(){return At})),i.d(e,"TextureFilter",(function(){return Tt})),i.d(e,"UnsignedByteType",(function(){return Ct})),i.d(e,"ByteType",(function(){return Lt})),i.d(e,"ShortType",(function(){return Rt})),i.d(e,"UnsignedShortType",(function(){return Pt})),i.d(e,"IntType",(function(){return It})),i.d(e,"UnsignedIntType",(function(){return Ot})),i.d(e,"FloatType",(function(){return Ut})),i.d(e,"HalfFloatType",(function(){return Dt})),i.d(e,"UnsignedShort4444Type",(function(){return Nt})),i.d(e,"UnsignedShort5551Type",(function(){return zt})),i.d(e,"UnsignedShort565Type",(function(){return Ft})),i.d(e,"UnsignedInt248Type",(function(){return Bt})),i.d(e,"AlphaFormat",(function(){return Gt})),i.d(e,"RGBFormat",(function(){return kt})),i.d(e,"RGBAFormat",(function(){return Ht})),i.d(e,"LuminanceFormat",(function(){return Vt})),i.d(e,"LuminanceAlphaFormat",(function(){return jt})),i.d(e,"RGBEFormat",(function(){return Wt})),i.d(e,"DepthFormat",(function(){return Xt})),i.d(e,"DepthStencilFormat",(function(){return Yt})),i.d(e,"RGB_S3TC_DXT1_Format",(function(){return Zt})),i.d(e,"RGBA_S3TC_DXT1_Format",(function(){return qt})),i.d(e,"RGBA_S3TC_DXT3_Format",(function(){return Jt})),i.d(e,"RGBA_S3TC_DXT5_Format",(function(){return Qt})),i.d(e,"RGB_PVRTC_4BPPV1_Format",(function(){return Kt})),i.d(e,"RGB_PVRTC_2BPPV1_Format",(function(){return $t})),i.d(e,"RGBA_PVRTC_4BPPV1_Format",(function(){return te})),i.d(e,"RGBA_PVRTC_2BPPV1_Format",(function(){return ee})),i.d(e,"RGB_ETC1_Format",(function(){return ie})),i.d(e,"LoopOnce",(function(){return ne})),i.d(e,"LoopRepeat",(function(){return re})),i.d(e,"LoopPingPong",(function(){return ae})),i.d(e,"InterpolateDiscrete",(function(){return oe})),i.d(e,"InterpolateLinear",(function(){return se})),i.d(e,"InterpolateSmooth",(function(){return ce})),i.d(e,"ZeroCurvatureEnding",(function(){return le})),i.d(e,"ZeroSlopeEnding",(function(){return ue})),i.d(e,"WrapAroundEnding",(function(){return he})),i.d(e,"TrianglesDrawMode",(function(){return de})),i.d(e,"TriangleStripDrawMode",(function(){return pe})),i.d(e,"TriangleFanDrawMode",(function(){return fe})),i.d(e,"LinearEncoding",(function(){return me})),i.d(e,"sRGBEncoding",(function(){return ve})),i.d(e,"GammaEncoding",(function(){return ge})),i.d(e,"RGBEEncoding",(function(){return ye})),i.d(e,"LogLuvEncoding",(function(){return _e})),i.d(e,"RGBM7Encoding",(function(){return xe})),i.d(e,"RGBM16Encoding",(function(){return be})),i.d(e,"RGBDEncoding",(function(){return we})),i.d(e,"BasicDepthPacking",(function(){return Me})),i.d(e,"RGBADepthPacking",(function(){return Ee})),i.d(e,"CubeGeometry",(function(){return qo})),i.d(e,"Face4",(function(){return sl})),i.d(e,"LineStrip",(function(){return cl})),i.d(e,"LinePieces",(function(){return ll})),i.d(e,"MeshFaceMaterial",(function(){return ul})),i.d(e,"PointCloud",(function(){return hl})),i.d(e,"Particle",(function(){return dl})),i.d(e,"ParticleSystem",(function(){return pl})),i.d(e,"PointCloudMaterial",(function(){return fl})),i.d(e,"ParticleBasicMaterial",(function(){return ml})),i.d(e,"ParticleSystemMaterial",(function(){return vl})),i.d(e,"Vertex",(function(){return gl})),i.d(e,"DynamicBufferAttribute",(function(){return yl})),i.d(e,"Int8Attribute",(function(){return _l})),i.d(e,"Uint8Attribute",(function(){return xl})),i.d(e,"Uint8ClampedAttribute",(function(){return bl})),i.d(e,"Int16Attribute",(function(){return wl})),i.d(e,"Uint16Attribute",(function(){return Ml})),i.d(e,"Int32Attribute",(function(){return El})),i.d(e,"Uint32Attribute",(function(){return Sl})),i.d(e,"Float32Attribute",(function(){return Al})),i.d(e,"Float64Attribute",(function(){return Tl})),i.d(e,"ClosedSplineCurve3",(function(){return Cl})),i.d(e,"BoundingBoxHelper",(function(){return Ll})),i.d(e,"EdgesHelper",(function(){return Rl})),i.d(e,"WireframeHelper",(function(){return Pl})),i.d(e,"XHRLoader",(function(){return Il})),i.d(e,"GeometryUtils",(function(){return Ol})),i.d(e,"ImageUtils",(function(){return Ul})),i.d(e,"Projector",(function(){return Dl})),i.d(e,"CanvasRenderer",(function(){return Nl})),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(void 0!==n&&null!==n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}}(),Object.assign(n.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var i=this._listeners,n=i[t];if(void 0!==n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,i=e[t.type];if(void 0!==i){t.target=this;var n=[],r=0,a=i.length;for(r=0;r<a;r++)n[r]=i[r];for(r=0;r<a;r++)n[r].call(this,t)}}}});var r="83",a={LEFT:0,MIDDLE:1,RIGHT:2},o=0,s=1,c=2,l=3,u=0,h=1,d=0,p=1,f=2,m=0,v=1,g=2,y=1,_=2,x=0,b=1,w=2,M=0,E=1,S=2,A=3,T=4,C=5,L={NoBlending:M,NormalBlending:E,AdditiveBlending:S,SubtractiveBlending:A,MultiplyBlending:T,CustomBlending:C},R=100,P=101,I=102,O=103,U=104,D=200,N=201,z=202,F=203,B=204,G=205,k=206,H=207,V=208,j=209,W=210,X=0,Y=1,Z=2,q=3,J=4,Q=5,K=6,$=7,tt=0,et=1,it=2,nt=0,rt=1,at=2,ot=3,st=4,ct=300,lt=301,ut=302,ht=303,dt=304,pt=305,ft=306,mt=307,vt={UVMapping:ct,CubeReflectionMapping:lt,CubeRefractionMapping:ut,EquirectangularReflectionMapping:ht,EquirectangularRefractionMapping:dt,SphericalReflectionMapping:pt,CubeUVReflectionMapping:ft,CubeUVRefractionMapping:mt},gt=1e3,yt=1001,_t=1002,xt={RepeatWrapping:gt,ClampToEdgeWrapping:yt,MirroredRepeatWrapping:_t},bt=1003,wt=1004,Mt=1005,Et=1006,St=1007,At=1008,Tt={NearestFilter:bt,NearestMipMapNearestFilter:wt,NearestMipMapLinearFilter:Mt,LinearFilter:Et,LinearMipMapNearestFilter:St,LinearMipMapLinearFilter:At},Ct=1009,Lt=1010,Rt=1011,Pt=1012,It=1013,Ot=1014,Ut=1015,Dt=1016,Nt=1017,zt=1018,Ft=1019,Bt=1020,Gt=1021,kt=1022,Ht=1023,Vt=1024,jt=1025,Wt=Ht,Xt=1026,Yt=1027,Zt=2001,qt=2002,Jt=2003,Qt=2004,Kt=2100,$t=2101,te=2102,ee=2103,ie=2151,ne=2200,re=2201,ae=2202,oe=2300,se=2301,ce=2302,le=2400,ue=2401,he=2402,de=0,pe=1,fe=2,me=3e3,ve=3001,ge=3007,ye=3002,_e=3003,xe=3004,be=3005,we=3006,Me=3200,Ee=3201,Se={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=new Array(36),n=0;return function(){for(var r=0;r<36;r++)8===r||13===r||18===r||23===r?i[r]="-":14===r?i[r]="4":(n<=2&&(n=33554432+16777216*Math.random()|0),t=15&n,n>>=4,i[r]=e[19===r?3&t|8:t]);return i.join("")}}(),clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,i,n,r){return n+(t-e)*(r-n)/(i-e)},lerp:function(t,e,i){return(1-i)*t+i*e},smoothstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e),t*t*(3-2*t))},smootherstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e),t*t*t*(t*(6*t-15)+10))},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Se.DEG2RAD},radToDeg:function(t){return t*Se.RAD2DEG},isPowerOfTwo:function(t){return 0===(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t++,t}};function Ae(t,e){this.x=t||0,this.y=e||0}Ae.prototype={constructor:Ae,isVector2:!0,get width(){return this.x},set width(t){this.x=t},get height(){return this.y},set height(t){this.y=t},set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t,e;return function(i,n){return void 0===t&&(t=new Ae,e=new Ae),t.set(i,i),e.set(n,n),this.clamp(t,e)}}(),clampLength:function(t,e){var i=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,i))/i)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromAttribute:function(t,e,i){return void 0!==i&&console.warn("THREE.Vector2: offset has been removed from .fromAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var i=Math.cos(e),n=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*i-a*n+t.x,this.y=r*n+a*i+t.y,this}};var Te=0;function Ce(t,e,i,n,r,a,o,s,c,l){Object.defineProperty(this,"id",{value:Te++}),this.uuid=Se.generateUUID(),this.name="",this.image=void 0!==t?t:Ce.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:Ce.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:yt,this.wrapT=void 0!==n?n:yt,this.magFilter=void 0!==r?r:Et,this.minFilter=void 0!==a?a:At,this.anisotropy=void 0!==c?c:1,this.format=void 0!==o?o:Ht,this.type=void 0!==s?s:Ct,this.offset=new Ae(0,0),this.repeat=new Ae(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:me,this.version=0,this.onUpdate=null}function Le(t,e,i,n){this.x=t||0,this.y=e||0,this.z=i||0,this.w=void 0!==n?n:1}function Re(t,e,i){this.uuid=Se.generateUUID(),this.width=t,this.height=e,this.scissor=new Le(0,0,t,e),this.scissorTest=!1,this.viewport=new Le(0,0,t,e),i=i||{},void 0===i.minFilter&&(i.minFilter=Et),this.texture=new Ce(void 0,void 0,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null}function Pe(t,e,i){Re.call(this,t,e,i),this.activeCubeFace=0,this.activeMipMapLevel=0}function Ie(t,e,i,n){this._x=t||0,this._y=e||0,this._z=i||0,this._w=void 0!==n?n:1}function Oe(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0}function Ue(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function De(t,e,i,n,r,a,o,s,c,l){t=void 0!==t?t:[],e=void 0!==e?e:lt,Ce.call(this,t,e,i,n,r,a,o,s,c,l),this.flipY=!1}Ce.DEFAULT_IMAGE=void 0,Ce.DEFAULT_MAPPING=ct,Ce.prototype={constructor:Ce,isTexture:!0,set needsUpdate(t){!0===t&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];function e(t){var e;return void 0!==t.toDataURL?e=t:(e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,t.width,t.height)),e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}var i={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var n=this.image;void 0===n.uuid&&(n.uuid=Se.generateUUID()),void 0===t.images[n.uuid]&&(t.images[n.uuid]={uuid:n.uuid,url:e(n)}),i.image=n.uuid}return t.textures[this.uuid]=i,i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping===ct){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||t.x>1)switch(this.wrapS){case gt:t.x=t.x-Math.floor(t.x);break;case yt:t.x=t.x<0?0:1;break;case _t:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case gt:t.y=t.y-Math.floor(t.y);break;case yt:t.y=t.y<0?0:1;break;case _t:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}this.flipY&&(t.y=1-t.y)}}},Object.assign(Ce.prototype,n.prototype),Le.prototype={constructor:Le,isVector4:!0,set:function(t,e,i,n){return this.x=t,this.y=e,this.z=i,this.w=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this.w*=t):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(t){var e=this.x,i=this.y,n=this.z,r=this.w,a=t.elements;return this.x=a[0]*e+a[4]*i+a[8]*n+a[12]*r,this.y=a[1]*e+a[5]*i+a[9]*n+a[13]*r,this.z=a[2]*e+a[6]*i+a[10]*n+a[14]*r,this.w=a[3]*e+a[7]*i+a[11]*n+a[15]*r,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,i,n,r,a=.01,o=.1,s=t.elements,c=s[0],l=s[4],u=s[8],h=s[1],d=s[5],p=s[9],f=s[2],m=s[6],v=s[10];if(Math.abs(l-h)<a&&Math.abs(u-f)<a&&Math.abs(p-m)<a){if(Math.abs(l+h)<o&&Math.abs(u+f)<o&&Math.abs(p+m)<o&&Math.abs(c+d+v-3)<o)return this.set(1,0,0,0),this;e=Math.PI;var g=(c+1)/2,y=(d+1)/2,_=(v+1)/2,x=(l+h)/4,b=(u+f)/4,w=(p+m)/4;return g>y&&g>_?g<a?(i=0,n=.707106781,r=.707106781):(i=Math.sqrt(g),n=x/i,r=b/i):y>_?y<a?(i=.707106781,n=0,r=.707106781):(n=Math.sqrt(y),i=x/n,r=w/n):_<a?(i=.707106781,n=.707106781,r=0):(r=Math.sqrt(_),i=b/r,n=w/r),this.set(i,n,r,e),this}var M=Math.sqrt((m-p)*(m-p)+(u-f)*(u-f)+(h-l)*(h-l));return Math.abs(M)<.001&&(M=1),this.x=(m-p)/M,this.y=(u-f)/M,this.z=(h-l)/M,this.w=Math.acos((c+d+v-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(i,n){return void 0===t&&(t=new Le,e=new Le),t.set(i,i,i,i),e.set(n,n,n,n),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromAttribute:function(t,e,i){return void 0!==i&&console.warn("THREE.Vector4: offset has been removed from .fromAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}},Object.assign(Re.prototype,n.prototype,{isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Pe.prototype=Object.create(Re.prototype),Pe.prototype.constructor=Pe,Pe.prototype.isWebGLRenderTargetCube=!0,Ie.prototype={constructor:Ie,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._w=n,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!1===(t&&t.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=Math.cos(t._x/2),n=Math.cos(t._y/2),r=Math.cos(t._z/2),a=Math.sin(t._x/2),o=Math.sin(t._y/2),s=Math.sin(t._z/2),c=t.order;return"XYZ"===c?(this._x=a*n*r+i*o*s,this._y=i*o*r-a*n*s,this._z=i*n*s+a*o*r,this._w=i*n*r-a*o*s):"YXZ"===c?(this._x=a*n*r+i*o*s,this._y=i*o*r-a*n*s,this._z=i*n*s-a*o*r,this._w=i*n*r+a*o*s):"ZXY"===c?(this._x=a*n*r-i*o*s,this._y=i*o*r+a*n*s,this._z=i*n*s+a*o*r,this._w=i*n*r-a*o*s):"ZYX"===c?(this._x=a*n*r-i*o*s,this._y=i*o*r+a*n*s,this._z=i*n*s-a*o*r,this._w=i*n*r+a*o*s):"YZX"===c?(this._x=a*n*r+i*o*s,this._y=i*o*r+a*n*s,this._z=i*n*s-a*o*r,this._w=i*n*r-a*o*s):"XZY"===c&&(this._x=a*n*r-i*o*s,this._y=i*o*r-a*n*s,this._z=i*n*s+a*o*r,this._w=i*n*r+a*o*s),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var i=e/2,n=Math.sin(i);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,i=t.elements,n=i[0],r=i[4],a=i[8],o=i[1],s=i[5],c=i[9],l=i[2],u=i[6],h=i[10],d=n+s+h;return d>0?(e=.5/Math.sqrt(d+1),this._w=.25/e,this._x=(u-c)*e,this._y=(a-l)*e,this._z=(o-r)*e):n>s&&n>h?(e=2*Math.sqrt(1+n-s-h),this._w=(u-c)/e,this._x=.25*e,this._y=(r+o)/e,this._z=(a+l)/e):s>h?(e=2*Math.sqrt(1+s-n-h),this._w=(a-l)/e,this._x=(r+o)/e,this._y=.25*e,this._z=(c+u)/e):(e=2*Math.sqrt(1+h-n-s),this._w=(o-r)/e,this._x=(a+l)/e,this._y=(c+u)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e,i=1e-6;return function(n,r){return void 0===t&&(t=new Oe),e=n.dot(r)+1,e<i?(e=0,Math.abs(n.x)>Math.abs(n.z)?t.set(-n.y,n.x,0):t.set(0,-n.z,n.y)):t.crossVectors(n,r),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var i=t._x,n=t._y,r=t._z,a=t._w,o=e._x,s=e._y,c=e._z,l=e._w;return this._x=i*l+a*o+n*c-r*s,this._y=n*l+a*s+r*o-i*c,this._z=r*l+a*c+i*s-n*o,this._w=a*l-i*o-n*s-r*c,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var i=this._x,n=this._y,r=this._z,a=this._w,o=a*t._w+i*t._x+n*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=i,this._y=n,this._z=r,this;var s=Math.sqrt(1-o*o);if(Math.abs(s)<.001)return this._w=.5*(a+this._w),this._x=.5*(i+this._x),this._y=.5*(n+this._y),this._z=.5*(r+this._z),this;var c=Math.atan2(s,o),l=Math.sin((1-e)*c)/s,u=Math.sin(e*c)/s;return this._w=a*l+this._w*u,this._x=i*l+this._x*u,this._y=n*l+this._y*u,this._z=r*l+this._z*u,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Object.assign(Ie,{slerp:function(t,e,i,n){return i.copy(t).slerp(e,n)},slerpFlat:function(t,e,i,n,r,a,o){var s=i[n+0],c=i[n+1],l=i[n+2],u=i[n+3],h=r[a+0],d=r[a+1],p=r[a+2],f=r[a+3];if(u!==f||s!==h||c!==d||l!==p){var m=1-o,v=s*h+c*d+l*p+u*f,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var _=Math.sqrt(y),x=Math.atan2(_,v*g);m=Math.sin(m*x)/_,o=Math.sin(o*x)/_}var b=o*g;if(s=s*m+h*b,c=c*m+d*b,l=l*m+p*b,u=u*m+f*b,m===1-o){var w=1/Math.sqrt(s*s+c*c+l*l+u*u);s*=w,c*=w,l*=w,u*=w}}t[e]=s,t[e+1]=c,t[e+2]=l,t[e+3]=u}}),Oe.prototype={constructor:Oe,isVector3:!0,set:function(t,e,i){return this.x=t,this.y=e,this.z=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t;return function(e){return!1===(e&&e.isEuler)&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),void 0===t&&(t=new Ie),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t;return function(e,i){return void 0===t&&(t=new Ie),this.applyQuaternion(t.setFromAxisAngle(e,i))}}(),applyMatrix3:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6]*n,this.y=r[1]*e+r[4]*i+r[7]*n,this.z=r[2]*e+r[5]*i+r[8]*n,this},applyMatrix4:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*n+r[12],this.y=r[1]*e+r[5]*i+r[9]*n+r[13],this.z=r[2]*e+r[6]*i+r[10]*n+r[14],this},applyProjection:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements,a=1/(r[3]*e+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*e+r[4]*i+r[8]*n+r[12])*a,this.y=(r[1]*e+r[5]*i+r[9]*n+r[13])*a,this.z=(r[2]*e+r[6]*i+r[10]*n+r[14])*a,this},applyQuaternion:function(t){var e=this.x,i=this.y,n=this.z,r=t.x,a=t.y,o=t.z,s=t.w,c=s*e+a*n-o*i,l=s*i+o*e-r*n,u=s*n+r*i-a*e,h=-r*e-a*i-o*n;return this.x=c*s+h*-r+l*-o-u*-a,this.y=l*s+h*-a+u*-r-c*-o,this.z=u*s+h*-o+c*-a-l*-r,this},project:function(){var t;return function(e){return void 0===t&&(t=new Ue),t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyProjection(t)}}(),unproject:function(){var t;return function(e){return void 0===t&&(t=new Ue),t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyProjection(t)}}(),transformDirection:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*n,this.y=r[1]*e+r[5]*i+r[9]*n,this.z=r[2]*e+r[6]*i+r[10]*n,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t,e;return function(i,n){return void 0===t&&(t=new Oe,e=new Oe),t.set(i,i,i),e.set(n,n,n),this.clamp(t,e)}}(),clampLength:function(t,e){var i=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,i))/i)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},cross:function(t,e){if(void 0!==e)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e);var i=this.x,n=this.y,r=this.z;return this.x=n*t.z-r*t.y,this.y=r*t.x-i*t.z,this.z=i*t.y-n*t.x,this},crossVectors:function(t,e){var i=t.x,n=t.y,r=t.z,a=e.x,o=e.y,s=e.z;return this.x=n*s-r*o,this.y=r*a-i*s,this.z=i*o-n*a,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t;return function(e){return void 0===t&&(t=new Oe),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t;return function(e){return void 0===t&&(t=new Oe),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Se.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return e*e+i*i+n*n},distanceToManhattan:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=n,this},setFromMatrixColumn:function(t,e){if("number"===typeof t){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var i=t;t=e,e=i}return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromAttribute:function(t,e,i){return void 0!==i&&console.warn("THREE.Vector3: offset has been removed from .fromAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},Ue.prototype={constructor:Ue,isMatrix4:!0,set:function(t,e,i,n,r,a,o,s,c,l,u,h,d,p,f,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=i,v[12]=n,v[1]=r,v[5]=a,v[9]=o,v[13]=s,v[2]=c,v[6]=l,v[10]=u,v[14]=h,v[3]=d,v[7]=p,v[11]=f,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Ue).fromArray(this.elements)},copy:function(t){return this.elements.set(t.elements),this},copyPosition:function(t){var e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this},extractBasis:function(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this},extractRotation:function(){var t;return function(e){void 0===t&&(t=new Oe);var i=this.elements,n=e.elements,r=1/t.setFromMatrixColumn(e,0).length(),a=1/t.setFromMatrixColumn(e,1).length(),o=1/t.setFromMatrixColumn(e,2).length();return i[0]=n[0]*r,i[1]=n[1]*r,i[2]=n[2]*r,i[4]=n[4]*a,i[5]=n[5]*a,i[6]=n[6]*a,i[8]=n[8]*o,i[9]=n[9]*o,i[10]=n[10]*o,this}}(),makeRotationFromEuler:function(t){!1===(t&&t.isEuler)&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,i=t.x,n=t.y,r=t.z,a=Math.cos(i),o=Math.sin(i),s=Math.cos(n),c=Math.sin(n),l=Math.cos(r),u=Math.sin(r);if("XYZ"===t.order){var h=a*l,d=a*u,p=o*l,f=o*u;e[0]=s*l,e[4]=-s*u,e[8]=c,e[1]=d+p*c,e[5]=h-f*c,e[9]=-o*s,e[2]=f-h*c,e[6]=p+d*c,e[10]=a*s}else if("YXZ"===t.order){var m=s*l,v=s*u,g=c*l,y=c*u;e[0]=m+y*o,e[4]=g*o-v,e[8]=a*c,e[1]=a*u,e[5]=a*l,e[9]=-o,e[2]=v*o-g,e[6]=y+m*o,e[10]=a*s}else if("ZXY"===t.order){m=s*l,v=s*u,g=c*l,y=c*u;e[0]=m-y*o,e[4]=-a*u,e[8]=g+v*o,e[1]=v+g*o,e[5]=a*l,e[9]=y-m*o,e[2]=-a*c,e[6]=o,e[10]=a*s}else if("ZYX"===t.order){h=a*l,d=a*u,p=o*l,f=o*u;e[0]=s*l,e[4]=p*c-d,e[8]=h*c+f,e[1]=s*u,e[5]=f*c+h,e[9]=d*c-p,e[2]=-c,e[6]=o*s,e[10]=a*s}else if("YZX"===t.order){var _=a*s,x=a*c,b=o*s,w=o*c;e[0]=s*l,e[4]=w-_*u,e[8]=b*u+x,e[1]=u,e[5]=a*l,e[9]=-o*l,e[2]=-c*l,e[6]=x*u+b,e[10]=_-w*u}else if("XZY"===t.order){_=a*s,x=a*c,b=o*s,w=o*c;e[0]=s*l,e[4]=-u,e[8]=c*l,e[1]=_*u+w,e[5]=a*l,e[9]=x*u-b,e[2]=b*u-x,e[6]=o*l,e[10]=w*u+_}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,i=t.x,n=t.y,r=t.z,a=t.w,o=i+i,s=n+n,c=r+r,l=i*o,u=i*s,h=i*c,d=n*s,p=n*c,f=r*c,m=a*o,v=a*s,g=a*c;return e[0]=1-(d+f),e[4]=u-g,e[8]=h+v,e[1]=u+g,e[5]=1-(l+f),e[9]=p-m,e[2]=h-v,e[6]=p+m,e[10]=1-(l+d),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var t,e,i;return function(n,r,a){void 0===t&&(t=new Oe,e=new Oe,i=new Oe);var o=this.elements;return i.subVectors(n,r).normalize(),0===i.lengthSq()&&(i.z=1),t.crossVectors(a,i).normalize(),0===t.lengthSq()&&(i.z+=1e-4,t.crossVectors(a,i).normalize()),e.crossVectors(i,t),o[0]=t.x,o[4]=e.x,o[8]=i.x,o[1]=t.y,o[5]=e.y,o[9]=i.y,o[2]=t.z,o[6]=e.z,o[10]=i.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,n=e.elements,r=this.elements,a=i[0],o=i[4],s=i[8],c=i[12],l=i[1],u=i[5],h=i[9],d=i[13],p=i[2],f=i[6],m=i[10],v=i[14],g=i[3],y=i[7],_=i[11],x=i[15],b=n[0],w=n[4],M=n[8],E=n[12],S=n[1],A=n[5],T=n[9],C=n[13],L=n[2],R=n[6],P=n[10],I=n[14],O=n[3],U=n[7],D=n[11],N=n[15];return r[0]=a*b+o*S+s*L+c*O,r[4]=a*w+o*A+s*R+c*U,r[8]=a*M+o*T+s*P+c*D,r[12]=a*E+o*C+s*I+c*N,r[1]=l*b+u*S+h*L+d*O,r[5]=l*w+u*A+h*R+d*U,r[9]=l*M+u*T+h*P+d*D,r[13]=l*E+u*C+h*I+d*N,r[2]=p*b+f*S+m*L+v*O,r[6]=p*w+f*A+m*R+v*U,r[10]=p*M+f*T+m*P+v*D,r[14]=p*E+f*C+m*I+v*N,r[3]=g*b+y*S+_*L+x*O,r[7]=g*w+y*A+_*R+x*U,r[11]=g*M+y*T+_*P+x*D,r[15]=g*E+y*C+_*I+x*N,this},multiplyToArray:function(t,e,i){var n=this.elements;return this.multiplyMatrices(t,e),i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4],i[5]=n[5],i[6]=n[6],i[7]=n[7],i[8]=n[8],i[9]=n[9],i[10]=n[10],i[11]=n[11],i[12]=n[12],i[13]=n[13],i[14]=n[14],i[15]=n[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToVector3Array:function(){var t;return function(e,i,n){void 0===t&&(t=new Oe),void 0===i&&(i=0),void 0===n&&(n=e.length);for(var r=0,a=i;r<n;r+=3,a+=3)t.fromArray(e,a),t.applyMatrix4(this),t.toArray(e,a);return e}}(),applyToBufferAttribute:function(){var t;return function(e){void 0===t&&(t=new Oe);for(var i=0,n=e.count;i<n;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.applyMatrix4(this),e.setXYZ(i,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],i=t[4],n=t[8],r=t[12],a=t[1],o=t[5],s=t[9],c=t[13],l=t[2],u=t[6],h=t[10],d=t[14],p=t[3],f=t[7],m=t[11],v=t[15];return p*(+r*s*u-n*c*u-r*o*h+i*c*h+n*o*d-i*s*d)+f*(+e*s*d-e*c*h+r*a*h-n*a*d+n*c*l-r*s*l)+m*(+e*c*u-e*o*d-r*a*u+i*a*d+r*o*l-i*c*l)+v*(-n*o*l-e*s*u+e*o*h+n*a*u-i*a*h+i*s*l)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var i=this.elements,n=t.elements,r=n[0],a=n[1],o=n[2],s=n[3],c=n[4],l=n[5],u=n[6],h=n[7],d=n[8],p=n[9],f=n[10],m=n[11],v=n[12],g=n[13],y=n[14],_=n[15],x=p*y*h-g*f*h+g*u*m-l*y*m-p*u*_+l*f*_,b=v*f*h-d*y*h-v*u*m+c*y*m+d*u*_-c*f*_,w=d*g*h-v*p*h+v*l*m-c*g*m-d*l*_+c*p*_,M=v*p*u-d*g*u-v*l*f+c*g*f+d*l*y-c*p*y,E=r*x+a*b+o*w+s*M;if(0===E){var S="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(!0===e)throw new Error(S);return console.warn(S),this.identity()}var A=1/E;return i[0]=x*A,i[1]=(g*f*s-p*y*s-g*o*m+a*y*m+p*o*_-a*f*_)*A,i[2]=(l*y*s-g*u*s+g*o*h-a*y*h-l*o*_+a*u*_)*A,i[3]=(p*u*s-l*f*s-p*o*h+a*f*h+l*o*m-a*u*m)*A,i[4]=b*A,i[5]=(d*y*s-v*f*s+v*o*m-r*y*m-d*o*_+r*f*_)*A,i[6]=(v*u*s-c*y*s-v*o*h+r*y*h+c*o*_-r*u*_)*A,i[7]=(c*f*s-d*u*s+d*o*h-r*f*h-c*o*m+r*u*m)*A,i[8]=w*A,i[9]=(v*p*s-d*g*s-v*a*m+r*g*m+d*a*_-r*p*_)*A,i[10]=(c*g*s-v*l*s+v*a*h-r*g*h-c*a*_+r*l*_)*A,i[11]=(d*l*s-c*p*s-d*a*h+r*p*h+c*a*m-r*l*m)*A,i[12]=M*A,i[13]=(d*g*o-v*p*o+v*a*f-r*g*f-d*a*y+r*p*y)*A,i[14]=(v*l*o-c*g*o-v*a*u+r*g*u+c*a*y-r*l*y)*A,i[15]=(c*p*o-d*l*o+d*a*u-r*p*u-c*a*f+r*l*f)*A,this},scale:function(t){var e=this.elements,i=t.x,n=t.y,r=t.z;return e[0]*=i,e[4]*=n,e[8]*=r,e[1]*=i,e[5]*=n,e[9]*=r,e[2]*=i,e[6]*=n,e[10]*=r,e[3]*=i,e[7]*=n,e[11]*=r,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,n))},makeTranslation:function(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var i=Math.cos(e),n=Math.sin(e),r=1-i,a=t.x,o=t.y,s=t.z,c=r*a,l=r*o;return this.set(c*a+i,c*o-n*s,c*s+n*o,0,c*o+n*s,l*o+i,l*s-n*a,0,c*s-n*o,l*s+n*a,r*s*s+i,0,0,0,0,1),this},makeScale:function(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this},makeShear:function(t,e,i){return this.set(1,e,i,0,t,1,i,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,i){return this.makeRotationFromQuaternion(e),this.scale(i),this.setPosition(t),this},decompose:function(){var t,e;return function(i,n,r){void 0===t&&(t=new Oe,e=new Ue);var a=this.elements,o=t.set(a[0],a[1],a[2]).length(),s=t.set(a[4],a[5],a[6]).length(),c=t.set(a[8],a[9],a[10]).length(),l=this.determinant();l<0&&(o=-o),i.x=a[12],i.y=a[13],i.z=a[14],e.elements.set(this.elements);var u=1/o,h=1/s,d=1/c;return e.elements[0]*=u,e.elements[1]*=u,e.elements[2]*=u,e.elements[4]*=h,e.elements[5]*=h,e.elements[6]*=h,e.elements[8]*=d,e.elements[9]*=d,e.elements[10]*=d,n.setFromRotationMatrix(e),r.x=o,r.y=s,r.z=c,this}}(),makeFrustum:function(t,e,i,n,r,a){var o=this.elements,s=2*r/(e-t),c=2*r/(n-i),l=(e+t)/(e-t),u=(n+i)/(n-i),h=-(a+r)/(a-r),d=-2*a*r/(a-r);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=c,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makePerspective:function(t,e,i,n){var r=i*Math.tan(Se.DEG2RAD*t*.5),a=-r,o=a*e,s=r*e;return this.makeFrustum(o,s,a,r,i,n)},makeOrthographic:function(t,e,i,n,r,a){var o=this.elements,s=1/(e-t),c=1/(i-n),l=1/(a-r),u=(e+t)*s,h=(i+n)*c,d=(a+r)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,i=t.elements,n=0;n<16;n++)if(e[n]!==i[n])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<16;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}},De.prototype=Object.create(Ce.prototype),De.prototype.constructor=De,De.prototype.isCubeTexture=!0,Object.defineProperty(De.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var Ne=new Ce,ze=new De;function Fe(){this.seq=[],this.map={}}var Be=[],Ge=[];function ke(t,e,i){var n=t[0];if(n<=0||n>0)return t;var r=e*i,a=Be[r];if(void 0===a&&(a=new Float32Array(r),Be[r]=a),0!==e){n.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=i,t[o].toArray(a,s)}return a}function He(t,e){var i=Ge[e];void 0===i&&(i=new Int32Array(e),Ge[e]=i);for(var n=0;n!==e;++n)i[n]=t.allocTextureUnit();return i}function Ve(t,e){t.uniform1f(this.addr,e)}function je(t,e){t.uniform1i(this.addr,e)}function We(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)}function Xe(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)}function Ye(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)}function Ze(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)}function qe(t,e){t.uniformMatrix3fv(this.addr,!1,e.elements||e)}function Je(t,e){t.uniformMatrix4fv(this.addr,!1,e.elements||e)}function Qe(t,e,i){var n=i.allocTextureUnit();t.uniform1i(this.addr,n),i.setTexture2D(e||Ne,n)}function Ke(t,e,i){var n=i.allocTextureUnit();t.uniform1i(this.addr,n),i.setTextureCube(e||ze,n)}function $e(t,e){t.uniform2iv(this.addr,e)}function ti(t,e){t.uniform3iv(this.addr,e)}function ei(t,e){t.uniform4iv(this.addr,e)}function ii(t){switch(t){case 5126:return Ve;case 35664:return We;case 35665:return Xe;case 35666:return Ye;case 35674:return Ze;case 35675:return qe;case 35676:return Je;case 35678:return Qe;case 35680:return Ke;case 5124:case 35670:return je;case 35667:case 35671:return $e;case 35668:case 35672:return ti;case 35669:case 35673:return ei}}function ni(t,e){t.uniform1fv(this.addr,e)}function ri(t,e){t.uniform1iv(this.addr,e)}function ai(t,e){t.uniform2fv(this.addr,ke(e,this.size,2))}function oi(t,e){t.uniform3fv(this.addr,ke(e,this.size,3))}function si(t,e){t.uniform4fv(this.addr,ke(e,this.size,4))}function ci(t,e){t.uniformMatrix2fv(this.addr,!1,ke(e,this.size,4))}function li(t,e){t.uniformMatrix3fv(this.addr,!1,ke(e,this.size,9))}function ui(t,e){t.uniformMatrix4fv(this.addr,!1,ke(e,this.size,16))}function hi(t,e,i){var n=e.length,r=He(i,n);t.uniform1iv(this.addr,r);for(var a=0;a!==n;++a)i.setTexture2D(e[a]||Ne,r[a])}function di(t,e,i){var n=e.length,r=He(i,n);t.uniform1iv(this.addr,r);for(var a=0;a!==n;++a)i.setTextureCube(e[a]||ze,r[a])}function pi(t){switch(t){case 5126:return ni;case 35664:return ai;case 35665:return oi;case 35666:return si;case 35674:return ci;case 35675:return li;case 35676:return ui;case 35678:return hi;case 35680:return di;case 5124:case 35670:return ri;case 35667:case 35671:return $e;case 35668:case 35672:return ti;case 35669:case 35673:return ei}}function fi(t,e,i){this.id=t,this.addr=i,this.setValue=ii(e.type)}function mi(t,e,i){this.id=t,this.addr=i,this.size=e.size,this.setValue=pi(e.type)}function vi(t){this.id=t,Fe.call(this)}vi.prototype.setValue=function(t,e){for(var i=this.seq,n=0,r=i.length;n!==r;++n){var a=i[n];a.setValue(t,e[a.id])}};var gi=/([\w\d_]+)(\])?(\[|\.)?/g;function yi(t,e){t.seq.push(e),t.map[e.id]=e}function _i(t,e,i){var n=t.name,r=n.length;for(gi.lastIndex=0;;){var a=gi.exec(n),o=gi.lastIndex,s=a[1],c="]"===a[2],l=a[3];if(c&&(s|=0),void 0===l||"["===l&&o+2===r){yi(i,void 0===l?new fi(s,t,e):new mi(s,t,e));break}var u=i.map,h=u[s];void 0===h&&(h=new vi(s),yi(i,h)),i=h}}function xi(t,e,i){Fe.call(this),this.renderer=i;for(var n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),r=0;r!==n;++r){var a=t.getActiveUniform(e,r),o=a.name,s=t.getUniformLocation(e,o);_i(a,s,this)}}xi.prototype.setValue=function(t,e,i){var n=this.map[e];void 0!==n&&n.setValue(t,i,this.renderer)},xi.prototype.set=function(t,e,i){var n=this.map[i];void 0!==n&&n.setValue(t,e[i],this.renderer)},xi.prototype.setOptional=function(t,e,i){var n=e[i];void 0!==n&&this.setValue(t,i,n)},xi.upload=function(t,e,i,n){for(var r=0,a=e.length;r!==a;++r){var o=e[r],s=i[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,n)}},xi.seqWithValue=function(t,e){for(var i=[],n=0,r=t.length;n!==r;++n){var a=t[n];a.id in e&&i.push(a)}return i};var bi={merge:function(t){for(var e={},i=0;i<t.length;i++){var n=this.clone(t[i]);for(var r in n)e[r]=n[r]}return e},clone:function(t){var e={};for(var i in t)for(var n in e[i]={},t[i]){var r=t[i][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?e[i][n]=r.clone():Array.isArray(r)?e[i][n]=r.slice():e[i][n]=r}return e}},wi="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",Mi="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",Ei="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",Si="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",Ai="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",Ti="\nvec3 transformed = vec3( position );\n",Ci="\nvec3 objectNormal = vec3( normal );\n",Li="float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 ltcTextureCoords( const in GeometricContext geometry, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = (LUT_SIZE - 1.0)/LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5/LUT_SIZE;\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nvoid clipQuadToHorizon( inout vec3 L[5], out int n ) {\n\tint config = 0;\n\tif ( L[0].z > 0.0 ) config += 1;\n\tif ( L[1].z > 0.0 ) config += 2;\n\tif ( L[2].z > 0.0 ) config += 4;\n\tif ( L[3].z > 0.0 ) config += 8;\n\tn = 0;\n\tif ( config == 0 ) {\n\t} else if ( config == 1 ) {\n\t\tn = 3;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 2 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 3 ) {\n\t\tn = 4;\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t\tL[3] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 4 ) {\n\t\tn = 3;\n\t\tL[0] = -L[3].z * L[2] + L[2].z * L[3];\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t} else if ( config == 5 ) {\n\t\tn = 0;\n\t} else if ( config == 6 ) {\n\t\tn = 4;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 7 ) {\n\t\tn = 5;\n\t\tL[4] = -L[3].z * L[0] + L[0].z * L[3];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 8 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[1] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] =  L[3];\n\t} else if ( config == 9 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[2].z * L[3] + L[3].z * L[2];\n\t} else if ( config == 10 ) {\n\t\tn = 0;\n\t} else if ( config == 11 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 12 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t} else if ( config == 13 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = L[2];\n\t\tL[2] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t} else if ( config == 14 ) {\n\t\tn = 5;\n\t\tL[4] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t} else if ( config == 15 ) {\n\t\tn = 4;\n\t}\n\tif ( n == 3 )\n\t\tL[3] = L[0];\n\tif ( n == 4 )\n\t\tL[4] = L[0];\n}\nfloat integrateLtcBrdfOverRectEdge( vec3 v1, vec3 v2 ) {\n\tfloat cosTheta = dot( v1, v2 );\n\tfloat theta = acos( cosTheta );\n\tfloat res = cross( v1, v2 ).z * ( ( theta > 0.001 ) ? theta / sin( theta ) : 1.0 );\n\treturn res;\n}\nvoid initRectPoints( const in vec3 pos, const in vec3 halfWidth, const in vec3 halfHeight, out vec3 rectPoints[4] ) {\n\trectPoints[0] = pos - halfWidth - halfHeight;\n\trectPoints[1] = pos + halfWidth - halfHeight;\n\trectPoints[2] = pos + halfWidth + halfHeight;\n\trectPoints[3] = pos - halfWidth + halfHeight;\n}\nvec3 integrateLtcBrdfOverRect( const in GeometricContext geometry, const in mat3 brdfMat, const in vec3 rectPoints[4] ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tvec3 T1, T2;\n\tT1 = normalize(V - N * dot( V, N ));\n\tT2 = - cross( N, T1 );\n\tmat3 brdfWrtSurface = brdfMat * transpose( mat3( T1, T2, N ) );\n\tvec3 clippedRect[5];\n\tclippedRect[0] = brdfWrtSurface * ( rectPoints[0] - P );\n\tclippedRect[1] = brdfWrtSurface * ( rectPoints[1] - P );\n\tclippedRect[2] = brdfWrtSurface * ( rectPoints[2] - P );\n\tclippedRect[3] = brdfWrtSurface * ( rectPoints[3] - P );\n\tint n;\n\tclipQuadToHorizon(clippedRect, n);\n\tif ( n == 0 )\n\t\treturn vec3( 0, 0, 0 );\n\tclippedRect[0] = normalize( clippedRect[0] );\n\tclippedRect[1] = normalize( clippedRect[1] );\n\tclippedRect[2] = normalize( clippedRect[2] );\n\tclippedRect[3] = normalize( clippedRect[3] );\n\tclippedRect[4] = normalize( clippedRect[4] );\n\tfloat sum = 0.0;\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[0], clippedRect[1] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[1], clippedRect[2] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[2], clippedRect[3] );\n\tif (n >= 4)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[3], clippedRect[4] );\n\tif (n == 5)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[4], clippedRect[0] );\n\tsum = max( 0.0, sum );\n\tvec3 Lo_i = vec3( sum, sum, sum );\n\treturn Lo_i;\n}\nvec3 Rect_Area_Light_Specular_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight,\n\t\tconst in float roughness,\n\t\tconst in sampler2D ltcMat, const in sampler2D ltcMag ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tvec2 uv = ltcTextureCoords( geometry, roughness );\n\tvec4 brdfLtcApproxParams, t;\n\tbrdfLtcApproxParams = texture2D( ltcMat, uv );\n\tt = texture2D( ltcMat, uv );\n\tfloat brdfLtcScalar = texture2D( ltcMag, uv ).a;\n\tmat3 brdfLtcApproxMat = mat3(\n\t\tvec3(   1,   0, t.y ),\n\t\tvec3(   0, t.z,   0 ),\n\t\tvec3( t.w,   0, t.x )\n\t);\n\tvec3 specularReflectance = integrateLtcBrdfOverRect( geometry, brdfLtcApproxMat, rectPoints );\n\tspecularReflectance *= brdfLtcScalar;\n\treturn specularReflectance;\n}\nvec3 Rect_Area_Light_Diffuse_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tmat3 diffuseBrdfMat = mat3(1);\n\tvec3 diffuseReflectance = integrateLtcBrdfOverRect( geometry, diffuseBrdfMat, rectPoints );\n\treturn diffuseReflectance;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",Ri="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",Pi="#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",Ii="#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",Oi="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",Ui="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",Di="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",Ni="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",zi="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",Fi="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",Bi="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",Gi="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",ki="#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",Hi="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",Vi="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",ji="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",Wi="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",Xi="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",Yi="\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent = max( max( value.r, value.g ), value.b );\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB = max( value.x, max( value.g, value.b ) );\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            = ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.x, max( value.g, value.b ) );\n    float D      = max( maxRange / maxRGB, 1.0 );\n    D            = min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w = fract(Le);\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le = value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n",Zi="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",qi="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",Ji="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",Qi="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",Ki="#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",$i="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",tn="#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",en="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",nn="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",rn="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",an="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",on="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",sn="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\n#if NUM_RECT_AREA_LIGHTS > 0\n    void RE_Direct_RectArea_BlinnPhong( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n        vec3 matDiffColor = material.diffuseColor;\n        vec3 matSpecColor = material.specularColor;\n        vec3 lightColor   = rectAreaLight.color;\n        float roughness = BlinnExponentToGGXRoughness( material.specularShininess );\n        vec3 spec = Rect_Area_Light_Specular_Reflectance(\n                geometry,\n                rectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n                roughness,\n                ltcMat, ltcMag );\n        vec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n                geometry,\n                rectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n        reflectedLight.directSpecular += lightColor * matSpecColor * spec / PI2;\n        reflectedLight.directDiffuse  += lightColor * matDiffColor * diff / PI2;\n    }\n#endif\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",cn="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",ln="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n    void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n        vec3 matDiffColor = material.diffuseColor;\n        vec3 matSpecColor = material.specularColor;\n        vec3 lightColor   = rectAreaLight.color;\n        float roughness = material.specularRoughness;\n        vec3 spec = Rect_Area_Light_Specular_Reflectance(\n                geometry,\n                rectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n                roughness,\n                ltcMat, ltcMag );\n        vec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n                geometry,\n                rectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n        reflectedLight.directSpecular += lightColor * matSpecColor * spec;\n        reflectedLight.directDiffuse  += lightColor * matDiffColor * diff;\n    }\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",un="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\t\t\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",hn="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",dn="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",pn="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",fn="#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",mn="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",vn="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",gn="#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",yn="#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",_n="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",xn="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",bn="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",wn="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",Mn="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",En="#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",Sn="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",An="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",Tn="vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",Cn="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",Ln="#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",Rn="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",Pn="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",In="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n    #if NUM_RECT_AREA_LIGHTS > 0\n    #endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",On="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n    #if NUM_RECT_AREA_LIGHTS > 0\n    #endif\n#endif\n",Un="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n    #if NUM_RECT_AREA_LIGHTS > 0\n    #endif\n#endif\n",Dn="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_RECT_AREA_LIGHTS > 0\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",Nn="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",zn="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",Fn="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",Bn="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",Gn="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",kn="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",Hn="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",Vn="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",jn="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",Wn="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",Xn="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",Yn="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",Zn="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",qn="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",Jn="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",Qn="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",Kn="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",$n="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",tr="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",er="uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",ir="varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",nr="uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",rr="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",ar="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",or="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",sr="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",cr="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n}\n",lr="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",ur="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n}\n",hr="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",dr="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n}\n",pr="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",fr="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",mr="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED  ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#include <premultiplied_alpha_fragment>\n\t#include <encodings_fragment>\n}\n",vr="#define NORMAL\n#if defined( FLAT_SHADED  ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED  ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",gr="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",yr="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",_r="uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\n}\n",xr="#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",br={alphamap_fragment:wi,alphamap_pars_fragment:Mi,alphatest_fragment:Ei,aomap_fragment:Si,aomap_pars_fragment:Ai,begin_vertex:Ti,beginnormal_vertex:Ci,bsdfs:Li,bumpmap_pars_fragment:Ri,clipping_planes_fragment:Pi,clipping_planes_pars_fragment:Ii,clipping_planes_pars_vertex:Oi,clipping_planes_vertex:Ui,color_fragment:Di,color_pars_fragment:Ni,color_pars_vertex:zi,color_vertex:Fi,common:Bi,cube_uv_reflection_fragment:Gi,defaultnormal_vertex:ki,displacementmap_pars_vertex:Hi,displacementmap_vertex:Vi,emissivemap_fragment:ji,emissivemap_pars_fragment:Wi,encodings_fragment:Xi,encodings_pars_fragment:Yi,envmap_fragment:Zi,envmap_pars_fragment:qi,envmap_pars_vertex:Ji,envmap_vertex:Qi,fog_fragment:Ki,fog_pars_fragment:$i,gradientmap_pars_fragment:tn,lightmap_fragment:en,lightmap_pars_fragment:nn,lights_lambert_vertex:rn,lights_pars:an,lights_phong_fragment:on,lights_phong_pars_fragment:sn,lights_physical_fragment:cn,lights_physical_pars_fragment:ln,lights_template:un,logdepthbuf_fragment:hn,logdepthbuf_pars_fragment:dn,logdepthbuf_pars_vertex:pn,logdepthbuf_vertex:fn,map_fragment:mn,map_pars_fragment:vn,map_particle_fragment:gn,map_particle_pars_fragment:yn,metalnessmap_fragment:_n,metalnessmap_pars_fragment:xn,morphnormal_vertex:bn,morphtarget_pars_vertex:wn,morphtarget_vertex:Mn,normal_flip:En,normal_fragment:Sn,normalmap_pars_fragment:An,packing:Tn,premultiplied_alpha_fragment:Cn,project_vertex:Ln,roughnessmap_fragment:Rn,roughnessmap_pars_fragment:Pn,shadowmap_pars_fragment:In,shadowmap_pars_vertex:On,shadowmap_vertex:Un,shadowmask_pars_fragment:Dn,skinbase_vertex:Nn,skinning_pars_vertex:zn,skinning_vertex:Fn,skinnormal_vertex:Bn,specularmap_fragment:Gn,specularmap_pars_fragment:kn,tonemapping_fragment:Hn,tonemapping_pars_fragment:Vn,uv_pars_fragment:jn,uv_pars_vertex:Wn,uv_vertex:Xn,uv2_pars_fragment:Yn,uv2_pars_vertex:Zn,uv2_vertex:qn,worldpos_vertex:Jn,cube_frag:Qn,cube_vert:Kn,depth_frag:$n,depth_vert:tr,distanceRGBA_frag:er,distanceRGBA_vert:ir,equirect_frag:nr,equirect_vert:rr,linedashed_frag:ar,linedashed_vert:or,meshbasic_frag:sr,meshbasic_vert:cr,meshlambert_frag:lr,meshlambert_vert:ur,meshphong_frag:hr,meshphong_vert:dr,meshphysical_frag:pr,meshphysical_vert:fr,normal_frag:mr,normal_vert:vr,points_frag:gr,points_vert:yr,shadow_frag:_r,shadow_vert:xr};function wr(t,e,i){return void 0===e&&void 0===i?this.set(t):this.setRGB(t,e,i)}wr.prototype={constructor:wr,isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,i){return this.r=t,this.g=e,this.b=i,this},setHSL:function(){function t(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+6*(e-t)*(2/3-i):t}return function(e,i,n){if(e=Se.euclideanModulo(e,1),i=Se.clamp(i,0,1),n=Se.clamp(n,0,1),0===i)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+i):n+i-n*i,a=2*n-r;this.r=t(a,r,e+1/3),this.g=t(a,r,e),this.b=t(a,r,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var n,r=i[1],a=i[2];switch(r){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,e(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,e(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(n[1])/360,s=parseInt(n[2],10)/100,c=parseInt(n[3],10)/100;return e(n[5]),this.setHSL(o,s,c)}break}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(t)){var l=i[1],u=l.length;if(3===u)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}if(t&&t.length>0){l=Mr[t];void 0!==l?this.setHex(l):console.warn("THREE.Color: Unknown color "+t)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var i=e>0?1/e:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},convertGammaToLinear:function(){var t=this.r,e=this.g,i=this.b;return this.r=t*t,this.g=e*e,this.b=i*i,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,i,n=t||{h:0,s:0,l:0},r=this.r,a=this.g,o=this.b,s=Math.max(r,a,o),c=Math.min(r,a,o),l=(c+s)/2;if(c===s)e=0,i=0;else{var u=s-c;switch(i=l<=.5?u/(s+c):u/(2-s-c),s){case r:e=(a-o)/u+(a<o?6:0);break;case a:e=(o-r)/u+2;break;case o:e=(r-a)/u+4;break}e/=6}return n.h=e,n.s=i,n.l=l,n},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,i){var n=this.getHSL();return n.h+=t,n.s+=e,n.l+=i,this.setHSL(n.h,n.s,n.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}};var Mr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Er(t,e,i,n,r,a,o,s,c,l,u,h){Ce.call(this,null,a,o,s,c,l,n,r,u,h),this.image={data:t,width:e,height:i},this.magFilter=void 0!==c?c:bt,this.minFilter=void 0!==l?l:bt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}Er.prototype=Object.create(Ce.prototype),Er.prototype.constructor=Er,Er.prototype.isDataTexture=!0;var Sr={common:{diffuse:{value:new wr(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new Le(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ae(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new wr(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new wr(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new Le(0,0,1,1)}}},Ar={basic:{uniforms:bi.merge([Sr.common,Sr.aomap,Sr.lightmap,Sr.fog]),vertexShader:br.meshbasic_vert,fragmentShader:br.meshbasic_frag},lambert:{uniforms:bi.merge([Sr.common,Sr.aomap,Sr.lightmap,Sr.emissivemap,Sr.fog,Sr.lights,{emissive:{value:new wr(0)}}]),vertexShader:br.meshlambert_vert,fragmentShader:br.meshlambert_frag},phong:{uniforms:bi.merge([Sr.common,Sr.aomap,Sr.lightmap,Sr.emissivemap,Sr.bumpmap,Sr.normalmap,Sr.displacementmap,Sr.gradientmap,Sr.fog,Sr.lights,{emissive:{value:new wr(0)},specular:{value:new wr(1118481)},shininess:{value:30}}]),vertexShader:br.meshphong_vert,fragmentShader:br.meshphong_frag},standard:{uniforms:bi.merge([Sr.common,Sr.aomap,Sr.lightmap,Sr.emissivemap,Sr.bumpmap,Sr.normalmap,Sr.displacementmap,Sr.roughnessmap,Sr.metalnessmap,Sr.fog,Sr.lights,{emissive:{value:new wr(0)},roughness:{value:.5},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:br.meshphysical_vert,fragmentShader:br.meshphysical_frag},points:{uniforms:bi.merge([Sr.points,Sr.fog]),vertexShader:br.points_vert,fragmentShader:br.points_frag},dashed:{uniforms:bi.merge([Sr.common,Sr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:br.linedashed_vert,fragmentShader:br.linedashed_frag},depth:{uniforms:bi.merge([Sr.common,Sr.displacementmap]),vertexShader:br.depth_vert,fragmentShader:br.depth_frag},normal:{uniforms:bi.merge([Sr.common,Sr.bumpmap,Sr.normalmap,Sr.displacementmap,{opacity:{value:1}}]),vertexShader:br.normal_vert,fragmentShader:br.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:br.cube_vert,fragmentShader:br.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:br.equirect_vert,fragmentShader:br.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new Oe}},vertexShader:br.distanceRGBA_vert,fragmentShader:br.distanceRGBA_frag}};function Tr(t,e){this.min=void 0!==t?t:new Ae(1/0,1/0),this.max=void 0!==e?e:new Ae(-1/0,-1/0)}function Cr(t,e){var i,n,r,a,o,s,c,l,u=t.context,h=t.state;function d(){var t=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),e=new Uint16Array([0,1,2,0,2,3]);i=u.createBuffer(),n=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,i),u.bufferData(u.ARRAY_BUFFER,t,u.STATIC_DRAW),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,n),u.bufferData(u.ELEMENT_ARRAY_BUFFER,e,u.STATIC_DRAW),c=u.createTexture(),l=u.createTexture(),h.bindTexture(u.TEXTURE_2D,c),u.texImage2D(u.TEXTURE_2D,0,u.RGB,16,16,0,u.RGB,u.UNSIGNED_BYTE,null),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST),h.bindTexture(u.TEXTURE_2D,l),u.texImage2D(u.TEXTURE_2D,0,u.RGBA,16,16,0,u.RGBA,u.UNSIGNED_BYTE,null),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST),r={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},a=p(r),o={vertex:u.getAttribLocation(a,"position"),uv:u.getAttribLocation(a,"uv")},s={renderType:u.getUniformLocation(a,"renderType"),map:u.getUniformLocation(a,"map"),occlusionMap:u.getUniformLocation(a,"occlusionMap"),opacity:u.getUniformLocation(a,"opacity"),color:u.getUniformLocation(a,"color"),scale:u.getUniformLocation(a,"scale"),rotation:u.getUniformLocation(a,"rotation"),screenPosition:u.getUniformLocation(a,"screenPosition")}}function p(e){var i=u.createProgram(),n=u.createShader(u.FRAGMENT_SHADER),r=u.createShader(u.VERTEX_SHADER),a="precision "+t.getPrecision()+" float;\n";return u.shaderSource(n,a+e.fragmentShader),u.shaderSource(r,a+e.vertexShader),u.compileShader(n),u.compileShader(r),u.attachShader(i,n),u.attachShader(i,r),u.linkProgram(i),i}this.render=function(r,p,f){if(0!==e.length){var m=new Oe,v=f.w/f.z,g=.5*f.z,y=.5*f.w,_=16/f.w,x=new Ae(_*v,_),b=new Oe(1,1,0),w=new Ae(1,1),M=new Tr;M.min.set(f.x,f.y),M.max.set(f.x+(f.z-16),f.y+(f.w-16)),void 0===a&&d(),u.useProgram(a),h.initAttributes(),h.enableAttribute(o.vertex),h.enableAttribute(o.uv),h.disableUnusedAttributes(),u.uniform1i(s.occlusionMap,0),u.uniform1i(s.map,1),u.bindBuffer(u.ARRAY_BUFFER,i),u.vertexAttribPointer(o.vertex,2,u.FLOAT,!1,16,0),u.vertexAttribPointer(o.uv,2,u.FLOAT,!1,16,8),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,n),h.disable(u.CULL_FACE),h.setDepthWrite(!1);for(var E=0,S=e.length;E<S;E++){_=16/f.w,x.set(_*v,_);var A=e[E];if(m.set(A.matrixWorld.elements[12],A.matrixWorld.elements[13],A.matrixWorld.elements[14]),m.applyMatrix4(p.matrixWorldInverse),m.applyProjection(p.projectionMatrix),b.copy(m),w.x=f.x+b.x*g+g-8,w.y=f.y+b.y*y+y-8,!0===M.containsPoint(w)){h.activeTexture(u.TEXTURE0),h.bindTexture(u.TEXTURE_2D,null),h.activeTexture(u.TEXTURE1),h.bindTexture(u.TEXTURE_2D,c),u.copyTexImage2D(u.TEXTURE_2D,0,u.RGB,w.x,w.y,16,16,0),u.uniform1i(s.renderType,0),u.uniform2f(s.scale,x.x,x.y),u.uniform3f(s.screenPosition,b.x,b.y,b.z),h.disable(u.BLEND),h.enable(u.DEPTH_TEST),u.drawElements(u.TRIANGLES,6,u.UNSIGNED_SHORT,0),h.activeTexture(u.TEXTURE0),h.bindTexture(u.TEXTURE_2D,l),u.copyTexImage2D(u.TEXTURE_2D,0,u.RGBA,w.x,w.y,16,16,0),u.uniform1i(s.renderType,1),h.disable(u.DEPTH_TEST),h.activeTexture(u.TEXTURE1),h.bindTexture(u.TEXTURE_2D,c),u.drawElements(u.TRIANGLES,6,u.UNSIGNED_SHORT,0),A.positionScreen.copy(b),A.customUpdateCallback?A.customUpdateCallback(A):A.updateLensFlares(),u.uniform1i(s.renderType,2),h.enable(u.BLEND);for(var T=0,C=A.lensFlares.length;T<C;T++){var L=A.lensFlares[T];L.opacity>.001&&L.scale>.001&&(b.x=L.x,b.y=L.y,b.z=L.z,_=L.size*L.scale/f.w,x.x=_*v,x.y=_,u.uniform3f(s.screenPosition,b.x,b.y,b.z),u.uniform2f(s.scale,x.x,x.y),u.uniform1f(s.rotation,L.rotation),u.uniform1f(s.opacity,L.opacity),u.uniform3f(s.color,L.color.r,L.color.g,L.color.b),h.setBlending(L.blending,L.blendEquation,L.blendSrc,L.blendDst),t.setTexture2D(L.texture,1),u.drawElements(u.TRIANGLES,6,u.UNSIGNED_SHORT,0))}}}h.enable(u.CULL_FACE),h.enable(u.DEPTH_TEST),h.setDepthWrite(!0),t.resetGLState()}}}function Lr(t,e){var i,n,r,a,o,s,c=t.context,l=t.state,u=new Oe,h=new Ie,d=new Oe;function p(){var t=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),e=new Uint16Array([0,1,2,0,2,3]);i=c.createBuffer(),n=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,i),c.bufferData(c.ARRAY_BUFFER,t,c.STATIC_DRAW),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,n),c.bufferData(c.ELEMENT_ARRAY_BUFFER,e,c.STATIC_DRAW),r=f(),a={position:c.getAttribLocation(r,"position"),uv:c.getAttribLocation(r,"uv")},o={uvOffset:c.getUniformLocation(r,"uvOffset"),uvScale:c.getUniformLocation(r,"uvScale"),rotation:c.getUniformLocation(r,"rotation"),scale:c.getUniformLocation(r,"scale"),color:c.getUniformLocation(r,"color"),map:c.getUniformLocation(r,"map"),opacity:c.getUniformLocation(r,"opacity"),modelViewMatrix:c.getUniformLocation(r,"modelViewMatrix"),projectionMatrix:c.getUniformLocation(r,"projectionMatrix"),fogType:c.getUniformLocation(r,"fogType"),fogDensity:c.getUniformLocation(r,"fogDensity"),fogNear:c.getUniformLocation(r,"fogNear"),fogFar:c.getUniformLocation(r,"fogFar"),fogColor:c.getUniformLocation(r,"fogColor"),alphaTest:c.getUniformLocation(r,"alphaTest")};var l=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");l.width=8,l.height=8;var u=l.getContext("2d");u.fillStyle="white",u.fillRect(0,0,8,8),s=new Ce(l),s.needsUpdate=!0}function f(){var e=c.createProgram(),i=c.createShader(c.VERTEX_SHADER),n=c.createShader(c.FRAGMENT_SHADER);return c.shaderSource(i,["precision "+t.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),c.shaderSource(n,["precision "+t.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),c.compileShader(i),c.compileShader(n),c.attachShader(e,i),c.attachShader(e,n),c.linkProgram(e),e}function m(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}this.render=function(f,v){if(0!==e.length){void 0===r&&p(),c.useProgram(r),l.initAttributes(),l.enableAttribute(a.position),l.enableAttribute(a.uv),l.disableUnusedAttributes(),l.disable(c.CULL_FACE),l.enable(c.BLEND),c.bindBuffer(c.ARRAY_BUFFER,i),c.vertexAttribPointer(a.position,2,c.FLOAT,!1,16,0),c.vertexAttribPointer(a.uv,2,c.FLOAT,!1,16,8),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,n),c.uniformMatrix4fv(o.projectionMatrix,!1,v.projectionMatrix.elements),l.activeTexture(c.TEXTURE0),c.uniform1i(o.map,0);var g=0,y=0,_=f.fog;_?(c.uniform3f(o.fogColor,_.color.r,_.color.g,_.color.b),_.isFog?(c.uniform1f(o.fogNear,_.near),c.uniform1f(o.fogFar,_.far),c.uniform1i(o.fogType,1),g=1,y=1):_.isFogExp2&&(c.uniform1f(o.fogDensity,_.density),c.uniform1i(o.fogType,2),g=2,y=2)):(c.uniform1i(o.fogType,0),g=0,y=0);for(var x=0,b=e.length;x<b;x++){var w=e[x];w.modelViewMatrix.multiplyMatrices(v.matrixWorldInverse,w.matrixWorld),w.z=-w.modelViewMatrix.elements[14]}e.sort(m);var M=[];for(x=0,b=e.length;x<b;x++){w=e[x];var E=w.material;if(!1!==E.visible){c.uniform1f(o.alphaTest,E.alphaTest),c.uniformMatrix4fv(o.modelViewMatrix,!1,w.modelViewMatrix.elements),w.matrixWorld.decompose(u,h,d),M[0]=d.x,M[1]=d.y;var S=0;f.fog&&E.fog&&(S=y),g!==S&&(c.uniform1i(o.fogType,S),g=S),null!==E.map?(c.uniform2f(o.uvOffset,E.map.offset.x,E.map.offset.y),c.uniform2f(o.uvScale,E.map.repeat.x,E.map.repeat.y)):(c.uniform2f(o.uvOffset,0,0),c.uniform2f(o.uvScale,1,1)),c.uniform1f(o.opacity,E.opacity),c.uniform3f(o.color,E.color.r,E.color.g,E.color.b),c.uniform1f(o.rotation,E.rotation),c.uniform2fv(o.scale,M),l.setBlending(E.blending,E.blendEquation,E.blendSrc,E.blendDst),l.setDepthTest(E.depthTest),l.setDepthWrite(E.depthWrite),E.map?t.setTexture2D(E.map,0):t.setTexture2D(s,0),c.drawElements(c.TRIANGLES,6,c.UNSIGNED_SHORT,0)}}l.enable(c.CULL_FACE),t.resetGLState()}}}Ar.physical={uniforms:bi.merge([Ar.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:br.meshphysical_vert,fragmentShader:br.meshphysical_frag},Tr.prototype={constructor:Tr,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Ae;return function(e,i){var n=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){var e=t||new Ae;return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new Ae;return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){var i=e||new Ae;return i.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){var i=e||new Ae;return i.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Ae;return function(e){var i=t.copy(e).clamp(this.min,this.max);return i.sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}};var Rr=0;function Pr(){Object.defineProperty(this,"id",{value:Rr++}),this.uuid=Se.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=E,this.side=m,this.shading=_,this.vertexColors=x,this.opacity=1,this.transparent=!1,this.blendSrc=B,this.blendDst=G,this.blendEquation=R,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=q,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this._needsUpdate=!0}function Ir(t){Pr.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function Or(t){Pr.call(this),this.type="MeshDepthMaterial",this.depthPacking=Me,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function Ur(t,e){this.min=void 0!==t?t:new Oe(1/0,1/0,1/0),this.max=void 0!==e?e:new Oe(-1/0,-1/0,-1/0)}function Dr(t,e){this.center=void 0!==t?t:new Oe,this.radius=void 0!==e?e:0}function Nr(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function zr(t,e){this.normal=void 0!==t?t:new Oe(1,0,0),this.constant=void 0!==e?e:0}function Fr(t,e,i,n,r,a){this.planes=[void 0!==t?t:new zr,void 0!==e?e:new zr,void 0!==i?i:new zr,void 0!==n?n:new zr,void 0!==r?r:new zr,void 0!==a?a:new zr]}function Br(t,e,i,n){var r=t.context,a=t.state,o=new Fr,s=new Ue,c=e.shadows,l=new Ae,u=new Ae(n.maxTextureSize,n.maxTextureSize),h=new Oe,d=new Oe,f=[],y=1,_=2,x=1+(y|_),b=new Array(x),w=new Array(x),M={},E=[new Oe(1,0,0),new Oe(-1,0,0),new Oe(0,0,1),new Oe(0,0,-1),new Oe(0,1,0),new Oe(0,-1,0)],S=[new Oe(0,1,0),new Oe(0,1,0),new Oe(0,1,0),new Oe(0,1,0),new Oe(0,0,1),new Oe(0,0,-1)],A=[new Le,new Le,new Le,new Le,new Le,new Le],T=new Or;T.depthPacking=Ee,T.clipping=!0;for(var C=Ar["distanceRGBA"],L=bi.clone(C.uniforms),R=0;R!==x;++R){var P=0!==(R&y),I=0!==(R&_),O=T.clone();O.morphTargets=P,O.skinning=I,b[R]=O;var U=new Ir({defines:{USE_SHADOWMAP:""},uniforms:L,vertexShader:C.vertexShader,fragmentShader:C.fragmentShader,morphTargets:P,skinning:I,clipping:!0});w[R]=U}var D=this;function N(e,i,n,r){var a=e.geometry,o=null,s=b,c=e.customDepthMaterial;if(n&&(s=w,c=e.customDistanceMaterial),c)o=c;else{var l=!1;i.morphTargets&&(a&&a.isBufferGeometry?l=a.morphAttributes&&a.morphAttributes.position&&a.morphAttributes.position.length>0:a&&a.isGeometry&&(l=a.morphTargets&&a.morphTargets.length>0));var u=e.isSkinnedMesh&&i.skinning,h=0;l&&(h|=y),u&&(h|=_),o=s[h]}if(t.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){var d=o.uuid,p=i.uuid,f=M[d];void 0===f&&(f={},M[d]=f);var x=f[p];void 0===x&&(x=o.clone(),f[p]=x),o=x}o.visible=i.visible,o.wireframe=i.wireframe;var E=i.side;return D.renderSingleSided&&E==g&&(E=m),D.renderReverseSided&&(E===m?E=v:E===v&&(E=m)),o.side=E,o.clipShadows=i.clipShadows,o.clippingPlanes=i.clippingPlanes,o.wireframeLinewidth=i.wireframeLinewidth,o.linewidth=i.linewidth,n&&void 0!==o.uniforms.lightPos&&o.uniforms.lightPos.value.copy(r),o}function z(t,e,i){if(!1!==t.visible){var n=0!==(t.layers.mask&e.layers.mask);if(n&&(t.isMesh||t.isLine||t.isPoints)&&t.castShadow&&(!1===t.frustumCulled||!0===o.intersectsObject(t))){var r=t.material;!0===r.visible&&(t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),f.push(t))}for(var a=t.children,s=0,c=a.length;s<c;s++)z(a[s],e,i)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=p,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(e,n){if(!1!==D.enabled&&(!1!==D.autoUpdate||!1!==D.needsUpdate)&&0!==c.length){var p,m;a.buffers.color.setClear(1,1,1,1),a.disable(r.BLEND),a.setDepthTest(!0),a.setScissorTest(!1);for(var v=0,g=c.length;v<g;v++){var y=c[v],_=y.shadow;if(void 0!==_){var x=_.camera;if(l.copy(_.mapSize),l.min(u),y&&y.isPointLight){p=6,m=!0;var b=l.x,w=l.y;A[0].set(2*b,w,b,w),A[1].set(0,w,b,w),A[2].set(3*b,w,b,w),A[3].set(b,w,b,w),A[4].set(3*b,0,b,w),A[5].set(b,0,b,w),l.x*=4,l.y*=2}else p=1,m=!1;if(null===_.map){var M={minFilter:bt,magFilter:bt,format:Ht};_.map=new Re(l.x,l.y,M),x.updateProjectionMatrix()}_.isSpotLightShadow&&_.update(y),_&&_.isRectAreaLightShadow&&_.update(y);var T=_.map,C=_.matrix;d.setFromMatrixPosition(y.matrixWorld),x.position.copy(d),t.setRenderTarget(T),t.clear();for(var L=0;L<p;L++){if(m){h.copy(x.position),h.add(E[L]),x.up.copy(S[L]),x.lookAt(h);var R=A[L];a.viewport(R)}else h.setFromMatrixPosition(y.target.matrixWorld),x.lookAt(h);x.updateMatrixWorld(),x.matrixWorldInverse.getInverse(x.matrixWorld),C.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),C.multiply(x.projectionMatrix),C.multiply(x.matrixWorldInverse),s.multiplyMatrices(x.projectionMatrix,x.matrixWorldInverse),o.setFromMatrix(s),f.length=0,z(e,n,x);for(var P=0,I=f.length;P<I;P++){var O=f[P],U=i.update(O),F=O.material;if(F&&F.isMultiMaterial)for(var B=U.groups,G=F.materials,k=0,H=B.length;k<H;k++){var V=B[k],j=G[V.materialIndex];if(!0===j.visible){var W=N(O,j,m,d);t.renderBufferDirect(x,null,U,W,O,V)}}else{W=N(O,F,m,d);t.renderBufferDirect(x,null,U,W,O,null)}}}}else console.warn("THREE.WebGLShadowMap:",y,"has no shadow.")}var X=t.getClearColor(),Y=t.getClearAlpha();t.setClearColor(X,Y),D.needsUpdate=!1}}}function Gr(t,e){this.origin=void 0!==t?t:new Oe,this.direction=void 0!==e?e:new Oe}function kr(t,e,i,n){this._x=t||0,this._y=e||0,this._z=i||0,this._order=n||kr.DefaultOrder}function Hr(){this.mask=1}Pr.prototype={constructor:Pr,isMaterial:!0,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){!0===t&&this.update(),this._needsUpdate=t},setValues:function(t){if(void 0!==t)for(var e in t){var i=t[e];if(void 0!==i){var n=this[e];void 0!==n?n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[e]="overdraw"===e?Number(i):i:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){var e=void 0===t;e&&(t={textures:{},images:{}});var i={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};function n(t){var e=[];for(var i in t){var n=t[i];delete n.metadata,e.push(n)}return e}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,i.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==E&&(i.blending=this.blending),this.shading!==_&&(i.shading=this.shading),this.side!==m&&(i.side=this.side),this.vertexColors!==x&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),i.skinning=this.skinning,i.morphTargets=this.morphTargets,e){var r=n(t.textures),a=n(t.images);r.length>0&&(i.textures=r),a.length>0&&(i.images=a)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.shading=t.shading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,i=null;if(null!==e){var n=e.length;i=new Array(n);for(var r=0;r!==n;++r)i[r]=e[r].clone()}return this.clippingPlanes=i,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(Pr.prototype,n.prototype),Ir.prototype=Object.create(Pr.prototype),Ir.prototype.constructor=Ir,Ir.prototype.isShaderMaterial=!0,Ir.prototype.copy=function(t){return Pr.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=bi.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},Ir.prototype.toJSON=function(t){var e=Pr.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},Or.prototype=Object.create(Pr.prototype),Or.prototype.constructor=Or,Or.prototype.isMeshDepthMaterial=!0,Or.prototype.copy=function(t){return Pr.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Ur.prototype={constructor:Ur,isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,i=1/0,n=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,c=t.length;s<c;s+=3){var l=t[s],u=t[s+1],h=t[s+2];l<e&&(e=l),u<i&&(i=u),h<n&&(n=h),l>r&&(r=l),u>a&&(a=u),h>o&&(o=h)}this.min.set(e,i,n),this.max.set(r,a,o)},setFromBufferAttribute:function(t){for(var e=1/0,i=1/0,n=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,c=t.count;s<c;s++){var l=t.getX(s),u=t.getY(s),h=t.getZ(s);l<e&&(e=l),u<i&&(i=u),h<n&&(n=h),l>r&&(r=l),u>a&&(a=u),h>o&&(o=h)}this.min.set(e,i,n),this.max.set(r,a,o)},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Oe;return function(e,i){var n=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),setFromObject:function(){var t=new Oe;return function(e){var i=this;return e.updateMatrixWorld(!0),this.makeEmpty(),e.traverse((function(e){var n,r,a=e.geometry;if(void 0!==a)if(a.isGeometry){var o=a.vertices;for(n=0,r=o.length;n<r;n++)t.copy(o[n]),t.applyMatrix4(e.matrixWorld),i.expandByPoint(t)}else if(a.isBufferGeometry){var s=a.attributes.position;if(void 0!==s)for(n=0,r=s.count;n<r;n++)t.fromAttribute(s,n).applyMatrix4(e.matrixWorld),i.expandByPoint(t)}})),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var e=t||new Oe;return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new Oe;return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){var i=e||new Oe;return i.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t;return function(e){return void 0===t&&(t=new Oe),this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=t.constant&&i>=t.constant},clampPoint:function(t,e){var i=e||new Oe;return i.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Oe;return function(e){var i=t.copy(e).clamp(this.min,this.max);return i.sub(e).length()}}(),getBoundingSphere:function(){var t=new Oe;return function(e){var i=e||new Dr;return this.getCenter(i.center),i.radius=.5*this.getSize(t).length(),i}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new Oe,new Oe,new Oe,new Oe,new Oe,new Oe,new Oe,new Oe];return function(e){return this.isEmpty()||(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(t)),this}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},Dr.prototype={constructor:Dr,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new Ur;return function(e,i){var n=this.center;void 0!==i?n.copy(i):t.setFromPoints(e).getCenter(n);for(var r=0,a=0,o=e.length;a<o;a++)r=Math.max(r,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var i=this.center.distanceToSquared(t),n=e||new Oe;return n.copy(t),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n},getBoundingBox:function(t){var e=t||new Ur;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},Nr.prototype={constructor:Nr,isMatrix3:!0,set:function(t,e,i,n,r,a,o,s,c){var l=this.elements;return l[0]=t,l[1]=n,l[2]=o,l[3]=e,l[4]=r,l[5]=s,l[6]=i,l[7]=a,l[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToVector3Array:function(){var t;return function(e,i,n){void 0===t&&(t=new Oe),void 0===i&&(i=0),void 0===n&&(n=e.length);for(var r=0,a=i;r<n;r+=3,a+=3)t.fromArray(e,a),t.applyMatrix3(this),t.toArray(e,a);return e}}(),applyToBufferAttribute:function(){var t;return function(e){void 0===t&&(t=new Oe);for(var i=0,n=e.count;i<n;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.applyMatrix3(this),e.setXYZ(i,t.x,t.y,t.z);return e}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],a=t[4],o=t[5],s=t[6],c=t[7],l=t[8];return e*a*l-e*o*c-i*r*l+i*o*s+n*r*c-n*a*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var i=t.elements,n=this.elements,r=i[0],a=i[1],o=i[2],s=i[3],c=i[4],l=i[5],u=i[6],h=i[7],d=i[8],p=d*c-l*h,f=l*u-d*s,m=h*s-c*u,v=r*p+a*f+o*m;if(0===v){var g="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(!0===e)throw new Error(g);return console.warn(g),this.identity()}var y=1/v;return n[0]=p*y,n[1]=(o*h-d*a)*y,n[2]=(l*a-o*c)*y,n[3]=f*y,n[4]=(d*r-o*u)*y,n[5]=(o*s-l*r)*y,n[6]=m*y,n[7]=(a*u-h*r)*y,n[8]=(c*r-a*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<9;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}},zr.prototype={constructor:zr,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,i,n){return this.normal.set(t,e,i),this.constant=n,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new Oe,e=new Oe;return function(i,n,r){var a=t.subVectors(r,n).cross(e.subVectors(i,n)).normalize();return this.setFromNormalAndCoplanarPoint(a,i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var i=this.distanceToPoint(t),n=e||new Oe;return n.copy(this.normal).multiplyScalar(i)},intersectLine:function(){var t=new Oe;return function(e,i){var n=i||new Oe,r=e.delta(t),a=this.normal.dot(r);if(0===a)return 0===this.distanceToPoint(e.start)?n.copy(e.start):void 0;var o=-(e.start.dot(this.normal)+this.constant)/a;return o<0||o>1?void 0:n.copy(r).multiplyScalar(o).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){var e=t||new Oe;return e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new Oe,e=new Nr;return function(i,n){var r=this.coplanarPoint(t).applyMatrix4(i),a=n||e.getNormalMatrix(i),o=this.normal.applyMatrix3(a).normalize();return this.constant=-r.dot(o),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},Fr.prototype={constructor:Fr,set:function(t,e,i,n,r,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(i),o[3].copy(n),o[4].copy(r),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,i=0;i<6;i++)e[i].copy(t.planes[i]);return this},setFromMatrix:function(t){var e=this.planes,i=t.elements,n=i[0],r=i[1],a=i[2],o=i[3],s=i[4],c=i[5],l=i[6],u=i[7],h=i[8],d=i[9],p=i[10],f=i[11],m=i[12],v=i[13],g=i[14],y=i[15];return e[0].setComponents(o-n,u-s,f-h,y-m).normalize(),e[1].setComponents(o+n,u+s,f+h,y+m).normalize(),e[2].setComponents(o+r,u+c,f+d,y+v).normalize(),e[3].setComponents(o-r,u-c,f-d,y-v).normalize(),e[4].setComponents(o-a,u-l,f-p,y-g).normalize(),e[5].setComponents(o+a,u+l,f+p,y+g).normalize(),this},intersectsObject:function(){var t=new Dr;return function(e){var i=e.geometry;return null===i.boundingSphere&&i.computeBoundingSphere(),t.copy(i.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new Dr;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,i=t.center,n=-t.radius,r=0;r<6;r++){var a=e[r].distanceToPoint(i);if(a<n)return!1}return!0},intersectsBox:function(){var t=new Oe,e=new Oe;return function(i){for(var n=this.planes,r=0;r<6;r++){var a=n[r];t.x=a.normal.x>0?i.min.x:i.max.x,e.x=a.normal.x>0?i.max.x:i.min.x,t.y=a.normal.y>0?i.min.y:i.max.y,e.y=a.normal.y>0?i.max.y:i.min.y,t.z=a.normal.z>0?i.min.z:i.max.z,e.z=a.normal.z>0?i.max.z:i.min.z;var o=a.distanceToPoint(t),s=a.distanceToPoint(e);if(o<0&&s<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}},Gr.prototype={constructor:Gr,set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){var i=e||new Oe;return i.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new Oe;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var i=e||new Oe;i.subVectors(t,this.origin);var n=i.dot(this.direction);return n<0?i.copy(this.origin):i.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new Oe;return function(e){var i=t.subVectors(e,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(i).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new Oe,e=new Oe,i=new Oe;return function(n,r,a,o){t.copy(n).add(r).multiplyScalar(.5),e.copy(r).sub(n).normalize(),i.copy(this.origin).sub(t);var s,c,l,u,h=.5*n.distanceTo(r),d=-this.direction.dot(e),p=i.dot(this.direction),f=-i.dot(e),m=i.lengthSq(),v=Math.abs(1-d*d);if(v>0)if(s=d*f-p,c=d*p-f,u=h*v,s>=0)if(c>=-u)if(c<=u){var g=1/v;s*=g,c*=g,l=s*(s+d*c+2*p)+c*(d*s+c+2*f)+m}else c=h,s=Math.max(0,-(d*c+p)),l=-s*s+c*(c+2*f)+m;else c=-h,s=Math.max(0,-(d*c+p)),l=-s*s+c*(c+2*f)+m;else c<=-u?(s=Math.max(0,-(-d*h+p)),c=s>0?-h:Math.min(Math.max(-h,-f),h),l=-s*s+c*(c+2*f)+m):c<=u?(s=0,c=Math.min(Math.max(-h,-f),h),l=c*(c+2*f)+m):(s=Math.max(0,-(d*h+p)),c=s>0?h:Math.min(Math.max(-h,-f),h),l=-s*s+c*(c+2*f)+m);else c=d>0?-h:h,s=Math.max(0,-(d*c+p)),l=-s*s+c*(c+2*f)+m;return a&&a.copy(this.direction).multiplyScalar(s).add(this.origin),o&&o.copy(e).multiplyScalar(c).add(t),l}}(),intersectSphere:function(){var t=new Oe;return function(e,i){t.subVectors(e.center,this.origin);var n=t.dot(this.direction),r=t.dot(t)-n*n,a=e.radius*e.radius;if(r>a)return null;var o=Math.sqrt(a-r),s=n-o,c=n+o;return s<0&&c<0?null:s<0?this.at(c,i):this.at(s,i)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null},intersectPlane:function(t,e){var i=this.distanceToPlane(t);return null===i?null:this.at(i,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);if(0===e)return!0;var i=t.normal.dot(this.direction);return i*e<0},intersectBox:function(t,e){var i,n,r,a,o,s,c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,h=this.origin;return c>=0?(i=(t.min.x-h.x)*c,n=(t.max.x-h.x)*c):(i=(t.max.x-h.x)*c,n=(t.min.x-h.x)*c),l>=0?(r=(t.min.y-h.y)*l,a=(t.max.y-h.y)*l):(r=(t.max.y-h.y)*l,a=(t.min.y-h.y)*l),i>a||r>n?null:((r>i||i!==i)&&(i=r),(a<n||n!==n)&&(n=a),u>=0?(o=(t.min.z-h.z)*u,s=(t.max.z-h.z)*u):(o=(t.max.z-h.z)*u,s=(t.min.z-h.z)*u),i>s||o>n?null:((o>i||i!==i)&&(i=o),(s<n||n!==n)&&(n=s),n<0?null:this.at(i>=0?i:n,e)))},intersectsBox:function(){var t=new Oe;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new Oe,e=new Oe,i=new Oe,n=new Oe;return function(r,a,o,s,c){e.subVectors(a,r),i.subVectors(o,r),n.crossVectors(e,i);var l,u=this.direction.dot(n);if(u>0){if(s)return null;l=1}else{if(!(u<0))return null;l=-1,u=-u}t.subVectors(this.origin,r);var h=l*this.direction.dot(i.crossVectors(t,i));if(h<0)return null;var d=l*this.direction.dot(e.cross(t));if(d<0)return null;if(h+d>u)return null;var p=-l*t.dot(n);return p<0?null:this.at(p/u,c)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},kr.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],kr.DefaultOrder="XYZ",kr.prototype={constructor:kr,isEuler:!0,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._order=n||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,i){var n=Se.clamp,r=t.elements,a=r[0],o=r[4],s=r[8],c=r[1],l=r[5],u=r[9],h=r[2],d=r[6],p=r[10];return e=e||this._order,"XYZ"===e?(this._y=Math.asin(n(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,l),this._z=0)):"YXZ"===e?(this._x=Math.asin(-n(u,-1,1)),Math.abs(u)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-h,a),this._z=0)):"ZXY"===e?(this._x=Math.asin(n(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(c,a))):"ZYX"===e?(this._y=Math.asin(-n(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(d,p),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-o,l))):"YZX"===e?(this._z=Math.asin(n(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-h,a)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===e?(this._z=Math.asin(-n(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(d,l),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-u,p),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==i&&this.onChangeCallback(),this},setFromQuaternion:function(){var t;return function(e,i,n){return void 0===t&&(t=new Ue),t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,i,n)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new Ie;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new Oe(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Hr.prototype={constructor:Hr,set:function(t){this.mask=1<<t},enable:function(t){this.mask|=1<<t},toggle:function(t){this.mask^=1<<t},disable:function(t){this.mask&=~(1<<t)},test:function(t){return 0!==(this.mask&t.mask)}};var Vr=0;function jr(){Object.defineProperty(this,"id",{value:Vr++}),this.uuid=Se.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=jr.DefaultUp.clone();var t=new Oe,e=new kr,i=new Ie,n=new Oe(1,1,1);function r(){i.setFromEuler(e,!1)}function a(){e.setFromQuaternion(i,void 0,!1)}e.onChange(r),i.onChange(a),Object.defineProperties(this,{position:{enumerable:!0,value:t},rotation:{enumerable:!0,value:e},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:n},modelViewMatrix:{value:new Ue},normalMatrix:{value:new Nr}}),this.matrix=new Ue,this.matrixWorld=new Ue,this.matrixAutoUpdate=jr.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Hr,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={},this.onBeforeRender=function(){},this.onAfterRender=function(){}}function Wr(t,e){this.start=void 0!==t?t:new Oe,this.end=void 0!==e?e:new Oe}function Xr(t,e,i){this.a=void 0!==t?t:new Oe,this.b=void 0!==e?e:new Oe,this.c=void 0!==i?i:new Oe}function Yr(t,e,i,n,r,a){this.a=t,this.b=e,this.c=i,this.normal=n&&n.isVector3?n:new Oe,this.vertexNormals=Array.isArray(n)?n:[],this.color=r&&r.isColor?r:new wr,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==a?a:0}function Zr(t){Pr.call(this),this.type="MeshBasicMaterial",this.color=new wr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=tt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function qr(t,e,i){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=Se.generateUUID(),this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===i,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Jr(t,e){qr.call(this,new Int8Array(t),e)}function Qr(t,e){qr.call(this,new Uint8Array(t),e)}function Kr(t,e){qr.call(this,new Uint8ClampedArray(t),e)}function $r(t,e){qr.call(this,new Int16Array(t),e)}function ta(t,e){qr.call(this,new Uint16Array(t),e)}function ea(t,e){qr.call(this,new Int32Array(t),e)}function ia(t,e){qr.call(this,new Uint32Array(t),e)}function na(t,e){qr.call(this,new Float32Array(t),e)}function ra(t,e){qr.call(this,new Float64Array(t),e)}function aa(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function oa(){Object.defineProperty(this,"id",{value:ca()}),this.uuid=Se.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}jr.DefaultUp=new Oe(0,1,0),jr.DefaultMatrixAutoUpdate=!0,Object.assign(jr.prototype,n.prototype,{isObject3D:!0,applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new Ie;return function(e,i){return t.setFromAxisAngle(e,i),this.quaternion.multiply(t),this}}(),rotateX:function(){var t=new Oe(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new Oe(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new Oe(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new Oe;return function(e,i){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(i)),this}}(),translateX:function(){var t=new Oe(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new Oe(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new Oe(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new Ue;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new Ue;return function(e){t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var i=this.children.indexOf(t);-1!==i&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(i,1))},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var i=0,n=this.children.length;i<n;i++){var r=this.children[i],a=r.getObjectByProperty(t,e);if(void 0!==a)return a}},getWorldPosition:function(t){var e=t||new Oe;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new Oe,e=new Oe;return function(i){var n=i||new Ie;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,n,e),n}}(),getWorldRotation:function(){var t=new Ie;return function(e){var i=e||new kr;return this.getWorldQuaternion(t),i.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new Oe,e=new Ie;return function(i){var n=i||new Oe;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,n),n}}(),getWorldDirection:function(){var t=new Ie;return function(e){var i=e||new Oe;return this.getWorldQuaternion(t),i.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==t||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].updateMatrixWorld(t)},toJSON:function(t){var e=void 0===t||""===t,i={};e&&(t={geometries:{},materials:{},textures:{},images:{}},i.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var n={};if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),n.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===t.geometries[this.geometry.uuid]&&(t.geometries[this.geometry.uuid]=this.geometry.toJSON(t)),n.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===t.materials[this.material.uuid]&&(t.materials[this.material.uuid]=this.material.toJSON(t)),n.material=this.material.uuid),this.children.length>0){n.children=[];for(var r=0;r<this.children.length;r++)n.children.push(this.children[r].toJSON(t).object)}if(e){var a=l(t.geometries),o=l(t.materials),s=l(t.textures),c=l(t.images);a.length>0&&(i.geometries=a),o.length>0&&(i.materials=o),s.length>0&&(i.textures=s),c.length>0&&(i.images=c)}return i.object=n,i;function l(t){var e=[];for(var i in t){var n=t[i];delete n.metadata,e.push(n)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var i=0;i<t.children.length;i++){var n=t.children[i];this.add(n.clone())}return this}}),Wr.prototype={constructor:Wr,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){var e=t||new Oe;return e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){var e=t||new Oe;return e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var i=e||new Oe;return this.delta(i).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new Oe,e=new Oe;return function(i,n){t.subVectors(i,this.start),e.subVectors(this.end,this.start);var r=e.dot(e),a=e.dot(t),o=a/r;return n&&(o=Se.clamp(o,0,1)),o}}(),closestPointToPoint:function(t,e,i){var n=this.closestPointToPointParameter(t,e),r=i||new Oe;return this.delta(r).multiplyScalar(n).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},Xr.normal=function(){var t=new Oe;return function(e,i,n,r){var a=r||new Oe;a.subVectors(n,i),t.subVectors(e,i),a.cross(t);var o=a.lengthSq();return o>0?a.multiplyScalar(1/Math.sqrt(o)):a.set(0,0,0)}}(),Xr.barycoordFromPoint=function(){var t=new Oe,e=new Oe,i=new Oe;return function(n,r,a,o,s){t.subVectors(o,r),e.subVectors(a,r),i.subVectors(n,r);var c=t.dot(t),l=t.dot(e),u=t.dot(i),h=e.dot(e),d=e.dot(i),p=c*h-l*l,f=s||new Oe;if(0===p)return f.set(-2,-1,-1);var m=1/p,v=(h*u-l*d)*m,g=(c*d-l*u)*m;return f.set(1-v-g,g,v)}}(),Xr.containsPoint=function(){var t=new Oe;return function(e,i,n,r){var a=Xr.barycoordFromPoint(e,i,n,r,t);return a.x>=0&&a.y>=0&&a.x+a.y<=1}}(),Xr.prototype={constructor:Xr,set:function(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this},setFromPointsAndIndices:function(t,e,i,n){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new Oe,e=new Oe;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){var e=t||new Oe;return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return Xr.normal(this.a,this.b,this.c,t)},plane:function(t){var e=t||new zr;return e.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return Xr.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return Xr.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(){var t,e,i,n;return function(r,a){void 0===t&&(t=new zr,e=[new Wr,new Wr,new Wr],i=new Oe,n=new Oe);var o=a||new Oe,s=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(r,i),!0===this.containsPoint(i))o.copy(i);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var c=0;c<e.length;c++){e[c].closestPointToPoint(i,!0,n);var l=i.distanceToSquared(n);l<s&&(s=l,o.copy(n))}}return o}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},Yr.prototype={constructor:Yr,clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,i=t.vertexNormals.length;e<i;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,i=t.vertexColors.length;e<i;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}},Zr.prototype=Object.create(Pr.prototype),Zr.prototype.constructor=Zr,Zr.prototype.isMeshBasicMaterial=!0,Zr.prototype.copy=function(t){return Pr.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},qr.prototype={constructor:qr,isBufferAttribute:!0,set needsUpdate(t){!0===t&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.itemSize,i*=e.itemSize;for(var n=0,r=this.itemSize;n<r;n++)this.array[t+n]=e.array[i+n];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),a=new wr),e[i++]=a.r,e[i++]=a.g,e[i++]=a.b}return this},copyIndicesArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];e[i++]=a.a,e[i++]=a.b,e[i++]=a.c}return this},copyVector2sArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),a=new Ae),e[i++]=a.x,e[i++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),a=new Oe),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),a=new Le),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z,e[i++]=a.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this},setXYZ:function(t,e,i,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this},setXYZW:function(t,e,i,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this.array[t+3]=r,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return(new this.constructor).copy(this)}},Jr.prototype=Object.create(qr.prototype),Jr.prototype.constructor=Jr,Qr.prototype=Object.create(qr.prototype),Qr.prototype.constructor=Qr,Kr.prototype=Object.create(qr.prototype),Kr.prototype.constructor=Kr,$r.prototype=Object.create(qr.prototype),$r.prototype.constructor=$r,ta.prototype=Object.create(qr.prototype),ta.prototype.constructor=ta,ea.prototype=Object.create(qr.prototype),ea.prototype.constructor=ea,ia.prototype=Object.create(qr.prototype),ia.prototype.constructor=ia,na.prototype=Object.create(qr.prototype),na.prototype.constructor=na,ra.prototype=Object.create(qr.prototype),ra.prototype.constructor=ra,Object.assign(aa.prototype,{computeGroups:function(t){for(var e,i=[],n=void 0,r=t.faces,a=0;a<r.length;a++){var o=r[a];o.materialIndex!==n&&(n=o.materialIndex,void 0!==e&&(e.count=3*a-e.start,i.push(e)),e={start:3*a,materialIndex:n})}void 0!==e&&(e.count=3*a-e.start,i.push(e)),this.groups=i},fromGeometry:function(t){var e,i=t.faces,n=t.vertices,r=t.faceVertexUvs,a=r[0]&&r[0].length>0,o=r[1]&&r[1].length>0,s=t.morphTargets,c=s.length;if(c>0){e=[];for(var l=0;l<c;l++)e[l]=[];this.morphTargets.position=e}var u,h=t.morphNormals,d=h.length;if(d>0){u=[];for(l=0;l<d;l++)u[l]=[];this.morphTargets.normal=u}var p=t.skinIndices,f=t.skinWeights,m=p.length===n.length,v=f.length===n.length;for(l=0;l<i.length;l++){var g=i[l];this.vertices.push(n[g.a],n[g.b],n[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var _=g.normal;this.normals.push(_,_,_)}var x=g.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var b=g.color;this.colors.push(b,b,b)}if(!0===a){var w=r[0][l];void 0!==w?this.uvs.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new Ae,new Ae,new Ae))}if(!0===o){w=r[1][l];void 0!==w?this.uvs2.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new Ae,new Ae,new Ae))}for(var M=0;M<c;M++){var E=s[M].vertices;e[M].push(E[g.a],E[g.b],E[g.c])}for(M=0;M<d;M++){var S=h[M].vertexNormals[l];u[M].push(S.a,S.b,S.c)}m&&this.skinIndices.push(p[g.a],p[g.b],p[g.c]),v&&this.skinWeights.push(f[g.a],f[g.b],f[g.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}}),Object.assign(oa.prototype,n.prototype,{isGeometry:!0,applyMatrix:function(t){for(var e=(new Nr).getNormalMatrix(t),i=0,n=this.vertices.length;i<n;i++){var r=this.vertices[i];r.applyMatrix4(t)}for(i=0,n=this.faces.length;i<n;i++){var a=this.faces[i];a.normal.applyMatrix3(e).normalize();for(var o=0,s=a.vertexNormals.length;o<s;o++)a.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new Ue),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new Ue),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new Ue),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,i,n){return void 0===t&&(t=new Ue),t.makeTranslation(e,i,n),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,i,n){return void 0===t&&(t=new Ue),t.makeScale(e,i,n),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new jr),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){var e=this,i=null!==t.index?t.index.array:void 0,n=t.attributes,r=n.position.array,a=void 0!==n.normal?n.normal.array:void 0,o=void 0!==n.color?n.color.array:void 0,s=void 0!==n.uv?n.uv.array:void 0,c=void 0!==n.uv2?n.uv2.array:void 0;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var l=[],u=[],h=[],d=0,p=0;d<r.length;d+=3,p+=2)e.vertices.push(new Oe(r[d],r[d+1],r[d+2])),void 0!==a&&l.push(new Oe(a[d],a[d+1],a[d+2])),void 0!==o&&e.colors.push(new wr(o[d],o[d+1],o[d+2])),void 0!==s&&u.push(new Ae(s[p],s[p+1])),void 0!==c&&h.push(new Ae(c[p],c[p+1]));function f(t,i,n,r){var d=void 0!==a?[l[t].clone(),l[i].clone(),l[n].clone()]:[],p=void 0!==o?[e.colors[t].clone(),e.colors[i].clone(),e.colors[n].clone()]:[],f=new Yr(t,i,n,d,p,r);e.faces.push(f),void 0!==s&&e.faceVertexUvs[0].push([u[t].clone(),u[i].clone(),u[n].clone()]),void 0!==c&&e.faceVertexUvs[1].push([h[t].clone(),h[i].clone(),h[n].clone()])}if(void 0!==i){var m=t.groups;if(m.length>0)for(d=0;d<m.length;d++)for(var v=m[d],g=v.start,y=v.count,_=(p=g,g+y);p<_;p+=3)f(i[p],i[p+1],i[p+2],v.materialIndex);else for(d=0;d<i.length;d+=3)f(i[d],i[d+1],i[d+2])}else for(d=0;d<r.length/3;d+=3)f(d,d+1,d+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,i=0===e?1:1/e,n=new Ue;return n.set(i,0,0,-i*t.x,0,i,0,-i*t.y,0,0,i,-i*t.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var t=new Oe,e=new Oe,i=0,n=this.faces.length;i<n;i++){var r=this.faces[i],a=this.vertices[r.a],o=this.vertices[r.b],s=this.vertices[r.c];t.subVectors(s,o),e.subVectors(a,o),t.cross(e),t.normalize(),r.normal.copy(t)}},computeVertexNormals:function(t){var e,i,n,r,a,o;for(void 0===t&&(t=!0),o=new Array(this.vertices.length),e=0,i=this.vertices.length;e<i;e++)o[e]=new Oe;if(t){var s,c,l,u=new Oe,h=new Oe;for(n=0,r=this.faces.length;n<r;n++)a=this.faces[n],s=this.vertices[a.a],c=this.vertices[a.b],l=this.vertices[a.c],u.subVectors(l,c),h.subVectors(s,c),u.cross(h),o[a.a].add(u),o[a.b].add(u),o[a.c].add(u)}else for(this.computeFaceNormals(),n=0,r=this.faces.length;n<r;n++)a=this.faces[n],o[a.a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(e=0,i=this.vertices.length;e<i;e++)o[e].normalize();for(n=0,r=this.faces.length;n<r;n++){a=this.faces[n];var d=a.vertexNormals;3===d.length?(d[0].copy(o[a.a]),d[1].copy(o[a.b]),d[2].copy(o[a.c])):(d[0]=o[a.a].clone(),d[1]=o[a.b].clone(),d[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,i;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){i=this.faces[t];var n=i.vertexNormals;3===n.length?(n[0].copy(i.normal),n[1].copy(i.normal),n[2].copy(i.normal)):(n[0]=i.normal.clone(),n[1]=i.normal.clone(),n[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,i,n,r;for(i=0,n=this.faces.length;i<n;i++)for(r=this.faces[i],r.__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),t=0,e=r.vertexNormals.length;t<e;t++)r.__originalVertexNormals[t]?r.__originalVertexNormals[t].copy(r.vertexNormals[t]):r.__originalVertexNormals[t]=r.vertexNormals[t].clone();var a=new oa;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(i=0,n=this.faces.length;i<n;i++)c=new Oe,l={a:new Oe,b:new Oe,c:new Oe},o.push(c),s.push(l)}var c,l,u=this.morphNormals[t];for(a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals(),i=0,n=this.faces.length;i<n;i++)r=this.faces[i],c=u.faceNormals[i],l=u.vertexNormals[i],c.copy(r.normal),l.a.copy(r.vertexNormals[0]),l.b.copy(r.vertexNormals[1]),l.c.copy(r.vertexNormals[2])}for(i=0,n=this.faces.length;i<n;i++)r=this.faces[i],r.normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeLineDistances:function(){for(var t=0,e=this.vertices,i=0,n=e.length;i<n;i++)i>0&&(t+=e[i].distanceTo(e[i-1])),this.lineDistances[i]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Ur),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Dr),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,i){if(!1!==(t&&t.isGeometry)){var n,r=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,c=t.faces,l=this.faceVertexUvs[0],u=t.faceVertexUvs[0],h=this.colors,d=t.colors;void 0===i&&(i=0),void 0!==e&&(n=(new Nr).getNormalMatrix(e));for(var p=0,f=o.length;p<f;p++){var m=o[p],v=m.clone();void 0!==e&&v.applyMatrix4(e),a.push(v)}for(p=0,f=d.length;p<f;p++)h.push(d[p].clone());for(p=0,f=c.length;p<f;p++){var g,y,_,x=c[p],b=x.vertexNormals,w=x.vertexColors;g=new Yr(x.a+r,x.b+r,x.c+r),g.normal.copy(x.normal),void 0!==n&&g.normal.applyMatrix3(n).normalize();for(var M=0,E=b.length;M<E;M++)y=b[M].clone(),void 0!==n&&y.applyMatrix3(n).normalize(),g.vertexNormals.push(y);g.color.copy(x.color);for(M=0,E=w.length;M<E;M++)_=w[M],g.vertexColors.push(_.clone());g.materialIndex=x.materialIndex+i,s.push(g)}for(p=0,f=u.length;p<f;p++){var S=u[p],A=[];if(void 0!==S){for(M=0,E=S.length;M<E;M++)A.push(S[M].clone());l.push(A)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){!1!==(t&&t.isMesh)?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t,e,i,n,r,a,o,s,c={},l=[],u=[],h=4,d=Math.pow(10,h);for(i=0,n=this.vertices.length;i<n;i++)t=this.vertices[i],e=Math.round(t.x*d)+"_"+Math.round(t.y*d)+"_"+Math.round(t.z*d),void 0===c[e]?(c[e]=i,l.push(this.vertices[i]),u[i]=l.length-1):u[i]=u[c[e]];var p=[];for(i=0,n=this.faces.length;i<n;i++){r=this.faces[i],r.a=u[r.a],r.b=u[r.b],r.c=u[r.c],a=[r.a,r.b,r.c];for(var f=0;f<3;f++)if(a[f]===a[(f+1)%3]){f,p.push(i);break}}for(i=p.length-1;i>=0;i--){var m=p[i];for(this.faces.splice(m,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(m,1)}var v=this.vertices.length-l.length;return this.vertices=l,v},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,i=0;i<e;i++)t[i]._id=i;function n(t,e){return t.materialIndex-e.materialIndex}t.sort(n);var r,a,o=this.faceVertexUvs[0],s=this.faceVertexUvs[1];o&&o.length===e&&(r=[]),s&&s.length===e&&(a=[]);for(i=0;i<e;i++){var c=t[i]._id;r&&r.push(o[c]),a&&a.push(s[c])}r&&(this.faceVertexUvs[0]=r),a&&(this.faceVertexUvs[1]=a)},toJSON:function(){var t={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}for(var n=[],r=0;r<this.vertices.length;r++){var a=this.vertices[r];n.push(a.x,a.y,a.z)}var o=[],s=[],c={},l=[],u={},h=[],d={};for(r=0;r<this.faces.length;r++){var p=this.faces[r],f=!0,m=!1,v=void 0!==this.faceVertexUvs[0][r],g=p.normal.length()>0,y=p.vertexNormals.length>0,_=1!==p.color.r||1!==p.color.g||1!==p.color.b,x=p.vertexColors.length>0,b=0;if(b=S(b,0,0),b=S(b,1,f),b=S(b,2,m),b=S(b,3,v),b=S(b,4,g),b=S(b,5,y),b=S(b,6,_),b=S(b,7,x),o.push(b),o.push(p.a,p.b,p.c),o.push(p.materialIndex),v){var w=this.faceVertexUvs[0][r];o.push(C(w[0]),C(w[1]),C(w[2]))}if(g&&o.push(A(p.normal)),y){var M=p.vertexNormals;o.push(A(M[0]),A(M[1]),A(M[2]))}if(_&&o.push(T(p.color)),x){var E=p.vertexColors;o.push(T(E[0]),T(E[1]),T(E[2]))}}function S(t,e,i){return i?t|1<<e:t&~(1<<e)}function A(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==c[e]||(c[e]=s.length/3,s.push(t.x,t.y,t.z)),c[e]}function T(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==u[e]||(u[e]=l.length,l.push(t.getHex())),u[e]}function C(t){var e=t.x.toString()+t.y.toString();return void 0!==d[e]||(d[e]=h.length/2,h.push(t.x,t.y)),d[e]}return t.data={},t.data.vertices=n,t.data.normals=s,l.length>0&&(t.data.colors=l),h.length>0&&(t.data.uvs=[h]),t.data.faces=o,t},clone:function(){return(new oa).copy(this)},copy:function(t){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]],this.colors=[];for(var e=t.vertices,i=0,n=e.length;i<n;i++)this.vertices.push(e[i].clone());var r=t.colors;for(i=0,n=r.length;i<n;i++)this.colors.push(r[i].clone());var a=t.faces;for(i=0,n=a.length;i<n;i++)this.faces.push(a[i].clone());for(i=0,n=t.faceVertexUvs.length;i<n;i++){var o=t.faceVertexUvs[i];void 0===this.faceVertexUvs[i]&&(this.faceVertexUvs[i]=[]);for(var s=0,c=o.length;s<c;s++){for(var l=o[s],u=[],h=0,d=l.length;h<d;h++){var p=l[h];u.push(p.clone())}this.faceVertexUvs[i].push(u)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var sa=0;function ca(){return sa++}function la(){Object.defineProperty(this,"id",{value:ca()}),this.uuid=Se.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function ua(t,e){jr.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new la,this.material=void 0!==e?e:new Zr({color:16777215*Math.random()}),this.drawMode=de,this.updateMorphTargets()}function ha(t,e,i,n,r,a){la.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:n,heightSegments:r,depthSegments:a};var o=this;n=Math.floor(n)||1,r=Math.floor(r)||1,a=Math.floor(a)||1;var s=y(n,r,a),c=_(n,r,a),l=new(c>65535?Uint32Array:Uint16Array)(c),u=new Float32Array(3*s),h=new Float32Array(3*s),d=new Float32Array(2*s),p=0,f=0,m=0,v=0,g=0;function y(t,e,i){var n=0;return n+=(t+1)*(e+1)*2,n+=(t+1)*(i+1)*2,n+=(i+1)*(e+1)*2,n}function _(t,e,i){var n=0;return n+=t*e*2,n+=t*i*2,n+=i*e*2,6*n}function x(t,e,i,n,r,a,s,c,y,_,x){for(var b=a/y,w=s/_,M=a/2,E=s/2,S=c/2,A=y+1,T=_+1,C=0,L=0,R=new Oe,P=0;P<T;P++)for(var I=P*w-E,O=0;O<A;O++){var U=O*b-M;R[t]=U*n,R[e]=I*r,R[i]=S,u[p]=R.x,u[p+1]=R.y,u[p+2]=R.z,R[t]=0,R[e]=0,R[i]=c>0?1:-1,h[p]=R.x,h[p+1]=R.y,h[p+2]=R.z,d[f]=O/y,d[f+1]=1-P/_,p+=3,f+=2,C+=1}for(P=0;P<_;P++)for(O=0;O<y;O++){var D=v+O+A*P,N=v+O+A*(P+1),z=v+(O+1)+A*(P+1),F=v+(O+1)+A*P;l[m]=D,l[m+1]=N,l[m+2]=F,l[m+3]=N,l[m+4]=z,l[m+5]=F,m+=6,L+=6}o.addGroup(g,L,x),g+=L,v+=C}x("z","y","x",-1,-1,i,e,t,a,r,0),x("z","y","x",1,-1,i,e,-t,a,r,1),x("x","z","y",1,1,t,i,e,n,a,2),x("x","z","y",1,-1,t,i,-e,n,a,3),x("x","y","z",1,-1,t,e,i,n,r,4),x("x","y","z",-1,-1,t,e,-i,n,r,5),this.setIndex(new qr(l,1)),this.addAttribute("position",new qr(u,3)),this.addAttribute("normal",new qr(h,3)),this.addAttribute("uv",new qr(d,2))}function da(t,e,i,n){la.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:n};for(var r=t/2,a=e/2,o=Math.floor(i)||1,s=Math.floor(n)||1,c=o+1,l=s+1,u=t/o,h=e/s,d=new Float32Array(c*l*3),p=new Float32Array(c*l*3),f=new Float32Array(c*l*2),m=0,v=0,g=0;g<l;g++)for(var y=g*h-a,_=0;_<c;_++){var x=_*u-r;d[m]=x,d[m+1]=-y,p[m+2]=1,f[v]=_/o,f[v+1]=1-g/s,m+=3,v+=2}m=0;var b=new(d.length/3>65535?Uint32Array:Uint16Array)(o*s*6);for(g=0;g<s;g++)for(_=0;_<o;_++){var w=_+c*g,M=_+c*(g+1),E=_+1+c*(g+1),S=_+1+c*g;b[m]=w,b[m+1]=M,b[m+2]=S,b[m+3]=M,b[m+4]=E,b[m+5]=S,m+=6}this.setIndex(new qr(b,1)),this.addAttribute("position",new qr(d,3)),this.addAttribute("normal",new qr(p,3)),this.addAttribute("uv",new qr(f,2))}function pa(){jr.call(this),this.type="Camera",this.matrixWorldInverse=new Ue,this.projectionMatrix=new Ue}function fa(t,e,i,n){pa.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==i?i:.1,this.far=void 0!==n?n:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function ma(t,e,i,n,r,a){pa.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=n,this.near=void 0!==r?r:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function va(t,e,i){var n,r,a;function o(t){n=t}function s(i){i.array instanceof Uint32Array&&e.get("OES_element_index_uint")?(r=t.UNSIGNED_INT,a=4):i.array instanceof Uint16Array?(r=t.UNSIGNED_SHORT,a=2):(r=t.UNSIGNED_BYTE,a=1)}function c(e,o){t.drawElements(n,o,r,e*a),i.calls++,i.vertices+=o,n===t.TRIANGLES&&(i.faces+=o/3)}function l(o,s,c){var l=e.get("ANGLE_instanced_arrays");null!==l?(l.drawElementsInstancedANGLE(n,c,r,s*a,o.maxInstancedCount),i.calls++,i.vertices+=c*o.maxInstancedCount,n===t.TRIANGLES&&(i.faces+=o.maxInstancedCount*c/3)):console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}return{setMode:o,setIndex:s,render:c,renderInstances:l}}function ga(t,e,i){var n;function r(t){n=t}function a(e,r){t.drawArrays(n,e,r),i.calls++,i.vertices+=r,n===t.TRIANGLES&&(i.faces+=r/3)}function o(r){var a=e.get("ANGLE_instanced_arrays");if(null!==a){var o=r.attributes.position,s=0;o.isInterleavedBufferAttribute?(s=o.data.count,a.drawArraysInstancedANGLE(n,0,s,r.maxInstancedCount)):(s=o.count,a.drawArraysInstancedANGLE(n,0,s,r.maxInstancedCount)),i.calls++,i.vertices+=s*r.maxInstancedCount,n===t.TRIANGLES&&(i.faces+=r.maxInstancedCount*s/3)}else console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}return{setMode:r,render:a,renderInstances:o}}function ya(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var i;switch(e.type){case"DirectionalLight":i={direction:new Oe,color:new wr,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Ae};break;case"SpotLight":i={position:new Oe,direction:new Oe,color:new wr,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Ae};break;case"PointLight":i={position:new Oe,color:new wr,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Ae};break;case"HemisphereLight":i={direction:new Oe,skyColor:new wr,groundColor:new wr};break;case"RectAreaLight":i={color:new wr,position:new Oe,halfWidth:new Oe,halfHeight:new Oe};break}return t[e.id]=i,i}}}function _a(t){for(var e=t.split("\n"),i=0;i<e.length;i++)e[i]=i+1+": "+e[i];return e.join("\n")}function xa(t,e,i){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),!1===t.getShaderParameter(n,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(n)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(n),_a(i)),n}Object.assign(la.prototype,n.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){this.index=t},addAttribute:function(t,e){return!1===(e&&e.isBufferAttribute)&&!1===(e&&e.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(t,new qr(arguments[1],arguments[2]))):"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(e)):(this.attributes[t]=e,this)},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,i){this.groups.push({start:t,count:e,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToVector3Array(e.array),e.needsUpdate=!0);var i=this.attributes.normal;if(void 0!==i){var n=(new Nr).getNormalMatrix(t);n.applyToVector3Array(i.array),i.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new Ue),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new Ue),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new Ue),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,i,n){return void 0===t&&(t=new Ue),t.makeTranslation(e,i,n),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,i,n){return void 0===t&&(t=new Ue),t.makeScale(e,i,n),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new jr),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var i=new na(3*e.vertices.length,3),n=new na(3*e.colors.length,3);if(this.addAttribute("position",i.copyVector3sArray(e.vertices)),this.addAttribute("color",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var r=new na(e.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e,i=t.geometry;if(t.isMesh){var n=i.__directGeometry;if(!0===i.elementsNeedUpdate&&(n=void 0,i.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(i);n.verticesNeedUpdate=i.verticesNeedUpdate,n.normalsNeedUpdate=i.normalsNeedUpdate,n.colorsNeedUpdate=i.colorsNeedUpdate,n.uvsNeedUpdate=i.uvsNeedUpdate,n.groupsNeedUpdate=i.groupsNeedUpdate,i.verticesNeedUpdate=!1,i.normalsNeedUpdate=!1,i.colorsNeedUpdate=!1,i.uvsNeedUpdate=!1,i.groupsNeedUpdate=!1,i=n}return!0===i.verticesNeedUpdate&&(e=this.attributes.position,void 0!==e&&(e.copyVector3sArray(i.vertices),e.needsUpdate=!0),i.verticesNeedUpdate=!1),!0===i.normalsNeedUpdate&&(e=this.attributes.normal,void 0!==e&&(e.copyVector3sArray(i.normals),e.needsUpdate=!0),i.normalsNeedUpdate=!1),!0===i.colorsNeedUpdate&&(e=this.attributes.color,void 0!==e&&(e.copyColorsArray(i.colors),e.needsUpdate=!0),i.colorsNeedUpdate=!1),i.uvsNeedUpdate&&(e=this.attributes.uv,void 0!==e&&(e.copyVector2sArray(i.uvs),e.needsUpdate=!0),i.uvsNeedUpdate=!1),i.lineDistancesNeedUpdate&&(e=this.attributes.lineDistance,void 0!==e&&(e.copyArray(i.lineDistances),e.needsUpdate=!0),i.lineDistancesNeedUpdate=!1),i.groupsNeedUpdate&&(i.computeGroups(t.geometry),this.groups=i.groups,i.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new aa).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new qr(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var i=new Float32Array(3*t.normals.length);this.addAttribute("normal",new qr(i,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var n=new Float32Array(3*t.colors.length);this.addAttribute("color",new qr(n,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var r=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new qr(r,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new qr(a,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var o=t.vertices.length>65535?Uint32Array:Uint16Array,s=new o(3*t.indices.length);this.setIndex(new qr(s,1).copyIndicesArray(t.indices))}for(var c in this.groups=t.groups,t.morphTargets){for(var l=[],u=t.morphTargets[c],h=0,d=u.length;h<d;h++){var p=u[h],f=new na(3*p.length,3);l.push(f.copyVector3sArray(p))}this.morphAttributes[c]=l}if(t.skinIndices.length>0){var m=new na(4*t.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var v=new na(4*t.skinWeights.length,4);this.addAttribute("skinWeight",v.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Ur);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new Ur,e=new Oe;return function(){null===this.boundingSphere&&(this.boundingSphere=new Dr);var i=this.attributes.position;if(i){var n=this.boundingSphere.center;t.setFromBufferAttribute(i),t.getCenter(n);for(var r=0,a=0,o=i.count;a<o;a++)e.x=i.getX(a),e.y=i.getY(a),e.z=i.getZ(a),r=Math.max(r,n.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,i=this.groups;if(e.position){var n=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new qr(new Float32Array(n.length),3));else for(var r=e.normal.array,a=0,o=r.length;a<o;a++)r[a]=0;var s,c,l,u=e.normal.array,h=new Oe,d=new Oe,p=new Oe,f=new Oe,m=new Oe;if(t){var v=t.array;0===i.length&&this.addGroup(0,v.length);for(var g=0,y=i.length;g<y;++g){var _=i[g],x=_.start,b=_.count;for(a=x,o=x+b;a<o;a+=3)s=3*v[a+0],c=3*v[a+1],l=3*v[a+2],h.fromArray(n,s),d.fromArray(n,c),p.fromArray(n,l),f.subVectors(p,d),m.subVectors(h,d),f.cross(m),u[s]+=f.x,u[s+1]+=f.y,u[s+2]+=f.z,u[c]+=f.x,u[c+1]+=f.y,u[c+2]+=f.z,u[l]+=f.x,u[l+1]+=f.y,u[l+2]+=f.z}}else for(a=0,o=n.length;a<o;a+=9)h.fromArray(n,a),d.fromArray(n,a+3),p.fromArray(n,a+6),f.subVectors(p,d),m.subVectors(h,d),f.cross(m),u[a]=f.x,u[a+1]=f.y,u[a+2]=f.z,u[a+3]=f.x,u[a+4]=f.y,u[a+5]=f.z,u[a+6]=f.x,u[a+7]=f.y,u[a+8]=f.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(!1!==(t&&t.isBufferGeometry)){void 0===e&&(e=0);var i=this.attributes;for(var n in i)if(void 0!==t.attributes[n])for(var r=i[n],a=r.array,o=t.attributes[n],s=o.array,c=o.itemSize,l=0,u=c*e;l<s.length;l++,u++)a[u]=s[l];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){for(var t,e,i,n,r=this.attributes.normal.array,a=0,o=r.length;a<o;a+=3)t=r[a],e=r[a+1],i=r[a+2],n=1/Math.sqrt(t*t+e*e+i*i),r[a]*=n,r[a+1]*=n,r[a+2]*=n},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new la,e=this.index.array,i=this.attributes;for(var n in i){for(var r=i[n],a=r.array,o=r.itemSize,s=new a.constructor(e.length*o),c=0,l=0,u=0,h=e.length;u<h;u++){c=e[u]*o;for(var d=0;d<o;d++)s[l++]=a[c++]}t.addAttribute(n,new qr(s,o))}return t},toJSON:function(){var t={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}t.data={attributes:{}};var n=this.index;if(null!==n){var r=Array.prototype.slice.call(n.array);t.data.index={type:n.array.constructor.name,array:r}}var a=this.attributes;for(var i in a){var o=a[i];r=Array.prototype.slice.call(o.array);t.data.attributes[i]={itemSize:o.itemSize,type:o.array.constructor.name,array:r,normalized:o.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var c=this.boundingSphere;return null!==c&&(t.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),t},clone:function(){return(new la).copy(this)},copy:function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var i=t.attributes;for(var n in i){var r=i[n];this.addAttribute(n,r.clone())}for(var a=t.groups,o=0,s=a.length;o<s;o++){var c=a[o];this.addGroup(c.start,c.count,c.materialIndex)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),la.MaxIndex=65535,ua.prototype=Object.assign(Object.create(jr.prototype),{constructor:ua,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return jr.prototype.copy.call(this,t),this.drawMode=t.drawMode,this},updateMorphTargets:function(){var t=this.geometry.morphTargets;if(void 0!==t&&t.length>0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,i=t.length;e<i;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[t[e].name]=e}},raycast:function(){var t=new Ue,e=new Gr,i=new Dr,n=new Oe,r=new Oe,a=new Oe,o=new Oe,s=new Oe,c=new Oe,l=new Ae,u=new Ae,h=new Ae,d=new Oe,p=new Oe,f=new Oe;function m(t,e,i,n,r,a,o){return Xr.barycoordFromPoint(t,e,i,n,d),r.multiplyScalar(d.x),a.multiplyScalar(d.y),o.multiplyScalar(d.z),r.add(a).add(o),r.clone()}function y(t,e,i,n,r,a,o){var s,c=t.material;if(s=c.side===v?i.intersectTriangle(a,r,n,!0,o):i.intersectTriangle(n,r,a,c.side!==g,o),null===s)return null;f.copy(o),f.applyMatrix4(t.matrixWorld);var l=e.ray.origin.distanceTo(f);return l<e.near||l>e.far?null:{distance:l,point:f.clone(),object:t}}function _(t,e,i,o,s,c,d,f){n.fromArray(o,3*c),r.fromArray(o,3*d),a.fromArray(o,3*f);var v=y(t,e,i,n,r,a,p);return v&&(s&&(l.fromArray(s,2*c),u.fromArray(s,2*d),h.fromArray(s,2*f),v.uv=m(p,n,r,a,l,u,h)),v.face=new Yr(c,d,f,Xr.normal(n,r,a)),v.faceIndex=c),v}return function(d,f){var v,g,x=this.geometry,b=this.material,w=this.matrixWorld;if(void 0!==b&&(null===x.boundingSphere&&x.computeBoundingSphere(),i.copy(x.boundingSphere),i.applyMatrix4(w),!1!==d.ray.intersectsSphere(i)&&(t.getInverse(w),e.copy(d.ray).applyMatrix4(t),null===x.boundingBox||!1!==e.intersectsBox(x.boundingBox))))if(x.isBufferGeometry){var M,E,S,A=x.index,T=x.attributes,C=T.position.array;if(void 0!==T.uv&&(v=T.uv.array),null!==A)for(var L=A.array,R=0,P=L.length;R<P;R+=3)M=L[R],E=L[R+1],S=L[R+2],g=_(this,d,e,C,v,M,E,S),g&&(g.faceIndex=Math.floor(R/3),f.push(g));else for(R=0,P=C.length;R<P;R+=9)M=R/3,E=M+1,S=M+2,g=_(this,d,e,C,v,M,E,S),g&&(g.index=M,f.push(g))}else if(x.isGeometry){var I,O,U,D=b&&b.isMultiMaterial,N=!0===D?b.materials:null,z=x.vertices,F=x.faces,B=x.faceVertexUvs[0];B.length>0&&(v=B);for(var G=0,k=F.length;G<k;G++){var H=F[G],V=!0===D?N[H.materialIndex]:b;if(void 0!==V){if(I=z[H.a],O=z[H.b],U=z[H.c],!0===V.morphTargets){var j=x.morphTargets,W=this.morphTargetInfluences;n.set(0,0,0),r.set(0,0,0),a.set(0,0,0);for(var X=0,Y=j.length;X<Y;X++){var Z=W[X];if(0!==Z){var q=j[X].vertices;n.addScaledVector(o.subVectors(q[H.a],I),Z),r.addScaledVector(s.subVectors(q[H.b],O),Z),a.addScaledVector(c.subVectors(q[H.c],U),Z)}}n.add(I),r.add(O),a.add(U),I=n,O=r,U=a}if(g=y(this,d,e,I,O,U,p),g){if(v){var J=v[G];l.copy(J[0]),u.copy(J[1]),h.copy(J[2]),g.uv=m(p,I,O,U,l,u,h)}g.face=H,g.faceIndex=G,f.push(g)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ha.prototype=Object.create(la.prototype),ha.prototype.constructor=ha,da.prototype=Object.create(la.prototype),da.prototype.constructor=da,pa.prototype=Object.create(jr.prototype),pa.prototype.constructor=pa,pa.prototype.isCamera=!0,pa.prototype.getWorldDirection=function(){var t=new Ie;return function(e){var i=e||new Oe;return this.getWorldQuaternion(t),i.set(0,0,-1).applyQuaternion(t)}}(),pa.prototype.lookAt=function(){var t=new Ue;return function(e){t.lookAt(this.position,e,this.up),this.quaternion.setFromRotationMatrix(t)}}(),pa.prototype.clone=function(){return(new this.constructor).copy(this)},pa.prototype.copy=function(t){return jr.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},fa.prototype=Object.assign(Object.create(pa.prototype),{constructor:fa,isPerspectiveCamera:!0,copy:function(t){return pa.prototype.copy.call(this,t),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Se.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Se.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Se.RAD2DEG*Math.atan(Math.tan(.5*Se.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,i,n,r,a){this.aspect=t/e,this.view={fullWidth:t,fullHeight:e,offsetX:i,offsetY:n,width:r,height:a},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Se.DEG2RAD*this.fov)/this.zoom,i=2*e,n=this.aspect*i,r=-.5*n,a=this.view;if(null!==a){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*n/o,e-=a.offsetY*i/s,n*=a.width/o,i*=a.height/s}var c=this.filmOffset;0!==c&&(r+=t*c/this.getFilmWidth()),this.projectionMatrix.makeFrustum(r,r+n,e-i,e,t,this.far)},toJSON:function(t){var e=jr.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),ma.prototype=Object.assign(Object.create(pa.prototype),{constructor:ma,isOrthographicCamera:!0,copy:function(t){return pa.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,i,n,r,a){this.view={fullWidth:t,fullHeight:e,offsetX:i,offsetY:n,width:r,height:a},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,n=(this.top+this.bottom)/2,r=i-t,a=i+t,o=n+e,s=n-e;if(null!==this.view){var c=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),u=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;r+=u*(this.view.offsetX/c),a=r+u*(this.view.width/c),o-=h*(this.view.offsetY/l),s=o-h*(this.view.height/l)}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far)},toJSON:function(t){var e=jr.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}});var ba=0;function wa(t){switch(t){case me:return["Linear","( value )"];case ve:return["sRGB","( value )"];case ye:return["RGBE","( value )"];case xe:return["RGBM","( value, 7.0 )"];case be:return["RGBM","( value, 16.0 )"];case we:return["RGBD","( value, 256.0 )"];case ge:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function Ma(t,e){var i=wa(e);return"vec4 "+t+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function Ea(t,e){var i=wa(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+i[0]+i[1]+"; }"}function Sa(t,e){var i;switch(e){case rt:i="Linear";break;case at:i="Reinhard";break;case ot:i="Uncharted2";break;case st:i="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function Aa(t,e,i){t=t||{};var n=[t.derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&i.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&i.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&i.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""];return n.filter(La).join("\n")}function Ta(t){var e=[];for(var i in t){var n=t[i];!1!==n&&e.push("#define "+i+" "+n)}return e.join("\n")}function Ca(t,e,i){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<r;a++){var o=t.getActiveAttrib(e,a),s=o.name;n[s]=t.getAttribLocation(e,s)}return n}function La(t){return""!==t}function Ra(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function Pa(t){var e=/#include +<([\w\d.]+)>/g;function i(t,e){var i=br[e];if(void 0===i)throw new Error("Can not resolve #include <"+e+">");return Pa(i)}return t.replace(e,i)}function Ia(t){var e=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function i(t,e,i,n){for(var r="",a=parseInt(e);a<parseInt(i);a++)r+=n.replace(/\[ i \]/g,"[ "+a+" ]");return r}return t.replace(e,i)}function Oa(t,e,i,n){var r=t.context,a=i.extensions,o=i.defines,s=i.__webglShader.vertexShader,c=i.__webglShader.fragmentShader,l="SHADOWMAP_TYPE_BASIC";n.shadowMapType===p?l="SHADOWMAP_TYPE_PCF":n.shadowMapType===f&&(l="SHADOWMAP_TYPE_PCF_SOFT");var u="ENVMAP_TYPE_CUBE",h="ENVMAP_MODE_REFLECTION",d="ENVMAP_BLENDING_MULTIPLY";if(n.envMap){switch(i.envMap.mapping){case lt:case ut:u="ENVMAP_TYPE_CUBE";break;case ft:case mt:u="ENVMAP_TYPE_CUBE_UV";break;case ht:case dt:u="ENVMAP_TYPE_EQUIREC";break;case pt:u="ENVMAP_TYPE_SPHERE";break}switch(i.envMap.mapping){case ut:case dt:h="ENVMAP_MODE_REFRACTION";break}switch(i.combine){case tt:d="ENVMAP_BLENDING_MULTIPLY";break;case et:d="ENVMAP_BLENDING_MIX";break;case it:d="ENVMAP_BLENDING_ADD";break}}var m,v,g=t.gammaFactor>0?t.gammaFactor:1,y=Aa(a,n,t.extensions),_=Ta(o),x=r.createProgram();i.isRawShaderMaterial?(m=[_,"\n"].filter(La).join("\n"),v=[y,_,"\n"].filter(La).join("\n")):(m=["precision "+n.precision+" float;","precision "+n.precision+" int;","#define SHADER_NAME "+i.__webglShader.name,_,n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+g,"#define MAX_BONES "+n.maxBones,n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.vertexColors?"#define USE_COLOR":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+n.numClippingPlanes,n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(La).join("\n"),v=[y,"precision "+n.precision+" float;","precision "+n.precision+" int;","#define SHADER_NAME "+i.__webglShader.name,_,n.alphaTest?"#define ALPHATEST "+n.alphaTest:"","#define GAMMA_FACTOR "+g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.vertexColors?"#define USE_COLOR":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+n.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(n.numClippingPlanes-n.numClipIntersection),n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&t.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",n.envMap&&t.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",n.toneMapping!==nt?"#define TONE_MAPPING":"",n.toneMapping!==nt?br["tonemapping_pars_fragment"]:"",n.toneMapping!==nt?Sa("toneMapping",n.toneMapping):"",n.outputEncoding||n.mapEncoding||n.envMapEncoding||n.emissiveMapEncoding?br["encodings_pars_fragment"]:"",n.mapEncoding?Ma("mapTexelToLinear",n.mapEncoding):"",n.envMapEncoding?Ma("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMapEncoding?Ma("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.outputEncoding?Ea("linearToOutputTexel",n.outputEncoding):"",n.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(La).join("\n")),s=Pa(s,n),s=Ra(s,n),c=Pa(c,n),c=Ra(c,n),i.isShaderMaterial||(s=Ia(s),c=Ia(c));var b=m+s,w=v+c,M=xa(r,r.VERTEX_SHADER,b),E=xa(r,r.FRAGMENT_SHADER,w);r.attachShader(x,M),r.attachShader(x,E),void 0!==i.index0AttributeName?r.bindAttribLocation(x,0,i.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(x,0,"position"),r.linkProgram(x);var S,A,T=r.getProgramInfoLog(x),C=r.getShaderInfoLog(M),L=r.getShaderInfoLog(E),R=!0,P=!0;return!1===r.getProgramParameter(x,r.LINK_STATUS)?(R=!1,console.error("THREE.WebGLProgram: shader error: ",r.getError(),"gl.VALIDATE_STATUS",r.getProgramParameter(x,r.VALIDATE_STATUS),"gl.getProgramInfoLog",T,C,L)):""!==T?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",T):""!==C&&""!==L||(P=!1),P&&(this.diagnostics={runnable:R,material:i,programLog:T,vertexShader:{log:C,prefix:m},fragmentShader:{log:L,prefix:v}}),r.deleteShader(M),r.deleteShader(E),this.getUniforms=function(){return void 0===S&&(S=new xi(r,x,t)),S},this.getAttributes=function(){return void 0===A&&(A=Ca(r,x)),A},this.destroy=function(){r.deleteProgram(x),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=ba++,this.code=e,this.usedTimes=1,this.program=x,this.vertexShader=M,this.fragmentShader=E,this}function Ua(t,e){var i=[],n={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},r=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking"];function a(t){if(e.floatVertexTextures&&t&&t.skeleton&&t.skeleton.useVertexTexture)return 1024;var i=e.maxVertexUniforms,n=Math.floor((i-20)/4),r=n;return void 0!==t&&t&&t.isSkinnedMesh&&(r=Math.min(t.skeleton.bones.length,r),r<t.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+t.skeleton.bones.length+", this GPU supports just "+r+" (try OpenGL instead of ANGLE)")),r}function o(t,e){var i;return t?t.isTexture?i=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),i=t.texture.encoding):i=me,i===me&&e&&(i=ge),i}this.getParameters=function(i,r,s,c,l,u){var h=n[i.type],d=a(u),p=t.getPrecision();null!==i.precision&&(p=e.getMaxPrecision(i.precision),p!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",p,"instead."));var f=t.getCurrentRenderTarget(),m={shaderID:h,precision:p,supportsVertexTextures:e.vertexTextures,outputEncoding:o(f?f.texture:null,t.gammaOutput),map:!!i.map,mapEncoding:o(i.map,t.gammaInput),envMap:!!i.envMap,envMapMode:i.envMap&&i.envMap.mapping,envMapEncoding:o(i.envMap,t.gammaInput),envMapCubeUV:!!i.envMap&&(i.envMap.mapping===ft||i.envMap.mapping===mt),lightMap:!!i.lightMap,aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:o(i.emissiveMap,t.gammaInput),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,combine:i.combine,vertexColors:i.vertexColors,fog:!!s,useFog:i.fog,fogExp:s&&s.isFogExp2,flatShading:i.shading===y,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:e.logarithmicDepthBuffer,skinning:i.skinning,maxBones:d,useVertexTexture:e.floatVertexTextures&&u&&u.skeleton&&u.skeleton.useVertexTexture,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:c,numClipIntersection:l,shadowMapEnabled:t.shadowMap.enabled&&u.receiveShadow&&r.shadows.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===g,flipSided:i.side===v,depthPacking:void 0!==i.depthPacking&&i.depthPacking};return m},this.getProgramCode=function(t,e){var i=[];if(e.shaderID?i.push(e.shaderID):(i.push(t.fragmentShader),i.push(t.vertexShader)),void 0!==t.defines)for(var n in t.defines)i.push(n),i.push(t.defines[n]);for(var a=0;a<r.length;a++)i.push(e[r[a]]);return i.join()},this.acquireProgram=function(e,n,r){for(var a,o=0,s=i.length;o<s;o++){var c=i[o];if(c.code===r){a=c,++a.usedTimes;break}}return void 0===a&&(a=new Oa(t,r,e,n),i.push(a)),a},this.releaseProgram=function(t){if(0===--t.usedTimes){var e=i.indexOf(t);i[e]=i[i.length-1],i.pop(),t.destroy()}},this.programs=i}function Da(t,e,i){var n={};function r(t){var a=t.target,c=n[a.id];null!==c.index&&o(c.index),s(c.attributes),a.removeEventListener("dispose",r),delete n[a.id];var l=e.get(a);l.wireframe&&o(l.wireframe),e.delete(a);var u=e.get(c);u.wireframe&&o(u.wireframe),e.delete(c),i.memory.geometries--}function a(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}function o(e){var i=a(e);void 0!==i&&(t.deleteBuffer(i),c(e))}function s(t){for(var e in t)o(t[e])}function c(t){t.isInterleavedBufferAttribute?e.delete(t.data):e.delete(t)}return{get:function(t){var e,a=t.geometry;return void 0!==n[a.id]?n[a.id]:(a.addEventListener("dispose",r),a.isBufferGeometry?e=a:a.isGeometry&&(void 0===a._bufferGeometry&&(a._bufferGeometry=(new la).setFromObject(t)),e=a._bufferGeometry),n[a.id]=e,i.memory.geometries++,e)}}}function Na(t,e,i){var n=new Da(t,e,i);function r(e){var i=n.get(e);e.geometry.isGeometry&&i.updateFromObject(e);var r=i.index,o=i.attributes;for(var s in null!==r&&a(r,t.ELEMENT_ARRAY_BUFFER),o)a(o[s],t.ARRAY_BUFFER);var c=i.morphAttributes;for(var s in c)for(var l=c[s],u=0,h=l.length;u<h;u++)a(l[u],t.ARRAY_BUFFER);return i}function a(t,i){var n=t.isInterleavedBufferAttribute?t.data:t,r=e.get(n);void 0===r.__webglBuffer?o(r,n,i):r.version!==n.version&&s(r,n,i)}function o(e,i,n){e.__webglBuffer=t.createBuffer(),t.bindBuffer(n,e.__webglBuffer);var r=i.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW;t.bufferData(n,i.array,r);var a=t.FLOAT,o=i.array;o instanceof Float32Array?a=t.FLOAT:o instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):o instanceof Uint16Array?a=t.UNSIGNED_SHORT:o instanceof Int16Array?a=t.SHORT:o instanceof Uint32Array?a=t.UNSIGNED_INT:o instanceof Int32Array?a=t.INT:o instanceof Int8Array?a=t.BYTE:o instanceof Uint8Array&&(a=t.UNSIGNED_BYTE),e.bytesPerElement=o.BYTES_PER_ELEMENT,e.type=a,e.version=i.version,i.onUploadCallback()}function s(e,i,n){t.bindBuffer(n,e.__webglBuffer),!1===i.dynamic?t.bufferData(n,i.array,t.STATIC_DRAW):-1===i.updateRange.count?t.bufferSubData(n,0,i.array):0===i.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(n,i.updateRange.offset*i.array.BYTES_PER_ELEMENT,i.array.subarray(i.updateRange.offset,i.updateRange.offset+i.updateRange.count)),i.updateRange.count=0),e.version=i.version}function c(t){return t.isInterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}function l(t){return t.isInterleavedBufferAttribute?e.get(t.data):e.get(t)}function u(i){var n=e.get(i);if(void 0!==n.wireframe)return n.wireframe;var r=[],o=i.index,s=i.attributes,c=s.position;if(null!==o)for(var l=o.array,u=0,h=l.length;u<h;u+=3){var d=l[u+0],p=l[u+1],f=l[u+2];r.push(d,p,p,f,f,d)}else for(l=s.position.array,u=0,h=l.length/3-1;u<h;u+=3){d=u+0,p=u+1,f=u+2;r.push(d,p,p,f,f,d)}var m=c.count>65535?Uint32Array:Uint16Array,v=new qr(new m(r),1);return a(v,t.ELEMENT_ARRAY_BUFFER),n.wireframe=v,v}return{getAttributeBuffer:c,getAttributeProperties:l,getWireframeAttribute:u,update:r}}function za(t,e,i,n,r,a,o){var s=o.memory,c="undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext;function l(t,e){if(t.width>e||t.height>e){var i=e/Math.max(t.width,t.height),n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");n.width=Math.floor(t.width*i),n.height=Math.floor(t.height*i);var r=n.getContext("2d");return r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+n.width+"x"+n.height,t),n}return t}function u(t){return Se.isPowerOfTwo(t.width)&&Se.isPowerOfTwo(t.height)}function h(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");e.width=Se.nearestPowerOfTwo(t.width),e.height=Se.nearestPowerOfTwo(t.height);var i=e.getContext("2d");return i.drawImage(t,0,0,e.width,e.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+e.width+"x"+e.height,t),e}return t}function d(t){return t.wrapS!==yt||t.wrapT!==yt||t.minFilter!==bt&&t.minFilter!==Et}function p(e){return e===bt||e===wt||e===Mt?t.NEAREST:t.LINEAR}function f(t){var e=t.target;e.removeEventListener("dispose",f),v(e),s.textures--}function m(t){var e=t.target;e.removeEventListener("dispose",m),g(e),s.textures--}function v(e){var i=n.get(e);if(e.image&&i.__image__webglTextureCube)t.deleteTexture(i.__image__webglTextureCube);else{if(void 0===i.__webglInit)return;t.deleteTexture(i.__webglTexture)}n.delete(e)}function g(e){var i=n.get(e),r=n.get(e.texture);if(e){if(void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var a=0;a<6;a++)t.deleteFramebuffer(i.__webglFramebuffer[a]),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer[a]);else t.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer);n.delete(e.texture),n.delete(e)}}function y(e,r){var a=n.get(e);if(e.version>0&&a.__version!==e.version){var o=e.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e);else{if(!1!==o.complete)return void w(a,e,r);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e)}}i.activeTexture(t.TEXTURE0+r),i.bindTexture(t.TEXTURE_2D,a.__webglTexture)}function _(e,o){var c=n.get(e);if(6===e.image.length)if(e.version>0&&c.__version!==e.version){c.__image__webglTextureCube||(e.addEventListener("dispose",f),c.__image__webglTextureCube=t.createTexture(),s.textures++),i.activeTexture(t.TEXTURE0+o),i.bindTexture(t.TEXTURE_CUBE_MAP,c.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var h=e&&e.isCompressedTexture,d=e.image[0]&&e.image[0].isDataTexture,p=[],m=0;m<6;m++)p[m]=h||d?d?e.image[m].image:e.image[m]:l(e.image[m],r.maxCubemapSize);var v=p[0],g=u(v),y=a(e.format),_=a(e.type);b(t.TEXTURE_CUBE_MAP,e,g);for(m=0;m<6;m++)if(h)for(var x,w=p[m].mipmaps,M=0,E=w.length;M<E;M++)x=w[M],e.format!==Ht&&e.format!==kt?i.getCompressedTextureFormats().indexOf(y)>-1?i.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,M,y,x.width,x.height,0,x.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,M,y,x.width,x.height,0,y,_,x.data);else d?i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,y,p[m].width,p[m].height,0,y,_,p[m].data):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,y,y,_,p[m]);e.generateMipmaps&&g&&t.generateMipmap(t.TEXTURE_CUBE_MAP),c.__version=e.version,e.onUpdate&&e.onUpdate(e)}else i.activeTexture(t.TEXTURE0+o),i.bindTexture(t.TEXTURE_CUBE_MAP,c.__image__webglTextureCube)}function x(e,r){i.activeTexture(t.TEXTURE0+r),i.bindTexture(t.TEXTURE_CUBE_MAP,n.get(e).__webglTexture)}function b(i,o,s){var c;if(s?(t.texParameteri(i,t.TEXTURE_WRAP_S,a(o.wrapS)),t.texParameteri(i,t.TEXTURE_WRAP_T,a(o.wrapT)),t.texParameteri(i,t.TEXTURE_MAG_FILTER,a(o.magFilter)),t.texParameteri(i,t.TEXTURE_MIN_FILTER,a(o.minFilter))):(t.texParameteri(i,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(i,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),o.wrapS===yt&&o.wrapT===yt||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",o),t.texParameteri(i,t.TEXTURE_MAG_FILTER,p(o.magFilter)),t.texParameteri(i,t.TEXTURE_MIN_FILTER,p(o.minFilter)),o.minFilter!==bt&&o.minFilter!==Et&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",o)),c=e.get("EXT_texture_filter_anisotropic"),c){if(o.type===Ut&&null===e.get("OES_texture_float_linear"))return;if(o.type===Dt&&null===e.get("OES_texture_half_float_linear"))return;(o.anisotropy>1||n.get(o).__currentAnisotropy)&&(t.texParameterf(i,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),n.get(o).__currentAnisotropy=o.anisotropy)}}function w(e,n,o){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",f),e.__webglTexture=t.createTexture(),s.textures++),i.activeTexture(t.TEXTURE0+o),i.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,n.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,n.unpackAlignment);var p=l(n.image,r.maxTextureSize);d(n)&&!1===u(p)&&(p=h(p));var m=u(p),v=a(n.format),g=a(n.type);b(t.TEXTURE_2D,n,m);var y,_=n.mipmaps;if(n.isDepthTexture){var x=t.DEPTH_COMPONENT;if(n.type===Ut){if(!c)throw new Error("Float Depth Texture only supported in WebGL2.0");x=t.DEPTH_COMPONENT32F}else c&&(x=t.DEPTH_COMPONENT16);n.format===Xt&&x===t.DEPTH_COMPONENT&&n.type!==Pt&&n.type!==Ot&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),n.type=Pt,g=a(n.type)),n.format===Yt&&(x=t.DEPTH_STENCIL,n.type!==Bt&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),n.type=Bt,g=a(n.type))),i.texImage2D(t.TEXTURE_2D,0,x,p.width,p.height,0,v,g,null)}else if(n.isDataTexture)if(_.length>0&&m){for(var w=0,M=_.length;w<M;w++)y=_[w],i.texImage2D(t.TEXTURE_2D,w,v,y.width,y.height,0,v,g,y.data);n.generateMipmaps=!1}else i.texImage2D(t.TEXTURE_2D,0,v,p.width,p.height,0,v,g,p.data);else if(n.isCompressedTexture)for(w=0,M=_.length;w<M;w++)y=_[w],n.format!==Ht&&n.format!==kt?i.getCompressedTextureFormats().indexOf(v)>-1?i.compressedTexImage2D(t.TEXTURE_2D,w,v,y.width,y.height,0,y.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):i.texImage2D(t.TEXTURE_2D,w,v,y.width,y.height,0,v,g,y.data);else if(_.length>0&&m){for(w=0,M=_.length;w<M;w++)y=_[w],i.texImage2D(t.TEXTURE_2D,w,v,v,g,y);n.generateMipmaps=!1}else i.texImage2D(t.TEXTURE_2D,0,v,v,g,p);n.generateMipmaps&&m&&t.generateMipmap(t.TEXTURE_2D),e.__version=n.version,n.onUpdate&&n.onUpdate(n)}function M(e,r,o,s){var c=a(r.texture.format),l=a(r.texture.type);i.texImage2D(s,0,c,r.width,r.height,0,c,l,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,o,s,n.get(r.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function E(e,i){t.bindRenderbuffer(t.RENDERBUFFER,e),i.depthBuffer&&!i.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,i.width,i.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):i.depthBuffer&&i.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,i.width,i.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,i.width,i.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}function S(e,i){var r=i&&i.isWebGLRenderTargetCube;if(r)throw new Error("Depth Texture with cube render targets is not supported!");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),y(i.depthTexture,0);var a=n.get(i.depthTexture).__webglTexture;if(i.depthTexture.format===Xt)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,a,0);else{if(i.depthTexture.format!==Yt)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,a,0)}}function A(e){var i=n.get(e),r=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");S(i.__webglFramebuffer,e)}else if(r){i.__webglDepthbuffer=[];for(var a=0;a<6;a++)t.bindFramebuffer(t.FRAMEBUFFER,i.__webglFramebuffer[a]),i.__webglDepthbuffer[a]=t.createRenderbuffer(),E(i.__webglDepthbuffer[a],e)}else t.bindFramebuffer(t.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=t.createRenderbuffer(),E(i.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}function T(e){var r=n.get(e),a=n.get(e.texture);e.addEventListener("dispose",m),a.__webglTexture=t.createTexture(),s.textures++;var o=!0===e.isWebGLRenderTargetCube,c=u(e);if(o){r.__webglFramebuffer=[];for(var l=0;l<6;l++)r.__webglFramebuffer[l]=t.createFramebuffer()}else r.__webglFramebuffer=t.createFramebuffer();if(o){i.bindTexture(t.TEXTURE_CUBE_MAP,a.__webglTexture),b(t.TEXTURE_CUBE_MAP,e.texture,c);for(l=0;l<6;l++)M(r.__webglFramebuffer[l],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+l);e.texture.generateMipmaps&&c&&t.generateMipmap(t.TEXTURE_CUBE_MAP),i.bindTexture(t.TEXTURE_CUBE_MAP,null)}else i.bindTexture(t.TEXTURE_2D,a.__webglTexture),b(t.TEXTURE_2D,e.texture,c),M(r.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),e.texture.generateMipmaps&&c&&t.generateMipmap(t.TEXTURE_2D),i.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&A(e)}function C(e){var r=e.texture;if(r.generateMipmaps&&u(e)&&r.minFilter!==bt&&r.minFilter!==Et){var a=e&&e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,o=n.get(r).__webglTexture;i.bindTexture(a,o),t.generateMipmap(a),i.bindTexture(a,null)}}this.setTexture2D=y,this.setTextureCube=_,this.setTextureCubeDynamic=x,this.setupRenderTarget=T,this.updateRenderTargetMipmap=C}function Fa(){var t={};return{get:function(e){var i=e.uuid,n=t[i];return void 0===n&&(n={},t[i]=n),n},delete:function(e){delete t[e.uuid]},clear:function(){t={}}}}function Ba(t,e,i){function n(){var e=!1,i=new Le,n=null,r=new Le;return{setMask:function(i){n===i||e||(t.colorMask(i,i,i,i),n=i)},setLocked:function(t){e=t},setClear:function(e,n,a,o,s){!0===s&&(e*=o,n*=o,a*=o),i.set(e,n,a,o),!1===r.equals(i)&&(t.clearColor(e,n,a,o),r.copy(i))},reset:function(){e=!1,n=null,r.set(0,0,0,1)}}}function r(){var e=!1,i=null,n=null,r=null;return{setTest:function(e){e?ot(t.DEPTH_TEST):st(t.DEPTH_TEST)},setMask:function(n){i===n||e||(t.depthMask(n),i=n)},setFunc:function(e){if(n!==e){if(e)switch(e){case X:t.depthFunc(t.NEVER);break;case Y:t.depthFunc(t.ALWAYS);break;case Z:t.depthFunc(t.LESS);break;case q:t.depthFunc(t.LEQUAL);break;case J:t.depthFunc(t.EQUAL);break;case Q:t.depthFunc(t.GEQUAL);break;case K:t.depthFunc(t.GREATER);break;case $:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);n=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,i=null,n=null,r=null}}}function a(){var e=!1,i=null,n=null,r=null,a=null,o=null,s=null,c=null,l=null;return{setTest:function(e){e?ot(t.STENCIL_TEST):st(t.STENCIL_TEST)},setMask:function(n){i===n||e||(t.stencilMask(n),i=n)},setFunc:function(e,i,o){n===e&&r===i&&a===o||(t.stencilFunc(e,i,o),n=e,r=i,a=o)},setOp:function(e,i,n){o===e&&s===i&&c===n||(t.stencilOp(e,i,n),o=e,s=i,c=n)},setLocked:function(t){e=t},setClear:function(e){l!==e&&(t.clearStencil(e),l=e)},reset:function(){e=!1,i=null,n=null,r=null,a=null,o=null,s=null,c=null,l=null}}}var l=new n,u=new r,h=new a,d=t.getParameter(t.MAX_VERTEX_ATTRIBS),p=new Uint8Array(d),f=new Uint8Array(d),m=new Uint8Array(d),v={},g=null,y=null,_=null,x=null,b=null,w=null,L=null,R=null,P=!1,I=null,O=null,U=null,D=null,N=null,z=null,F=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),B=parseFloat(/^WebGL\ ([0-9])/.exec(t.getParameter(t.VERSION))[1]),G=parseFloat(B)>=1,k=null,H={},V=new Le,j=new Le;function W(e,i,n){var r=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var o=0;o<n;o++)t.texImage2D(i+o,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,r);return a}var tt={};function et(){l.setClear(0,0,0,1),u.setClear(1),h.setClear(0),ot(t.DEPTH_TEST),pt(q),yt(!1),_t(s),ot(t.CULL_FACE),ot(t.BLEND),lt(E)}function it(){for(var t=0,e=p.length;t<e;t++)p[t]=0}function nt(i){if(p[i]=1,0===f[i]&&(t.enableVertexAttribArray(i),f[i]=1),0!==m[i]){var n=e.get("ANGLE_instanced_arrays");n.vertexAttribDivisorANGLE(i,0),m[i]=0}}function rt(e,i,n){p[e]=1,0===f[e]&&(t.enableVertexAttribArray(e),f[e]=1),m[e]!==i&&(n.vertexAttribDivisorANGLE(e,i),m[e]=i)}function at(){for(var e=0,i=f.length;e!==i;++e)f[e]!==p[e]&&(t.disableVertexAttribArray(e),f[e]=0)}function ot(e){!0!==v[e]&&(t.enable(e),v[e]=!0)}function st(e){!1!==v[e]&&(t.disable(e),v[e]=!1)}function ct(){if(null===g&&(g=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")))for(var i=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),n=0;n<i.length;n++)g.push(i[n]);return g}function lt(e,n,r,a,o,s,c,l){e!==M?ot(t.BLEND):st(t.BLEND),e===y&&l===P||(e===S?l?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)):e===A?l?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR)):e===T?l?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR)):l?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)),y=e,P=l),e===C?(o=o||n,s=s||r,c=c||a,n===_&&o===w||(t.blendEquationSeparate(i(n),i(o)),_=n,w=o),r===x&&a===b&&s===L&&c===R||(t.blendFuncSeparate(i(r),i(a),i(s),i(c)),x=r,b=a,L=s,R=c)):(_=null,x=null,b=null,w=null,L=null,R=null)}function ut(t){l.setMask(t)}function ht(t){u.setTest(t)}function dt(t){u.setMask(t)}function pt(t){u.setFunc(t)}function ft(t){h.setTest(t)}function mt(t){h.setMask(t)}function vt(t,e,i){h.setFunc(t,e,i)}function gt(t,e,i){h.setOp(t,e,i)}function yt(e){I!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),I=e)}function _t(e){e!==o?(ot(t.CULL_FACE),e!==O&&(e===s?t.cullFace(t.BACK):e===c?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):st(t.CULL_FACE),O=e}function xt(e){e!==U&&(G&&t.lineWidth(e),U=e)}function bt(e,i,n){e?(ot(t.POLYGON_OFFSET_FILL),D===i&&N===n||(t.polygonOffset(i,n),D=i,N=n)):st(t.POLYGON_OFFSET_FILL)}function wt(){return z}function Mt(e){z=e,e?ot(t.SCISSOR_TEST):st(t.SCISSOR_TEST)}function Et(e){void 0===e&&(e=t.TEXTURE0+F-1),k!==e&&(t.activeTexture(e),k=e)}function St(e,i){null===k&&Et();var n=H[k];void 0===n&&(n={type:void 0,texture:void 0},H[k]=n),n.type===e&&n.texture===i||(t.bindTexture(e,i||tt[e]),n.type=e,n.texture=i)}function At(){try{t.compressedTexImage2D.apply(t,arguments)}catch(e){console.error(e)}}function Tt(){try{t.texImage2D.apply(t,arguments)}catch(e){console.error(e)}}function Ct(e){!1===V.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),V.copy(e))}function Lt(e){!1===j.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),j.copy(e))}function Rt(){for(var e=0;e<f.length;e++)1===f[e]&&(t.disableVertexAttribArray(e),f[e]=0);v={},g=null,k=null,H={},y=null,I=null,O=null,l.reset(),u.reset(),h.reset()}return tt[t.TEXTURE_2D]=W(t.TEXTURE_2D,t.TEXTURE_2D,1),tt[t.TEXTURE_CUBE_MAP]=W(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:l,depth:u,stencil:h},init:et,initAttributes:it,enableAttribute:nt,enableAttributeAndDivisor:rt,disableUnusedAttributes:at,enable:ot,disable:st,getCompressedTextureFormats:ct,setBlending:lt,setColorWrite:ut,setDepthTest:ht,setDepthWrite:dt,setDepthFunc:pt,setStencilTest:ft,setStencilWrite:mt,setStencilFunc:vt,setStencilOp:gt,setFlipSided:yt,setCullFace:_t,setLineWidth:xt,setPolygonOffset:bt,getScissorTest:wt,setScissorTest:Mt,activeTexture:Et,bindTexture:St,compressedTexImage2D:At,texImage2D:Tt,scissor:Ct,viewport:Lt,reset:Rt}}function Ga(t,e,i){var n;function r(){if(void 0!==n)return n;var i=e.get("EXT_texture_filter_anisotropic");return n=null!==i?t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,n}function a(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o=void 0!==i.precision?i.precision:"highp",s=a(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var c=!0===i.logarithmicDepthBuffer&&!!e.get("EXT_frag_depth"),l=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),u=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_TEXTURE_SIZE),d=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),p=t.getParameter(t.MAX_VERTEX_ATTRIBS),f=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),v=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),g=u>0,y=!!e.get("OES_texture_float"),_=g&&y;return{getMaxAnisotropy:r,getMaxPrecision:a,precision:o,logarithmicDepthBuffer:c,maxTextures:l,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:_}}function ka(t){var e={};return{get:function(i){if(void 0!==e[i])return e[i];var n;switch(i){case"WEBGL_depth_texture":n=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":n=t.getExtension("WEBGL_compressed_texture_etc1");break;default:n=t.getExtension(i)}return null===n&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),e[i]=n,n}}}function Ha(){var t=this,e=null,i=0,n=!1,r=!1,a=new zr,o=new Nr,s={value:null,needsUpdate:!1};function c(){s.value!==e&&(s.value=e,s.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function l(e,i,n,r){var c=null!==e?e.length:0,l=null;if(0!==c){if(l=s.value,!0!==r||null===l){var u=n+4*c,h=i.matrixWorldInverse;o.getNormalMatrix(h),(null===l||l.length<u)&&(l=new Float32Array(u));for(var d=0,p=n;d!==c;++d,p+=4)a.copy(e[d]).applyMatrix4(h,o),a.normal.toArray(l,p),l[p+3]=a.constant}s.value=l,s.needsUpdate=!0}return t.numPlanes=c,l}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(t,r,a){var o=0!==t.length||r||0!==i||n;return n=r,e=l(t,a,0),i=t.length,o},this.beginShadows=function(){r=!0,l(null)},this.endShadows=function(){r=!1,c()},this.setState=function(t,a,o,u,h,d){if(!n||null===t||0===t.length||r&&!o)r?l(null):c();else{var p=r?0:i,f=4*p,m=h.clippingState||null;s.value=m,m=l(t,u,f,d);for(var v=0;v!==f;++v)m[v]=e[v];h.clippingState=m,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=p}}}function Va(t){console.log("THREE.WebGLRenderer",r),t=t||{};var e=void 0!==t.canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),i=void 0!==t.context?t.context:null,n=void 0!==t.alpha&&t.alpha,a=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,s=void 0!==t.antialias&&t.antialias,c=void 0===t.premultipliedAlpha||t.premultipliedAlpha,l=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,h=[],d=[],p=-1,f=[],m=-1,_=new Float32Array(8),b=[],w=[];this.domElement=e,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=rt,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var E,S=this,A=null,T=null,C=null,L=-1,X="",Y=null,Z=new Le,q=null,J=new Le,Q=0,K=new wr(0),$=0,tt=e.width,et=e.height,it=1,nt=new Le(0,0,tt,et),at=!1,ot=new Le(0,0,tt,et),st=new Fr,ct=new Ha,lt=!1,ut=!1,ht=new Dr,dt=new Ue,pt=new Oe,ft=new Ue,mt=new Ue,vt={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},xt={calls:0,vertices:0,faces:0,points:0};this.info={render:xt,memory:{geometries:0,textures:0},programs:null};try{var Tt={alpha:n,depth:a,stencil:o,antialias:s,premultipliedAlpha:c,preserveDrawingBuffer:l};if(E=i||e.getContext("webgl",Tt)||e.getContext("experimental-webgl",Tt),null===E)throw null!==e.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===E.getShaderPrecisionFormat&&(E.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),e.addEventListener("webglcontextlost",Ae,!1)}catch(ci){console.error("THREE.WebGLRenderer: "+ci)}var Wt=new ka(E);Wt.get("WEBGL_depth_texture"),Wt.get("OES_texture_float"),Wt.get("OES_texture_float_linear"),Wt.get("OES_texture_half_float"),Wt.get("OES_texture_half_float_linear"),Wt.get("OES_standard_derivatives"),Wt.get("ANGLE_instanced_arrays"),Wt.get("OES_element_index_uint")&&(la.MaxIndex=4294967296);var ne=new Ga(E,Wt,t),re=new Ba(E,Wt,si),ae=new Fa,oe=new za(E,Wt,re,ae,ne,si,this.info),se=new Na(E,ae,this.info),ce=new Ua(this,ne),le=new ya;this.info.programs=ce.programs;var ue=new ga(E,Wt,xt),he=new va(E,Wt,xt),me=new ma(-1,1,1,-1,0,1),ve=new fa,ge=new ua(new da(2,2),new Zr({depthTest:!1,depthWrite:!1,fog:!1})),ye=Ar["cube"],_e=new ua(new ha(5,5,5),new Ir({uniforms:ye.uniforms,vertexShader:ye.vertexShader,fragmentShader:ye.fragmentShader,side:v,depthTest:!1,depthWrite:!1,fog:!1}));function xe(){return null===T?it:1}function be(){re.init(),re.scissor(Z.copy(nt).multiplyScalar(it)),re.viewport(J.copy(ot).multiplyScalar(it)),re.buffers.color.setClear(K.r,K.g,K.b,$,c)}function we(){A=null,Y=null,X="",L=-1,re.reset()}be(),this.context=E,this.capabilities=ne,this.extensions=Wt,this.properties=ae,this.state=re;var Me=new Br(this,vt,se,ne);this.shadowMap=Me;var Ee=new Lr(this,b),Se=new Cr(this,w);function Ae(t){t.preventDefault(),we(),be(),ae.clear()}function Te(t){var e=t.target;e.removeEventListener("dispose",Te),Ce(e)}function Ce(t){Re(t),ae.delete(t)}function Re(t){var e=ae.get(t).program;t.program=void 0,void 0!==e&&ce.releaseProgram(e)}function Pe(t,e,i,n){var r;if(i&&i.isInstancedBufferGeometry&&(r=Wt.get("ANGLE_instanced_arrays"),null===r))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{void 0===n&&(n=0),re.initAttributes();var a=i.attributes,o=e.getAttributes(),s=t.defaultAttributeValues;for(var c in o){var l=o[c];if(l>=0){var u=a[c];if(void 0!==u){var h=u.normalized,d=u.itemSize,p=se.getAttributeProperties(u),f=p.__webglBuffer,m=p.type,v=p.bytesPerElement;if(u.isInterleavedBufferAttribute){var g=u.data,y=g.stride,_=u.offset;g&&g.isInstancedInterleavedBuffer?(re.enableAttributeAndDivisor(l,g.meshPerAttribute,r),void 0===i.maxInstancedCount&&(i.maxInstancedCount=g.meshPerAttribute*g.count)):re.enableAttribute(l),E.bindBuffer(E.ARRAY_BUFFER,f),E.vertexAttribPointer(l,d,m,h,y*v,(n*y+_)*v)}else u.isInstancedBufferAttribute?(re.enableAttributeAndDivisor(l,u.meshPerAttribute,r),void 0===i.maxInstancedCount&&(i.maxInstancedCount=u.meshPerAttribute*u.count)):re.enableAttribute(l),E.bindBuffer(E.ARRAY_BUFFER,f),E.vertexAttribPointer(l,d,m,h,0,n*d*v)}else if(void 0!==s){var x=s[c];if(void 0!==x)switch(x.length){case 2:E.vertexAttrib2fv(l,x);break;case 3:E.vertexAttrib3fv(l,x);break;case 4:E.vertexAttrib4fv(l,x);break;default:E.vertexAttrib1fv(l,x)}}}}re.disableUnusedAttributes()}}function Ie(t,e){return Math.abs(e[0])-Math.abs(t[0])}function De(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.material.program&&e.material.program&&t.material.program!==e.material.program?t.material.program.id-e.material.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Ne(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function ze(t,e,i,n,r){var a,o;i.transparent?(a=f,o=++m):(a=d,o=++p);var s=a[o];void 0!==s?(s.id=t.id,s.object=t,s.geometry=e,s.material=i,s.z=pt.z,s.group=r):(s={id:t.id,object:t,geometry:e,material:i,z:pt.z,group:r},a.push(s))}function Fe(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),ht.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),Ge(ht)}function Be(t){return ht.center.set(0,0,0),ht.radius=.7071067811865476,ht.applyMatrix4(t.matrixWorld),Ge(ht)}function Ge(t){if(!st.intersectsSphere(t))return!1;var e=ct.numPlanes;if(0===e)return!0;var i=S.clippingPlanes,n=t.center,r=-t.radius,a=0;do{if(i[a].distanceToPoint(n)<r)return!1}while(++a!==e);return!0}function ke(t,e){if(!1!==t.visible){var i=0!==(t.layers.mask&e.layers.mask);if(i)if(t.isLight)h.push(t);else if(t.isSprite)!1!==t.frustumCulled&&!0!==Be(t)||b.push(t);else if(t.isLensFlare)w.push(t);else if(t.isImmediateRenderObject)!0===S.sortObjects&&(pt.setFromMatrixPosition(t.matrixWorld),pt.applyProjection(dt)),ze(t,null,t.material,pt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!1===t.frustumCulled||!0===Fe(t))){var n=t.material;if(!0===n.visible){!0===S.sortObjects&&(pt.setFromMatrixPosition(t.matrixWorld),pt.applyProjection(dt));var r=se.update(t);if(n.isMultiMaterial)for(var a=r.groups,o=n.materials,s=0,c=a.length;s<c;s++){var l=a[s],u=o[l.materialIndex];!0===u.visible&&ze(t,r,u,pt.z,l)}else ze(t,r,n,pt.z,null)}}var d=t.children;for(s=0,c=d.length;s<c;s++)ke(d[s],e)}}function He(t,e,i,n){for(var r=0,a=t.length;r<a;r++){var o=t[r],s=o.object,c=o.geometry,l=void 0===n?o.material:n,u=o.group;if(s.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,s.matrixWorld),s.normalMatrix.getNormalMatrix(s.modelViewMatrix),s.onBeforeRender(S,e,i,c,l,u),s.isImmediateRenderObject){je(l);var h=We(i,e.fog,l,s);X="",s.render((function(t){S.renderBufferImmediate(t,h,l)}))}else S.renderBufferDirect(i,e.fog,c,l,s,u);s.onAfterRender(S,e,i,c,l,u)}}function Ve(t,e,i){var n=ae.get(t),r=ce.getParameters(t,vt,e,ct.numPlanes,ct.numIntersection,i),a=ce.getProgramCode(t,r),o=n.program,s=!0;if(void 0===o)t.addEventListener("dispose",Te);else if(o.code!==a)Re(t);else{if(void 0!==r.shaderID)return;s=!1}if(s){if(r.shaderID){var c=Ar[r.shaderID];n.__webglShader={name:t.type,uniforms:bi.clone(c.uniforms),vertexShader:c.vertexShader,fragmentShader:c.fragmentShader}}else n.__webglShader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.__webglShader=n.__webglShader,o=ce.acquireProgram(t,r,a),n.program=o,t.program=o}var l=o.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var u=0;u<S.maxMorphTargets;u++)l["morphTarget"+u]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(u=0;u<S.maxMorphNormals;u++)l["morphNormal"+u]>=0&&t.numSupportedMorphNormals++}var h=n.__webglShader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(n.numClippingPlanes=ct.numPlanes,n.numIntersection=ct.numIntersection,h.clippingPlanes=ct.uniform),n.fog=e,n.lightsHash=vt.hash,t.lights&&(h.ambientLightColor.value=vt.ambient,h.directionalLights.value=vt.directional,h.spotLights.value=vt.spot,h.rectAreaLights.value=vt.rectArea,h.pointLights.value=vt.point,h.hemisphereLights.value=vt.hemi,h.directionalShadowMap.value=vt.directionalShadowMap,h.directionalShadowMatrix.value=vt.directionalShadowMatrix,h.spotShadowMap.value=vt.spotShadowMap,h.spotShadowMatrix.value=vt.spotShadowMatrix,h.pointShadowMap.value=vt.pointShadowMap,h.pointShadowMatrix.value=vt.pointShadowMatrix);var d=n.program.getUniforms(),p=xi.seqWithValue(d.seq,h);n.uniformsList=p}function je(t){t.side===g?re.disable(E.CULL_FACE):re.enable(E.CULL_FACE),re.setFlipSided(t.side===v),!0===t.transparent?re.setBlending(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):re.setBlending(M),re.setDepthFunc(t.depthFunc),re.setDepthTest(t.depthTest),re.setDepthWrite(t.depthWrite),re.setColorWrite(t.colorWrite),re.setPolygonOffset(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function We(t,e,i,n){Q=0;var r=ae.get(i);if(lt&&(ut||t!==Y)){var a=t===Y&&i.id===L;ct.setState(i.clippingPlanes,i.clipIntersection,i.clipShadows,t,r,a)}!1===i.needsUpdate&&(void 0===r.program||i.fog&&r.fog!==e||i.lights&&r.lightsHash!==vt.hash?i.needsUpdate=!0:void 0===r.numClippingPlanes||r.numClippingPlanes===ct.numPlanes&&r.numIntersection===ct.numIntersection||(i.needsUpdate=!0)),i.needsUpdate&&(Ve(i,e,n),i.needsUpdate=!1);var o=!1,s=!1,c=!1,l=r.program,u=l.getUniforms(),h=r.__webglShader.uniforms;if(l.id!==A&&(E.useProgram(l.program),A=l.id,o=!0,s=!0,c=!0),i.id!==L&&(L=i.id,s=!0),o||t!==Y){if(u.set(E,t,"projectionMatrix"),ne.logarithmicDepthBuffer&&u.setValue(E,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),t!==Y&&(Y=t,s=!0,c=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.envMap){var d=u.map.cameraPosition;void 0!==d&&d.setValue(E,pt.setFromMatrixPosition(t.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.skinning)&&u.setValue(E,"viewMatrix",t.matrixWorldInverse),u.set(E,S,"toneMappingExposure"),u.set(E,S,"toneMappingWhitePoint")}if(i.skinning){u.setOptional(E,n,"bindMatrix"),u.setOptional(E,n,"bindMatrixInverse");var p=n.skeleton;p&&(ne.floatVertexTextures&&p.useVertexTexture?(u.set(E,p,"boneTexture"),u.set(E,p,"boneTextureWidth"),u.set(E,p,"boneTextureHeight")):u.setOptional(E,p,"boneMatrices"))}return s&&(i.lights&&ni(h,c),e&&i.fog&&Je(h,e),(i.isMeshBasicMaterial||i.isMeshLambertMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.isMeshNormalMaterial||i.isMeshDepthMaterial)&&Xe(h,i),i.isLineBasicMaterial?Ye(h,i):i.isLineDashedMaterial?(Ye(h,i),Ze(h,i)):i.isPointsMaterial?qe(h,i):i.isMeshLambertMaterial?Qe(h,i):i.isMeshToonMaterial?$e(h,i):i.isMeshPhongMaterial?Ke(h,i):i.isMeshPhysicalMaterial?ei(h,i):i.isMeshStandardMaterial?ti(h,i):i.isMeshDepthMaterial?i.displacementMap&&(h.displacementMap.value=i.displacementMap,h.displacementScale.value=i.displacementScale,h.displacementBias.value=i.displacementBias):i.isMeshNormalMaterial&&ii(h,i),void 0!==h.ltcMat&&(h.ltcMat.value=THREE.UniformsLib.LTC_MAT_TEXTURE),void 0!==h.ltcMag&&(h.ltcMag.value=THREE.UniformsLib.LTC_MAG_TEXTURE),xi.upload(E,r.uniformsList,h,S)),u.set(E,n,"modelViewMatrix"),u.set(E,n,"normalMatrix"),u.setValue(E,"modelMatrix",n.matrixWorld),l}function Xe(t,e){var i;if(t.opacity.value=e.opacity,t.diffuse.value=e.color,e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),t.map.value=e.map,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?i=e.map:e.specularMap?i=e.specularMap:e.displacementMap?i=e.displacementMap:e.normalMap?i=e.normalMap:e.bumpMap?i=e.bumpMap:e.roughnessMap?i=e.roughnessMap:e.metalnessMap?i=e.metalnessMap:e.alphaMap?i=e.alphaMap:e.emissiveMap&&(i=e.emissiveMap),void 0!==i){i.isWebGLRenderTarget&&(i=i.texture);var n=i.offset,r=i.repeat;t.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio}function Ye(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function Ze(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function qe(t,e){if(t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*it,t.scale.value=.5*et,t.map.value=e.map,null!==e.map){var i=e.map.offset,n=e.map.repeat;t.offsetRepeat.value.set(i.x,i.y,n.x,n.y)}}function Je(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}function Qe(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}function Ke(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function $e(t,e){Ke(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}function ti(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function ei(t,e){t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness,ti(t,e)}function ii(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function ni(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function ri(t){for(var e=0,i=0,n=t.length;i<n;i++){var r=t[i];r.castShadow&&(vt.shadows[e++]=r)}vt.shadows.length=e}function ai(t,e){var i,n,r,a,o,s,c,l=0,u=0,h=0,d=e.matrixWorldInverse,p=0,f=0,m=0,v=0,g=0;for(i=0,n=t.length;i<n;i++)if(r=t[i],a=r.color,o=r.intensity,s=r.distance,c=r.shadow&&r.shadow.map?r.shadow.map.texture:null,r.isAmbientLight)l+=a.r*o,u+=a.g*o,h+=a.b*o;else if(r.isDirectionalLight){var y=le.get(r);y.color.copy(r.color).multiplyScalar(r.intensity),y.direction.setFromMatrixPosition(r.matrixWorld),pt.setFromMatrixPosition(r.target.matrixWorld),y.direction.sub(pt),y.direction.transformDirection(d),y.shadow=r.castShadow,r.castShadow&&(y.shadowBias=r.shadow.bias,y.shadowRadius=r.shadow.radius,y.shadowMapSize=r.shadow.mapSize),vt.directionalShadowMap[p]=c,vt.directionalShadowMatrix[p]=r.shadow.matrix,vt.directional[p++]=y}else if(r.isSpotLight){y=le.get(r);y.position.setFromMatrixPosition(r.matrixWorld),y.position.applyMatrix4(d),y.color.copy(a).multiplyScalar(o),y.distance=s,y.direction.setFromMatrixPosition(r.matrixWorld),pt.setFromMatrixPosition(r.target.matrixWorld),y.direction.sub(pt),y.direction.transformDirection(d),y.coneCos=Math.cos(r.angle),y.penumbraCos=Math.cos(r.angle*(1-r.penumbra)),y.decay=0===r.distance?0:r.decay,y.shadow=r.castShadow,r.castShadow&&(y.shadowBias=r.shadow.bias,y.shadowRadius=r.shadow.radius,y.shadowMapSize=r.shadow.mapSize),vt.spotShadowMap[m]=c,vt.spotShadowMatrix[m]=r.shadow.matrix,vt.spot[m++]=y}else if(r.isRectAreaLight){y=le.get(r);y.color.copy(a).multiplyScalar(o/(r.width*r.height)),y.position.setFromMatrixPosition(r.matrixWorld),y.position.applyMatrix4(d),mt.identity(),ft.copy(r.matrixWorld),ft.premultiply(d),mt.extractRotation(ft),y.halfWidth.set(.5*r.width,0,0),y.halfHeight.set(0,.5*r.height,0),y.halfWidth.applyMatrix4(mt),y.halfHeight.applyMatrix4(mt),vt.rectArea[v++]=y}else if(r.isPointLight){y=le.get(r);y.position.setFromMatrixPosition(r.matrixWorld),y.position.applyMatrix4(d),y.color.copy(r.color).multiplyScalar(r.intensity),y.distance=r.distance,y.decay=0===r.distance?0:r.decay,y.shadow=r.castShadow,r.castShadow&&(y.shadowBias=r.shadow.bias,y.shadowRadius=r.shadow.radius,y.shadowMapSize=r.shadow.mapSize),vt.pointShadowMap[f]=c,void 0===vt.pointShadowMatrix[f]&&(vt.pointShadowMatrix[f]=new Ue),pt.setFromMatrixPosition(r.matrixWorld).negate(),vt.pointShadowMatrix[f].identity().setPosition(pt),vt.point[f++]=y}else if(r.isHemisphereLight){y=le.get(r);y.direction.setFromMatrixPosition(r.matrixWorld),y.direction.transformDirection(d),y.direction.normalize(),y.skyColor.copy(r.color).multiplyScalar(o),y.groundColor.copy(r.groundColor).multiplyScalar(o),vt.hemi[g++]=y}vt.ambient[0]=l,vt.ambient[1]=u,vt.ambient[2]=h,vt.directional.length=p,vt.spot.length=m,vt.rectArea.length=v,vt.point.length=f,vt.hemi.length=g,vt.hash=p+","+f+","+m+","+v+","+g+","+vt.shadows.length}function oi(){var t=Q;return t>=ne.maxTextures&&console.warn("WebGLRenderer: trying to use "+t+" texture units while this GPU supports only "+ne.maxTextures),Q+=1,t}function si(t){var e;if(t===gt)return E.REPEAT;if(t===yt)return E.CLAMP_TO_EDGE;if(t===_t)return E.MIRRORED_REPEAT;if(t===bt)return E.NEAREST;if(t===wt)return E.NEAREST_MIPMAP_NEAREST;if(t===Mt)return E.NEAREST_MIPMAP_LINEAR;if(t===Et)return E.LINEAR;if(t===St)return E.LINEAR_MIPMAP_NEAREST;if(t===At)return E.LINEAR_MIPMAP_LINEAR;if(t===Ct)return E.UNSIGNED_BYTE;if(t===Nt)return E.UNSIGNED_SHORT_4_4_4_4;if(t===zt)return E.UNSIGNED_SHORT_5_5_5_1;if(t===Ft)return E.UNSIGNED_SHORT_5_6_5;if(t===Lt)return E.BYTE;if(t===Rt)return E.SHORT;if(t===Pt)return E.UNSIGNED_SHORT;if(t===It)return E.INT;if(t===Ot)return E.UNSIGNED_INT;if(t===Ut)return E.FLOAT;if(t===Dt&&(e=Wt.get("OES_texture_half_float"),null!==e))return e.HALF_FLOAT_OES;if(t===Gt)return E.ALPHA;if(t===kt)return E.RGB;if(t===Ht)return E.RGBA;if(t===Vt)return E.LUMINANCE;if(t===jt)return E.LUMINANCE_ALPHA;if(t===Xt)return E.DEPTH_COMPONENT;if(t===Yt)return E.DEPTH_STENCIL;if(t===R)return E.FUNC_ADD;if(t===P)return E.FUNC_SUBTRACT;if(t===I)return E.FUNC_REVERSE_SUBTRACT;if(t===D)return E.ZERO;if(t===N)return E.ONE;if(t===z)return E.SRC_COLOR;if(t===F)return E.ONE_MINUS_SRC_COLOR;if(t===B)return E.SRC_ALPHA;if(t===G)return E.ONE_MINUS_SRC_ALPHA;if(t===k)return E.DST_ALPHA;if(t===H)return E.ONE_MINUS_DST_ALPHA;if(t===V)return E.DST_COLOR;if(t===j)return E.ONE_MINUS_DST_COLOR;if(t===W)return E.SRC_ALPHA_SATURATE;if((t===Zt||t===qt||t===Jt||t===Qt)&&(e=Wt.get("WEBGL_compressed_texture_s3tc"),null!==e)){if(t===Zt)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===qt)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===Jt)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===Qt)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===Kt||t===$t||t===te||t===ee)&&(e=Wt.get("WEBGL_compressed_texture_pvrtc"),null!==e)){if(t===Kt)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===$t)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===te)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===ee)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===ie&&(e=Wt.get("WEBGL_compressed_texture_etc1"),null!==e))return e.COMPRESSED_RGB_ETC1_WEBGL;if((t===O||t===U)&&(e=Wt.get("EXT_blend_minmax"),null!==e)){if(t===O)return e.MIN_EXT;if(t===U)return e.MAX_EXT}return t===Bt&&(e=Wt.get("WEBGL_depth_texture"),null!==e)?e.UNSIGNED_INT_24_8_WEBGL:0}this.getContext=function(){return E},this.getContextAttributes=function(){return E.getContextAttributes()},this.forceContextLoss=function(){Wt.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){return ne.getMaxAnisotropy()},this.getPrecision=function(){return ne.precision},this.getPixelRatio=function(){return it},this.setPixelRatio=function(t){void 0!==t&&(it=t,this.setSize(ot.z,ot.w,!1))},this.getSize=function(){return{width:tt,height:et}},this.setSize=function(t,i,n){tt=t,et=i,e.width=t*it,e.height=i*it,!1!==n&&(e.style.width=t+"px",e.style.height=i+"px"),this.setViewport(0,0,t,i)},this.setViewport=function(t,e,i,n){re.viewport(ot.set(t,e,i,n))},this.setScissor=function(t,e,i,n){re.scissor(nt.set(t,e,i,n))},this.setScissorTest=function(t){re.setScissorTest(at=t)},this.getClearColor=function(){return K},this.setClearColor=function(t,e){K.set(t),$=void 0!==e?e:1,re.buffers.color.setClear(K.r,K.g,K.b,$,c)},this.getClearAlpha=function(){return $},this.setClearAlpha=function(t){$=t,re.buffers.color.setClear(K.r,K.g,K.b,$,c)},this.clear=function(t,e,i){var n=0;(void 0===t||t)&&(n|=E.COLOR_BUFFER_BIT),(void 0===e||e)&&(n|=E.DEPTH_BUFFER_BIT),(void 0===i||i)&&(n|=E.STENCIL_BUFFER_BIT),E.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,i,n){this.setRenderTarget(t),this.clear(e,i,n)},this.resetGLState=we,this.dispose=function(){f=[],m=-1,d=[],p=-1,e.removeEventListener("webglcontextlost",Ae,!1)},this.renderBufferImmediate=function(t,e,i){re.initAttributes();var n=ae.get(t);t.hasPositions&&!n.position&&(n.position=E.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=E.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=E.createBuffer()),t.hasColors&&!n.color&&(n.color=E.createBuffer());var r=e.getAttributes();if(t.hasPositions&&(E.bindBuffer(E.ARRAY_BUFFER,n.position),E.bufferData(E.ARRAY_BUFFER,t.positionArray,E.DYNAMIC_DRAW),re.enableAttribute(r.position),E.vertexAttribPointer(r.position,3,E.FLOAT,!1,0,0)),t.hasNormals){if(E.bindBuffer(E.ARRAY_BUFFER,n.normal),!i.isMeshPhongMaterial&&!i.isMeshStandardMaterial&&!i.isMeshNormalMaterial&&i.shading===y)for(var a=0,o=3*t.count;a<o;a+=9){var s=t.normalArray,c=(s[a+0]+s[a+3]+s[a+6])/3,l=(s[a+1]+s[a+4]+s[a+7])/3,u=(s[a+2]+s[a+5]+s[a+8])/3;s[a+0]=c,s[a+1]=l,s[a+2]=u,s[a+3]=c,s[a+4]=l,s[a+5]=u,s[a+6]=c,s[a+7]=l,s[a+8]=u}E.bufferData(E.ARRAY_BUFFER,t.normalArray,E.DYNAMIC_DRAW),re.enableAttribute(r.normal),E.vertexAttribPointer(r.normal,3,E.FLOAT,!1,0,0)}t.hasUvs&&i.map&&(E.bindBuffer(E.ARRAY_BUFFER,n.uv),E.bufferData(E.ARRAY_BUFFER,t.uvArray,E.DYNAMIC_DRAW),re.enableAttribute(r.uv),E.vertexAttribPointer(r.uv,2,E.FLOAT,!1,0,0)),t.hasColors&&i.vertexColors!==x&&(E.bindBuffer(E.ARRAY_BUFFER,n.color),E.bufferData(E.ARRAY_BUFFER,t.colorArray,E.DYNAMIC_DRAW),re.enableAttribute(r.color),E.vertexAttribPointer(r.color,3,E.FLOAT,!1,0,0)),re.disableUnusedAttributes(),E.drawArrays(E.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,i,n,r,a){je(n);var o=We(t,e,n,r),s=!1,c=i.id+"_"+o.id+"_"+n.wireframe;c!==X&&(X=c,s=!0);var l=r.morphTargetInfluences;if(void 0!==l){for(var u=[],h=0,d=l.length;h<d;h++){var p=l[h];u.push([p,h])}u.sort(Ie),u.length>8&&(u.length=8);var f=i.morphAttributes;for(h=0,d=u.length;h<d;h++){p=u[h];if(_[h]=p[0],0!==p[0]){var m=p[1];!0===n.morphTargets&&f.position&&i.addAttribute("morphTarget"+h,f.position[m]),!0===n.morphNormals&&f.normal&&i.addAttribute("morphNormal"+h,f.normal[m])}else!0===n.morphTargets&&i.removeAttribute("morphTarget"+h),!0===n.morphNormals&&i.removeAttribute("morphNormal"+h)}h=u.length;for(var v=_.length;h<v;h++)_[h]=0;o.getUniforms().setValue(E,"morphTargetInfluences",_),s=!0}m=i.index;var g,y=i.attributes.position,x=1;!0===n.wireframe&&(m=se.getWireframeAttribute(i),x=2),null!==m?(g=he,g.setIndex(m)):g=ue,s&&(Pe(n,o,i),null!==m&&E.bindBuffer(E.ELEMENT_ARRAY_BUFFER,se.getAttributeBuffer(m)));var b=0;null!==m?b=m.count:void 0!==y&&(b=y.count);var w=i.drawRange.start*x,M=i.drawRange.count*x,S=null!==a?a.start*x:0,A=null!==a?a.count*x:1/0,T=Math.max(w,S),C=Math.min(b,w+M,S+A)-1,L=Math.max(0,C-T+1);if(0!==L){if(r.isMesh)if(!0===n.wireframe)re.setLineWidth(n.wireframeLinewidth*xe()),g.setMode(E.LINES);else switch(r.drawMode){case de:g.setMode(E.TRIANGLES);break;case pe:g.setMode(E.TRIANGLE_STRIP);break;case fe:g.setMode(E.TRIANGLE_FAN);break}else if(r.isLine){var R=n.linewidth;void 0===R&&(R=1),re.setLineWidth(R*xe()),r.isLineSegments?g.setMode(E.LINES):g.setMode(E.LINE_STRIP)}else r.isPoints&&g.setMode(E.POINTS);i&&i.isInstancedBufferGeometry?i.maxInstancedCount>0&&g.renderInstances(i,T,L):g.render(T,L)}},this.render=function(t,e,i,n){if(void 0===e||!0===e.isCamera){X="",L=-1,Y=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),dt.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),st.setFromMatrix(dt),h.length=0,p=-1,m=-1,b.length=0,w.length=0,ut=this.localClippingEnabled,lt=ct.init(this.clippingPlanes,ut,e),ke(t,e),d.length=p+1,f.length=m+1,!0===S.sortObjects&&(d.sort(De),f.sort(Ne)),lt&&ct.beginShadows(),ri(h),Me.render(t,e),ai(h,e),lt&&ct.endShadows(),xt.calls=0,xt.vertices=0,xt.faces=0,xt.points=0,void 0===i&&(i=null),this.setRenderTarget(i);var r=t.background;if(null===r?re.buffers.color.setClear(K.r,K.g,K.b,$,c):r&&r.isColor&&(re.buffers.color.setClear(r.r,r.g,r.b,1,c),n=!0),(this.autoClear||n)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),r&&r.isCubeTexture?(ve.projectionMatrix.copy(e.projectionMatrix),ve.matrixWorld.extractRotation(e.matrixWorld),ve.matrixWorldInverse.getInverse(ve.matrixWorld),_e.material.uniforms["tCube"].value=r,_e.modelViewMatrix.multiplyMatrices(ve.matrixWorldInverse,_e.matrixWorld),se.update(_e),S.renderBufferDirect(ve,null,_e.geometry,_e.material,_e,null)):r&&r.isTexture&&(ge.material.map=r,se.update(ge),S.renderBufferDirect(me,null,ge.geometry,ge.material,ge,null)),t.overrideMaterial){var a=t.overrideMaterial;He(d,t,e,a),He(f,t,e,a)}else re.setBlending(M),He(d,t,e),He(f,t,e);Ee.render(t,e),Se.render(t,e,J),i&&oe.updateRenderTargetMipmap(i),re.setDepthTest(!0),re.setDepthWrite(!0),re.setColorWrite(!0)}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFaceCulling=function(t,e){re.setCullFace(t),re.setFlipSided(e===u)},this.allocTextureUnit=oi,this.setTexture2D=function(){var t=!1;return function(e,i){e&&e.isWebGLRenderTarget&&(t||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),oe.setTexture2D(e,i)}}(),this.setTexture=function(){var t=!1;return function(e,i){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),oe.setTexture2D(e,i)}}(),this.setTextureCube=function(){var t=!1;return function(e,i){e&&e.isWebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?oe.setTextureCube(e,i):oe.setTextureCubeDynamic(e,i)}}(),this.getCurrentRenderTarget=function(){return T},this.setRenderTarget=function(t){T=t,t&&void 0===ae.get(t).__webglFramebuffer&&oe.setupRenderTarget(t);var e,i=t&&t.isWebGLRenderTargetCube;if(t){var n=ae.get(t);e=i?n.__webglFramebuffer[t.activeCubeFace]:n.__webglFramebuffer,Z.copy(t.scissor),q=t.scissorTest,J.copy(t.viewport)}else e=null,Z.copy(nt).multiplyScalar(it),q=at,J.copy(ot).multiplyScalar(it);if(C!==e&&(E.bindFramebuffer(E.FRAMEBUFFER,e),C=e),re.scissor(Z),re.setScissorTest(q),re.viewport(J),i){var r=ae.get(t.texture);E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,r.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,i,n,r,a){if(!1!==(t&&t.isWebGLRenderTarget)){var o=ae.get(t).__webglFramebuffer;if(o){var s=!1;o!==C&&(E.bindFramebuffer(E.FRAMEBUFFER,o),s=!0);try{var c=t.texture,l=c.format,u=c.type;if(l!==Ht&&si(l)!==E.getParameter(E.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(u!==Ct&&si(u)!==E.getParameter(E.IMPLEMENTATION_COLOR_READ_TYPE)&&(u!==Ut||!Wt.get("OES_texture_float")&&!Wt.get("WEBGL_color_buffer_float"))&&(u!==Dt||!Wt.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");E.checkFramebufferStatus(E.FRAMEBUFFER)===E.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-n&&i>=0&&i<=t.height-r&&E.readPixels(e,i,n,r,si(l),si(u),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&E.bindFramebuffer(E.FRAMEBUFFER,C)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")}}function ja(t,e){this.name="",this.color=new wr(t),this.density=void 0!==e?e:25e-5}function Wa(t,e,i){this.name="",this.color=new wr(t),this.near=void 0!==e?e:1,this.far=void 0!==i?i:1e3}function Xa(){jr.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Ya(t,e,i,n,r){jr.call(this),this.lensFlares=[],this.positionScreen=new Oe,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,i,n,r)}function Za(t){Pr.call(this),this.type="SpriteMaterial",this.color=new wr(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)}function qa(t){jr.call(this),this.type="Sprite",this.material=void 0!==t?t:new Za}function Ja(){jr.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function Qa(t,e,i){if(this.useVertexTexture=void 0===i||i,this.identityMatrix=new Ue,t=t||[],this.bones=t.slice(0),this.useVertexTexture){var n=Math.sqrt(4*this.bones.length);n=Se.nextPowerOfTwo(Math.ceil(n)),n=Math.max(n,4),this.boneTextureWidth=n,this.boneTextureHeight=n,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new Er(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,Ht,Ut)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var r=0,a=this.bones.length;r<a;r++)this.boneInverses.push(new Ue)}}function Ka(){jr.call(this),this.type="Bone"}function $a(t,e,i){ua.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ue,this.bindMatrixInverse=new Ue;var n=[];if(this.geometry&&void 0!==this.geometry.bones){for(var r,a,o=0,s=this.geometry.bones.length;o<s;++o)a=this.geometry.bones[o],r=new Ka,n.push(r),r.name=a.name,r.position.fromArray(a.pos),r.quaternion.fromArray(a.rotq),void 0!==a.scl&&r.scale.fromArray(a.scl);for(o=0,s=this.geometry.bones.length;o<s;++o)a=this.geometry.bones[o],-1!==a.parent&&null!==a.parent&&void 0!==n[a.parent]?n[a.parent].add(n[o]):this.add(n[o])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new Qa(n,void 0,i),this.matrixWorld)}function to(t){Pr.call(this),this.type="LineBasicMaterial",this.color=new wr(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function eo(t,e,i){if(1===i)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new io(t,e);jr.call(this),this.type="Line",this.geometry=void 0!==t?t:new la,this.material=void 0!==e?e:new to({color:16777215*Math.random()})}function io(t,e){eo.call(this,t,e),this.type="LineSegments"}function no(t){Pr.call(this),this.type="PointsMaterial",this.color=new wr(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)}function ro(t,e){jr.call(this),this.type="Points",this.geometry=void 0!==t?t:new la,this.material=void 0!==e?e:new no({color:16777215*Math.random()})}function ao(){jr.call(this),this.type="Group"}function oo(t,e,i,n,r,a,o,s,c){Ce.call(this,t,e,i,n,r,a,o,s,c),this.generateMipmaps=!1;var l=this;function u(){requestAnimationFrame(u),t.readyState>=t.HAVE_CURRENT_DATA&&(l.needsUpdate=!0)}u()}function so(t,e,i,n,r,a,o,s,c,l,u,h){Ce.call(this,null,a,o,s,c,l,n,r,u,h),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function co(t,e,i,n,r,a,o,s,c){Ce.call(this,t,e,i,n,r,a,o,s,c),this.needsUpdate=!0}function lo(t,e,i,n,r,a,o,s,c,l){if(l=void 0!==l?l:Xt,l!==Xt&&l!==Yt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&l===Xt&&(i=Pt),void 0===i&&l===Yt&&(i=Bt),Ce.call(this,null,n,r,a,o,s,l,i,c),this.image={width:t,height:e},this.magFilter=void 0!==o?o:bt,this.minFilter=void 0!==s?s:bt,this.flipY=!1,this.generateMipmaps=!1}function uo(t){la.call(this);var e=[0,0],i={};function n(t,e){return t-e}var r=["a","b","c"];if(t&&t.isGeometry){for(var a=t.vertices,o=t.faces,s=0,c=new Uint32Array(6*o.length),l=0,u=o.length;l<u;l++)for(var h=o[l],d=0;d<3;d++){e[0]=h[r[d]],e[1]=h[r[(d+1)%3]],e.sort(n);var p=e.toString();void 0===i[p]&&(c[2*s]=e[0],c[2*s+1]=e[1],i[p]=!0,s++)}var f=new Float32Array(2*s*3);for(l=0,u=s;l<u;l++)for(d=0;d<2;d++){var m=a[c[2*l+d]],v=6*l+3*d;f[v+0]=m.x,f[v+1]=m.y,f[v+2]=m.z}this.addAttribute("position",new qr(f,3))}else if(t&&t.isBufferGeometry)if(null!==t.index){var g=t.index.array,y=(a=t.attributes.position,t.groups);s=0;0===y.length&&t.addGroup(0,g.length);c=new Uint32Array(2*g.length);for(var _=0,x=y.length;_<x;++_)for(var b=y[_],w=b.start,M=b.count,E=(l=w,w+M);l<E;l+=3)for(d=0;d<3;d++){e[0]=g[l+d],e[1]=g[l+(d+1)%3],e.sort(n);p=e.toString();void 0===i[p]&&(c[2*s]=e[0],c[2*s+1]=e[1],i[p]=!0,s++)}for(f=new Float32Array(2*s*3),l=0,u=s;l<u;l++)for(d=0;d<2;d++){v=6*l+3*d;var S=c[2*l+d];f[v+0]=a.getX(S),f[v+1]=a.getY(S),f[v+2]=a.getZ(S)}this.addAttribute("position",new qr(f,3))}else{a=t.attributes.position.array,s=a.length/3;var A=s/3;for(f=new Float32Array(2*s*3),l=0,u=A;l<u;l++)for(d=0;d<3;d++){v=18*l+6*d;var T=9*l+3*d;f[v+0]=a[T],f[v+1]=a[T+1],f[v+2]=a[T+2];S=9*l+(d+1)%3*3;f[v+3]=a[S],f[v+4]=a[S+1],f[v+5]=a[S+2]}this.addAttribute("position",new qr(f,3))}}function ho(t,e,i){la.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:i};var n,r,a,o,s,c=[],l=[],u=e+1;for(n=0;n<=i;n++)for(s=n/i,r=0;r<=e;r++)o=r/e,a=t(o,s),c.push(a.x,a.y,a.z),l.push(o,s);var h,d,p,f,m=[];for(n=0;n<i;n++)for(r=0;r<e;r++)h=n*u+r,d=n*u+r+1,p=(n+1)*u+r+1,f=(n+1)*u+r,m.push(h,d,f),m.push(d,p,f);this.setIndex(new(m.length>65535?ia:ta)(m,1)),this.addAttribute("position",new na(c,3)),this.addAttribute("uv",new na(l,2)),this.computeVertexNormals()}function po(t,e,i){oa.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:i},this.fromBufferGeometry(new ho(t,e,i)),this.mergeVertices()}function fo(t,e,i,n){la.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:n},i=i||1,n=n||0;var r=[],a=[];function o(t){for(var i=new Oe,n=new Oe,r=new Oe,a=0;a<e.length;a+=3)d(e[a+0],i),d(e[a+1],n),d(e[a+2],r),s(i,n,r,t)}function s(t,e,i,n){var r,a,o=Math.pow(2,n),s=[];for(r=0;r<=o;r++){s[r]=[];var c=t.clone().lerp(i,r/o),l=e.clone().lerp(i,r/o),u=o-r;for(a=0;a<=u;a++)s[r][a]=0===a&&r===o?c:c.clone().lerp(l,a/u)}for(r=0;r<o;r++)for(a=0;a<2*(o-r)-1;a++){var d=Math.floor(a/2);a%2===0?(h(s[r][d+1]),h(s[r+1][d]),h(s[r][d])):(h(s[r][d+1]),h(s[r+1][d+1]),h(s[r+1][d]))}}function c(t){for(var e=new Oe,i=0;i<r.length;i+=3)e.x=r[i+0],e.y=r[i+1],e.z=r[i+2],e.normalize().multiplyScalar(t),r[i+0]=e.x,r[i+1]=e.y,r[i+2]=e.z}function l(){for(var t=new Oe,e=0;e<r.length;e+=3){t.x=r[e+0],t.y=r[e+1],t.z=r[e+2];var i=m(t)/2/Math.PI+.5,n=v(t)/Math.PI+.5;a.push(i,1-n)}p(),u()}function u(){for(var t=0;t<a.length;t+=6){var e=a[t+0],i=a[t+2],n=a[t+4],r=Math.max(e,i,n),o=Math.min(e,i,n);r>.9&&o<.1&&(e<.2&&(a[t+0]+=1),i<.2&&(a[t+2]+=1),n<.2&&(a[t+4]+=1))}}function h(t){r.push(t.x,t.y,t.z)}function d(e,i){var n=3*e;i.x=t[n+0],i.y=t[n+1],i.z=t[n+2]}function p(){for(var t=new Oe,e=new Oe,i=new Oe,n=new Oe,o=new Ae,s=new Ae,c=new Ae,l=0,u=0;l<r.length;l+=9,u+=6){t.set(r[l+0],r[l+1],r[l+2]),e.set(r[l+3],r[l+4],r[l+5]),i.set(r[l+6],r[l+7],r[l+8]),o.set(a[u+0],a[u+1]),s.set(a[u+2],a[u+3]),c.set(a[u+4],a[u+5]),n.copy(t).add(e).add(i).divideScalar(3);var h=m(n);f(o,u+0,t,h),f(s,u+2,e,h),f(c,u+4,i,h)}}function f(t,e,i,n){n<0&&1===t.x&&(a[e]=t.x-1),0===i.x&&0===i.z&&(a[e]=n/2/Math.PI+.5)}function m(t){return Math.atan2(t.z,-t.x)}function v(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}o(n),c(i),l(),this.addAttribute("position",new na(r,3)),this.addAttribute("normal",new na(r.slice(),3)),this.addAttribute("uv",new na(a,2)),this.normalizeNormals(),this.boundingSphere=new Dr(new Oe,i)}function mo(t,e){var i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],n=[2,1,0,0,3,2,1,3,0,2,3,1];fo.call(this,i,n,t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function vo(t,e){oa.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new mo(t,e)),this.mergeVertices()}function go(t,e){var i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],n=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];fo.call(this,i,n,t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function yo(t,e){oa.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new go(t,e)),this.mergeVertices()}function _o(t,e){var i=(1+Math.sqrt(5))/2,n=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];fo.call(this,n,r,t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function xo(t,e){oa.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new _o(t,e)),this.mergeVertices()}function bo(t,e){var i=(1+Math.sqrt(5))/2,n=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-i,0,-n,i,0,n,-i,0,n,i,-n,-i,0,-n,i,0,n,-i,0,n,i,0,-i,0,-n,i,0,-n,-i,0,n,i,0,n],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];fo.call(this,r,a,t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function wo(t,e){oa.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new bo(t,e)),this.mergeVertices()}function Mo(t,e,i,n){oa.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:n},this.fromBufferGeometry(new fo(t,e,i,n)),this.mergeVertices()}function Eo(t,e,i,n,r){la.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:n,closed:r},e=e||64,i=i||1,n=n||8,r=r||!1;var a=t.computeFrenetFrames(e,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var o,s,c=new Oe,l=new Oe,u=new Ae,h=[],d=[],p=[],f=[];function m(){for(o=0;o<e;o++)v(o);v(!1===r?e:0),y(),g()}function v(r){var o=t.getPointAt(r/e),u=a.normals[r],p=a.binormals[r];for(s=0;s<=n;s++){var f=s/n*Math.PI*2,m=Math.sin(f),v=-Math.cos(f);l.x=v*u.x+m*p.x,l.y=v*u.y+m*p.y,l.z=v*u.z+m*p.z,l.normalize(),d.push(l.x,l.y,l.z),c.x=o.x+i*l.x,c.y=o.y+i*l.y,c.z=o.z+i*l.z,h.push(c.x,c.y,c.z)}}function g(){for(s=1;s<=e;s++)for(o=1;o<=n;o++){var t=(n+1)*(s-1)+(o-1),i=(n+1)*s+(o-1),r=(n+1)*s+o,a=(n+1)*(s-1)+o;f.push(t,i,a),f.push(i,r,a)}}function y(){for(o=0;o<=e;o++)for(s=0;s<=n;s++)u.x=o/e,u.y=s/n,p.push(u.x,u.y)}m(),this.setIndex(new(f.length>65535?ia:ta)(f,1)),this.addAttribute("position",new na(h,3)),this.addAttribute("normal",new na(d,3)),this.addAttribute("uv",new na(p,2))}function So(t,e,i,n,r,a){oa.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:n,closed:r},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed.");var o=new Eo(t,e,i,n,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function Ao(t,e,i,n,r,a){la.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:n,p:r,q:a},t=t||100,e=e||40,i=Math.floor(i)||64,n=Math.floor(n)||8,r=r||2,a=a||3;var o,s,c=(n+1)*(i+1),l=n*i*2*3,u=new qr(new(l>65535?Uint32Array:Uint16Array)(l),1),h=new qr(new Float32Array(3*c),3),d=new qr(new Float32Array(3*c),3),p=new qr(new Float32Array(2*c),2),f=0,m=0,v=new Oe,g=new Oe,y=new Ae,_=new Oe,x=new Oe,b=new Oe,w=new Oe,M=new Oe;for(o=0;o<=i;++o){var E=o/i*r*Math.PI*2;for(I(E,r,a,t,_),I(E+.01,r,a,t,x),w.subVectors(x,_),M.addVectors(x,_),b.crossVectors(w,M),M.crossVectors(b,w),b.normalize(),M.normalize(),s=0;s<=n;++s){var S=s/n*Math.PI*2,A=-e*Math.cos(S),T=e*Math.sin(S);v.x=_.x+(A*M.x+T*b.x),v.y=_.y+(A*M.y+T*b.y),v.z=_.z+(A*M.z+T*b.z),h.setXYZ(f,v.x,v.y,v.z),g.subVectors(v,_).normalize(),d.setXYZ(f,g.x,g.y,g.z),y.x=o/i,y.y=s/n,p.setXY(f,y.x,y.y),f++}}for(s=1;s<=i;s++)for(o=1;o<=n;o++){var C=(n+1)*(s-1)+(o-1),L=(n+1)*s+(o-1),R=(n+1)*s+o,P=(n+1)*(s-1)+o;u.setX(m,C),m++,u.setX(m,L),m++,u.setX(m,P),m++,u.setX(m,L),m++,u.setX(m,R),m++,u.setX(m,P),m++}function I(t,e,i,n,r){var a=Math.cos(t),o=Math.sin(t),s=i/e*t,c=Math.cos(s);r.x=n*(2+c)*.5*a,r.y=n*(2+c)*o*.5,r.z=n*Math.sin(s)*.5}this.setIndex(u),this.addAttribute("position",h),this.addAttribute("normal",d),this.addAttribute("uv",p)}function To(t,e,i,n,r,a,o){oa.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:n,p:r,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Ao(t,e,i,n,r,a)),this.mergeVertices()}function Co(t,e,i,n,r){la.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:n,arc:r},t=t||100,e=e||40,i=Math.floor(i)||8,n=Math.floor(n)||6,r=r||2*Math.PI;var a,o,s=(i+1)*(n+1),c=i*n*2*3,l=new(c>65535?Uint32Array:Uint16Array)(c),u=new Float32Array(3*s),h=new Float32Array(3*s),d=new Float32Array(2*s),p=0,f=0,m=0,v=new Oe,g=new Oe,y=new Oe;for(a=0;a<=i;a++)for(o=0;o<=n;o++){var _=o/n*r,x=a/i*Math.PI*2;g.x=(t+e*Math.cos(x))*Math.cos(_),g.y=(t+e*Math.cos(x))*Math.sin(_),g.z=e*Math.sin(x),u[p]=g.x,u[p+1]=g.y,u[p+2]=g.z,v.x=t*Math.cos(_),v.y=t*Math.sin(_),y.subVectors(g,v).normalize(),h[p]=y.x,h[p+1]=y.y,h[p+2]=y.z,d[f]=o/n,d[f+1]=a/i,p+=3,f+=2}for(a=1;a<=i;a++)for(o=1;o<=n;o++){var b=(n+1)*a+o-1,w=(n+1)*(a-1)+o-1,M=(n+1)*(a-1)+o,E=(n+1)*a+o;l[m]=b,l[m+1]=w,l[m+2]=E,l[m+3]=w,l[m+4]=M,l[m+5]=E,m+=6}this.setIndex(new qr(l,1)),this.addAttribute("position",new qr(u,3)),this.addAttribute("normal",new qr(h,3)),this.addAttribute("uv",new qr(d,2))}function Lo(t,e,i,n,r){oa.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:n,arc:r},this.fromBufferGeometry(new Co(t,e,i,n,r))}ja.prototype.isFogExp2=!0,ja.prototype.clone=function(){return new ja(this.color.getHex(),this.density)},ja.prototype.toJSON=function(t){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},Wa.prototype.isFog=!0,Wa.prototype.clone=function(){return new Wa(this.color.getHex(),this.near,this.far)},Wa.prototype.toJSON=function(t){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},Xa.prototype=Object.create(jr.prototype),Xa.prototype.constructor=Xa,Xa.prototype.copy=function(t,e){return jr.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},Xa.prototype.toJSON=function(t){var e=jr.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},Ya.prototype=Object.assign(Object.create(jr.prototype),{constructor:Ya,isLensFlare:!0,copy:function(t){jr.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,i=t.lensFlares.length;e<i;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,i,n,r,a){void 0===e&&(e=-1),void 0===i&&(i=0),void 0===a&&(a=1),void 0===r&&(r=new wr(16777215)),void 0===n&&(n=E),i=Math.min(i,Math.max(0,i)),this.lensFlares.push({texture:t,size:e,distance:i,x:0,y:0,z:0,scale:1,rotation:0,opacity:a,color:r,blending:n})},updateLensFlares:function(){var t,e,i=this.lensFlares.length,n=2*-this.positionScreen.x,r=2*-this.positionScreen.y;for(t=0;t<i;t++)e=this.lensFlares[t],e.x=this.positionScreen.x+n*e.distance,e.y=this.positionScreen.y+r*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)}}),Za.prototype=Object.create(Pr.prototype),Za.prototype.constructor=Za,Za.prototype.copy=function(t){return Pr.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},qa.prototype=Object.assign(Object.create(jr.prototype),{constructor:qa,isSprite:!0,raycast:function(){var t=new Oe;return function(e,i){t.setFromMatrixPosition(this.matrixWorld);var n=e.ray.distanceSqToPoint(t),r=this.scale.x*this.scale.y/4;n>r||i.push({distance:Math.sqrt(n),point:this.position,face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),Ja.prototype=Object.assign(Object.create(jr.prototype),{constructor:Ja,copy:function(t){jr.prototype.copy.call(this,t,!1);for(var e=t.levels,i=0,n=e.length;i<n;i++){var r=e[i];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var i=this.levels,n=0;n<i.length;n++)if(e<i[n].distance)break;i.splice(n,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,i=1,n=e.length;i<n;i++)if(t<e[i].distance)break;return e[i-1].object},raycast:function(){var t=new Oe;return function(e,i){t.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(t);this.getObjectForDistance(n).raycast(e,i)}}(),update:function(){var t=new Oe,e=new Oe;return function(i){var n=this.levels;if(n.length>1){t.setFromMatrixPosition(i.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var r=t.distanceTo(e);n[0].object.visible=!0;for(var a=1,o=n.length;a<o;a++){if(!(r>=n[a].distance))break;n[a-1].object.visible=!1,n[a].object.visible=!0}for(;a<o;a++)n[a].object.visible=!1}}}(),toJSON:function(t){var e=jr.prototype.toJSON.call(this,t);e.object.levels=[];for(var i=this.levels,n=0,r=i.length;n<r;n++){var a=i[n];e.object.levels.push({object:a.object.uuid,distance:a.distance})}return e}}),Object.assign(Qa.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var i=new Ue;this.bones[t]&&i.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(i)}},pose:function(){for(var t,e=0,i=this.bones.length;e<i;e++)t=this.bones[e],t&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,i=this.bones.length;e<i;e++)t=this.bones[e],t&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new Ue;return function(){for(var e=0,i=this.bones.length;e<i;e++){var n=this.bones[e]?this.bones[e].matrixWorld:this.identityMatrix;t.multiplyMatrices(n,this.boneInverses[e]),t.toArray(this.boneMatrices,16*e)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new Qa(this.bones,this.boneInverses,this.useVertexTexture)}}),Ka.prototype=Object.assign(Object.create(jr.prototype),{constructor:Ka,isBone:!0}),$a.prototype=Object.assign(Object.create(ua.prototype),{constructor:$a,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry&&this.geometry.isGeometry)for(var t=0;t<this.geometry.skinWeights.length;t++){var e=this.geometry.skinWeights[t],i=1/e.lengthManhattan();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var n=new Le,r=this.geometry.attributes.skinWeight;for(t=0;t<r.count;t++){n.x=r.getX(t),n.y=r.getY(t),n.z=r.getZ(t),n.w=r.getW(t);i=1/n.lengthManhattan();i!==1/0?n.multiplyScalar(i):n.set(1,0,0,0),r.setXYZW(t,n.x,n.y,n.z,n.w)}}},updateMatrixWorld:function(t){ua.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material,this.skeleton.useVertexTexture).copy(this)}}),to.prototype=Object.create(Pr.prototype),to.prototype.constructor=to,to.prototype.isLineBasicMaterial=!0,to.prototype.copy=function(t){return Pr.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},eo.prototype=Object.assign(Object.create(jr.prototype),{constructor:eo,isLine:!0,raycast:function(){var t=new Ue,e=new Gr,i=new Dr;return function(n,r){var a=n.linePrecision,o=a*a,s=this.geometry,c=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),i.copy(s.boundingSphere),i.applyMatrix4(c),!1!==n.ray.intersectsSphere(i)){t.getInverse(c),e.copy(n.ray).applyMatrix4(t);var l=new Oe,u=new Oe,h=new Oe,d=new Oe,p=this&&this.isLineSegments?2:1;if(s.isBufferGeometry){var f=s.index,m=s.attributes,v=m.position.array;if(null!==f)for(var g=f.array,y=0,_=g.length-1;y<_;y+=p){var x=g[y],b=g[y+1];l.fromArray(v,3*x),u.fromArray(v,3*b);var w=e.distanceSqToSegment(l,u,d,h);if(!(w>o)){d.applyMatrix4(this.matrixWorld);var M=n.ray.origin.distanceTo(d);M<n.near||M>n.far||r.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else for(y=0,_=v.length/3-1;y<_;y+=p){l.fromArray(v,3*y),u.fromArray(v,3*y+3);w=e.distanceSqToSegment(l,u,d,h);if(!(w>o)){d.applyMatrix4(this.matrixWorld);M=n.ray.origin.distanceTo(d);M<n.near||M>n.far||r.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}else if(s.isGeometry){var E=s.vertices,S=E.length;for(y=0;y<S-1;y+=p){w=e.distanceSqToSegment(E[y],E[y+1],d,h);if(!(w>o)){d.applyMatrix4(this.matrixWorld);M=n.ray.origin.distanceTo(d);M<n.near||M>n.far||r.push({distance:M,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),io.prototype=Object.assign(Object.create(eo.prototype),{constructor:io,isLineSegments:!0}),no.prototype=Object.create(Pr.prototype),no.prototype.constructor=no,no.prototype.isPointsMaterial=!0,no.prototype.copy=function(t){return Pr.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},ro.prototype=Object.assign(Object.create(jr.prototype),{constructor:ro,isPoints:!0,raycast:function(){var t=new Ue,e=new Gr,i=new Dr;return function(n,r){var a=this,o=this.geometry,s=this.matrixWorld,c=n.params.Points.threshold;if(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(s),!1!==n.ray.intersectsSphere(i)){t.getInverse(s),e.copy(n.ray).applyMatrix4(t);var l=c/((this.scale.x+this.scale.y+this.scale.z)/3),u=l*l,h=new Oe;if(o.isBufferGeometry){var d=o.index,p=o.attributes,f=p.position.array;if(null!==d)for(var m=d.array,v=0,g=m.length;v<g;v++){var y=m[v];h.fromArray(f,3*y),b(h,y)}else{v=0;for(var _=f.length/3;v<_;v++)h.fromArray(f,3*v),b(h,v)}}else{var x=o.vertices;for(v=0,_=x.length;v<_;v++)b(x[v],v)}}function b(t,i){var o=e.distanceSqToPoint(t);if(o<u){var c=e.closestPointToPoint(t);c.applyMatrix4(s);var l=n.ray.origin.distanceTo(c);if(l<n.near||l>n.far)return;r.push({distance:l,distanceToRay:Math.sqrt(o),point:c.clone(),index:i,face:null,object:a})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ao.prototype=Object.assign(Object.create(jr.prototype),{constructor:ao}),oo.prototype=Object.create(Ce.prototype),oo.prototype.constructor=oo,so.prototype=Object.create(Ce.prototype),so.prototype.constructor=so,so.prototype.isCompressedTexture=!0,co.prototype=Object.create(Ce.prototype),co.prototype.constructor=co,lo.prototype=Object.create(Ce.prototype),lo.prototype.constructor=lo,lo.prototype.isDepthTexture=!0,uo.prototype=Object.create(la.prototype),uo.prototype.constructor=uo,ho.prototype=Object.create(la.prototype),ho.prototype.constructor=ho,po.prototype=Object.create(oa.prototype),po.prototype.constructor=po,fo.prototype=Object.create(la.prototype),fo.prototype.constructor=fo,mo.prototype=Object.create(fo.prototype),mo.prototype.constructor=mo,vo.prototype=Object.create(oa.prototype),vo.prototype.constructor=vo,go.prototype=Object.create(fo.prototype),go.prototype.constructor=go,yo.prototype=Object.create(oa.prototype),yo.prototype.constructor=yo,_o.prototype=Object.create(fo.prototype),_o.prototype.constructor=_o,xo.prototype=Object.create(oa.prototype),xo.prototype.constructor=xo,bo.prototype=Object.create(fo.prototype),bo.prototype.constructor=bo,wo.prototype=Object.create(oa.prototype),wo.prototype.constructor=wo,Mo.prototype=Object.create(oa.prototype),Mo.prototype.constructor=Mo,Eo.prototype=Object.create(la.prototype),Eo.prototype.constructor=Eo,So.prototype=Object.create(oa.prototype),So.prototype.constructor=So,Ao.prototype=Object.create(la.prototype),Ao.prototype.constructor=Ao,To.prototype=Object.create(oa.prototype),To.prototype.constructor=To,Co.prototype=Object.create(la.prototype),Co.prototype.constructor=Co,Lo.prototype=Object.create(oa.prototype),Lo.prototype.constructor=Lo;var Ro={area:function(t){for(var e=t.length,i=0,n=e-1,r=0;r<e;n=r++)i+=t[n].x*t[r].y-t[r].x*t[n].y;return.5*i},triangulate:function(){function t(t,e,i,n,r,a){var o,s,c,l,u,h,d,p,f,m,v,g,y,_,x,b,w,M,E,S,A,T,C,L;if(s=t[a[e]].x,c=t[a[e]].y,l=t[a[i]].x,u=t[a[i]].y,h=t[a[n]].x,d=t[a[n]].y,(l-s)*(d-c)-(u-c)*(h-s)<=0)return!1;for(m=h-l,v=d-u,g=s-h,y=c-d,_=l-s,x=u-c,o=0;o<r;o++)if(p=t[a[o]].x,f=t[a[o]].y,!(p===s&&f===c||p===l&&f===u||p===h&&f===d)&&(b=p-s,w=f-c,M=p-l,E=f-u,S=p-h,A=f-d,L=m*E-v*M,T=_*w-x*b,C=g*A-y*S,L>=-Number.EPSILON&&C>=-Number.EPSILON&&T>=-Number.EPSILON))return!1;return!0}return function(e,i){var n=e.length;if(n<3)return null;var r,a,o,s=[],c=[],l=[];if(Ro.area(e)>0)for(a=0;a<n;a++)c[a]=a;else for(a=0;a<n;a++)c[a]=n-1-a;var u=n,h=2*u;for(a=u-1;u>2;){if(h--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),i?l:s;if(r=a,u<=r&&(r=0),a=r+1,u<=a&&(a=0),o=a+1,u<=o&&(o=0),t(e,r,a,o,u,c)){var d,p,f,m,v;for(d=c[r],p=c[a],f=c[o],s.push([e[d],e[p],e[f]]),l.push([c[r],c[a],c[o]]),m=a,v=a+1;v<u;m++,v++)c[m]=c[v];u--,h=2*u}}return i?l:s}}(),triangulateShape:function(t,e){function i(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function n(t,e,i){return t.x!==e.x?t.x<e.x?t.x<=i.x&&i.x<=e.x:e.x<=i.x&&i.x<=t.x:t.y<e.y?t.y<=i.y&&i.y<=e.y:e.y<=i.y&&i.y<=t.y}function r(t,e,i,r,a){var o=e.x-t.x,s=e.y-t.y,c=r.x-i.x,l=r.y-i.y,u=t.x-i.x,h=t.y-i.y,d=s*c-o*l,p=s*u-o*h;if(Math.abs(d)>Number.EPSILON){var f;if(d>0){if(p<0||p>d)return[];if(f=l*u-c*h,f<0||f>d)return[]}else{if(p>0||p<d)return[];if(f=l*u-c*h,f>0||f<d)return[]}if(0===f)return!a||0!==p&&p!==d?[t]:[];if(f===d)return!a||0!==p&&p!==d?[e]:[];if(0===p)return[i];if(p===d)return[r];var m=f/d;return[{x:t.x+m*o,y:t.y+m*s}]}if(0!==p||l*u!==c*h)return[];var v,g,y,_,x,b,w,M,E=0===o&&0===s,S=0===c&&0===l;return E&&S?t.x!==i.x||t.y!==i.y?[]:[t]:E?n(i,r,t)?[t]:[]:S?n(t,e,i)?[i]:[]:(0!==o?(t.x<e.x?(v=t,y=t.x,g=e,_=e.x):(v=e,y=e.x,g=t,_=t.x),i.x<r.x?(x=i,w=i.x,b=r,M=r.x):(x=r,w=r.x,b=i,M=i.x)):(t.y<e.y?(v=t,y=t.y,g=e,_=e.y):(v=e,y=e.y,g=t,_=t.y),i.y<r.y?(x=i,w=i.y,b=r,M=r.y):(x=r,w=r.y,b=i,M=i.y)),y<=w?_<w?[]:_===w?a?[]:[x]:_<=M?[x,g]:[x,b]:y>M?[]:y===M?a?[]:[v]:_<=M?[v,g]:[v,b])}function a(t,e,i,n){var r=e.x-t.x,a=e.y-t.y,o=i.x-t.x,s=i.y-t.y,c=n.x-t.x,l=n.y-t.y,u=r*s-a*o,h=r*l-a*c;if(Math.abs(u)>Number.EPSILON){var d=c*s-l*o;return u>0?h>=0&&d>=0:h>=0||d>=0}return h>0}function o(t,e){var i,n=t.concat();function o(t,e){var r=n.length-1,o=t-1;o<0&&(o=r);var s=t+1;s>r&&(s=0);var c=a(n[t],n[o],n[s],i[e]);if(!c)return!1;var l=i.length-1,u=e-1;u<0&&(u=l);var h=e+1;return h>l&&(h=0),c=a(i[e],i[u],i[h],n[t]),!!c}function s(t,e){var i,a,o;for(i=0;i<n.length;i++)if(a=i+1,a%=n.length,o=r(t,e,n[i],n[a],!0),o.length>0)return!0;return!1}var c=[];function l(t,i){var n,a,o,s,l;for(n=0;n<c.length;n++)for(a=e[c[n]],o=0;o<a.length;o++)if(s=o+1,s%=a.length,l=r(t,i,a[o],a[s],!0),l.length>0)return!0;return!1}for(var u,h,d,p,f,m,v,g,y,_,x=[],b=0,w=e.length;b<w;b++)c.push(b);var M=0,E=2*c.length;while(c.length>0){if(E--,E<0){console.log("Infinite Loop! Holes left:"+c.length+", Probably Hole outside Shape!");break}for(h=M;h<n.length;h++){d=n[h],u=-1;for(b=0;b<c.length;b++)if(f=c[b],m=d.x+":"+d.y+":"+f,void 0===x[m]){i=e[f];for(var S=0;S<i.length;S++)if(p=i[S],o(h,S)&&!s(d,p)&&!l(d,p)){u=S,c.splice(b,1),v=n.slice(0,h+1),g=n.slice(h),y=i.slice(u),_=i.slice(0,u+1),n=v.concat(y).concat(_).concat(g),M=h;break}if(u>=0)break;x[m]=!0}if(u>=0)break}}return n}i(t),e.forEach(i);for(var s,c,l,u,h,d,p={},f=t.concat(),m=0,v=e.length;m<v;m++)Array.prototype.push.apply(f,e[m]);for(s=0,c=f.length;s<c;s++)h=f[s].x+":"+f[s].y,void 0!==p[h]&&console.warn("THREE.ShapeUtils: Duplicate point",h,s),p[h]=s;var g=o(t,e),y=Ro.triangulate(g,!1);for(s=0,c=y.length;s<c;s++)for(u=y[s],l=0;l<3;l++)h=u[l].x+":"+u[l].y,d=p[h],void 0!==d&&(u[l]=d);return y.concat()},isClockWise:function(t){return Ro.area(t)<0},b2:function(){function t(t,e){var i=1-t;return i*i*e}function e(t,e){return 2*(1-t)*t*e}function i(t,e){return t*t*e}return function(n,r,a,o){return t(n,r)+e(n,a)+i(n,o)}}(),b3:function(){function t(t,e){var i=1-t;return i*i*i*e}function e(t,e){var i=1-t;return 3*i*i*t*e}function i(t,e){var i=1-t;return 3*i*t*t*e}function n(t,e){return t*t*t*e}return function(r,a,o,s,c){return t(r,a)+e(r,o)+i(r,s)+n(r,c)}}()};function Po(t,e){"undefined"!==typeof t?(oa.call(this),this.type="ExtrudeGeometry",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),this.computeFaceNormals()):t=[]}function Io(t,e){e=e||{};var i=e.font;if(!1===(i&&i.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new oa;var n=i.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Po.call(this,n,e),this.type="TextGeometry"}function Oo(t,e,i,n,r,a,o){la.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:n,phiLength:r,thetaStart:a,thetaLength:o},t=t||50,e=Math.max(3,Math.floor(e)||8),i=Math.max(2,Math.floor(i)||6),n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI,a=void 0!==a?a:0,o=void 0!==o?o:Math.PI;for(var s=a+o,c=(e+1)*(i+1),l=new qr(new Float32Array(3*c),3),u=new qr(new Float32Array(3*c),3),h=new qr(new Float32Array(2*c),2),d=0,p=[],f=new Oe,m=0;m<=i;m++){for(var v=[],g=m/i,y=0;y<=e;y++){var _=y/e,x=-t*Math.cos(n+_*r)*Math.sin(a+g*o),b=t*Math.cos(a+g*o),w=t*Math.sin(n+_*r)*Math.sin(a+g*o);f.set(x,b,w).normalize(),l.setXYZ(d,x,b,w),u.setXYZ(d,f.x,f.y,f.z),h.setXY(d,_,1-g),v.push(d),d++}p.push(v)}var M=[];for(m=0;m<i;m++)for(y=0;y<e;y++){var E=p[m][y+1],S=p[m][y],A=p[m+1][y],T=p[m+1][y+1];(0!==m||a>0)&&M.push(E,S,T),(m!==i-1||s<Math.PI)&&M.push(S,A,T)}this.setIndex(new(l.count>65535?ia:ta)(M,1)),this.addAttribute("position",l),this.addAttribute("normal",u),this.addAttribute("uv",h),this.boundingSphere=new Dr(new Oe,t)}function Uo(t,e,i,n,r,a,o){oa.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:n,phiLength:r,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new Oo(t,e,i,n,r,a,o))}function Do(t,e,i,n,r,a){la.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:n,thetaStart:r,thetaLength:a},t=t||20,e=e||50,r=void 0!==r?r:0,a=void 0!==a?a:2*Math.PI,i=void 0!==i?Math.max(3,i):8,n=void 0!==n?Math.max(1,n):1;var o,s,c,l=(i+1)*(n+1),u=i*n*2*3,h=new qr(new(u>65535?Uint32Array:Uint16Array)(u),1),d=new qr(new Float32Array(3*l),3),p=new qr(new Float32Array(3*l),3),f=new qr(new Float32Array(2*l),2),m=0,v=0,g=t,y=(e-t)/n,_=new Oe,x=new Ae;for(s=0;s<=n;s++){for(c=0;c<=i;c++)o=r+c/i*a,_.x=g*Math.cos(o),_.y=g*Math.sin(o),d.setXYZ(m,_.x,_.y,_.z),p.setXYZ(m,0,0,1),x.x=(_.x/e+1)/2,x.y=(_.y/e+1)/2,f.setXY(m,x.x,x.y),m++;g+=y}for(s=0;s<n;s++){var b=s*(i+1);for(c=0;c<i;c++){o=c+b;var w=o,M=o+i+1,E=o+i+2,S=o+1;h.setX(v,w),v++,h.setX(v,M),v++,h.setX(v,E),v++,h.setX(v,w),v++,h.setX(v,E),v++,h.setX(v,S),v++}}this.setIndex(h),this.addAttribute("position",d),this.addAttribute("normal",p),this.addAttribute("uv",f)}function No(t,e,i,n,r,a){oa.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:n,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new Do(t,e,i,n,r,a))}function zo(t,e,i,n){oa.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:n},this.fromBufferGeometry(new da(t,e,i,n))}function Fo(t,e,i,n){la.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:n},e=Math.floor(e)||12,i=i||0,n=n||2*Math.PI,n=Se.clamp(n,0,2*Math.PI);var r,a,o,s=(e+1)*t.length,c=e*t.length*2*3,l=new qr(new(c>65535?Uint32Array:Uint16Array)(c),1),u=new qr(new Float32Array(3*s),3),h=new qr(new Float32Array(2*s),2),d=0,p=0,f=1/e,m=new Oe,v=new Ae;for(a=0;a<=e;a++){var g=i+a*f*n,y=Math.sin(g),_=Math.cos(g);for(o=0;o<=t.length-1;o++)m.x=t[o].x*y,m.y=t[o].y,m.z=t[o].x*_,u.setXYZ(d,m.x,m.y,m.z),v.x=a/e,v.y=o/(t.length-1),h.setXY(d,v.x,v.y),d++}for(a=0;a<e;a++)for(o=0;o<t.length-1;o++){r=o+a*t.length;var x=r,b=r+t.length,w=r+t.length+1,M=r+1;l.setX(p,x),p++,l.setX(p,b),p++,l.setX(p,M),p++,l.setX(p,b),p++,l.setX(p,w),p++,l.setX(p,M),p++}if(this.setIndex(l),this.addAttribute("position",u),this.addAttribute("uv",h),this.computeVertexNormals(),n===2*Math.PI){var E=this.attributes.normal.array,S=new Oe,A=new Oe,T=new Oe;for(r=e*t.length*3,a=0,o=0;a<t.length;a++,o+=3)S.x=E[o+0],S.y=E[o+1],S.z=E[o+2],A.x=E[r+o+0],A.y=E[r+o+1],A.z=E[r+o+2],T.addVectors(S,A).normalize(),E[o+0]=E[r+o+0]=T.x,E[o+1]=E[r+o+1]=T.y,E[o+2]=E[r+o+2]=T.z}}function Bo(t,e,i,n){oa.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:n},this.fromBufferGeometry(new Fo(t,e,i,n)),this.mergeVertices()}function Go(t,e){la.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var i=[],n=[],r=[],a=[],o=0,s=0;if(!1===Array.isArray(t))l(t);else for(var c=0;c<t.length;c++)l(t[c]),this.addGroup(o,s,c),o+=s,s=0;function l(t){var o,c,l,u=i.length/3,h=t.extractPoints(e),d=h.shape,p=h.holes;if(!1===Ro.isClockWise(d))for(d=d.reverse(),o=0,c=p.length;o<c;o++)l=p[o],!0===Ro.isClockWise(l)&&(p[o]=l.reverse());var f=Ro.triangulateShape(d,p);for(o=0,c=p.length;o<c;o++)l=p[o],d=d.concat(l);for(o=0,c=d.length;o<c;o++){var m=d[o];i.push(m.x,m.y,0),n.push(0,0,1),r.push(m.x,m.y)}for(o=0,c=f.length;o<c;o++){var v=f[o],g=v[0]+u,y=v[1]+u,_=v[2]+u;a.push(g,y,_),s+=3}}this.setIndex(new(a.length>65535?ia:ta)(a,1)),this.addAttribute("position",new na(i,3)),this.addAttribute("normal",new na(n,3)),this.addAttribute("uv",new na(r,2))}function ko(t,e){oa.call(this),this.type="ShapeGeometry","object"===typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new Go(t,e)),this.mergeVertices()}function Ho(t,e){la.call(this),e=void 0!==e?e:1;var i=Math.cos(Se.DEG2RAD*e),n=[0,0],r={};function a(t,e){return t-e}var o,s=["a","b","c"];t.isBufferGeometry?(o=new oa,o.fromBufferGeometry(t)):o=t.clone(),o.mergeVertices(),o.computeFaceNormals();for(var c=o.vertices,l=o.faces,u=0,h=l.length;u<h;u++)for(var d=l[u],p=0;p<3;p++){n[0]=d[s[p]],n[1]=d[s[(p+1)%3]],n.sort(a);var f=n.toString();void 0===r[f]?r[f]={vert1:n[0],vert2:n[1],face1:u,face2:void 0}:r[f].face2=u}var m=[];for(var f in r){var v=r[f];if(void 0===v.face2||l[v.face1].normal.dot(l[v.face2].normal)<=i){var g=c[v.vert1];m.push(g.x),m.push(g.y),m.push(g.z),g=c[v.vert2],m.push(g.x),m.push(g.y),m.push(g.z)}}this.addAttribute("position",new na(m,3))}function Vo(t,e,i,n,r,a,o,s){la.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:n,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s};var c=this;t=void 0!==t?t:20,e=void 0!==e?e:20,i=void 0!==i?i:100,n=Math.floor(n)||8,r=Math.floor(r)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var l=0;!1===a&&(t>0&&l++,e>0&&l++);var u=b(),h=w(),d=new qr(new(h>65535?Uint32Array:Uint16Array)(h),1),p=new qr(new Float32Array(3*u),3),f=new qr(new Float32Array(3*u),3),m=new qr(new Float32Array(2*u),2),v=0,g=0,y=[],_=i/2,x=0;function b(){var t=(n+1)*(r+1);return!1===a&&(t+=(n+1)*l+n*l),t}function w(){var t=n*r*2*3;return!1===a&&(t+=n*l*3),t}function M(){var a,l,u=new Oe,h=new Oe,b=0,w=(e-t)/i;for(l=0;l<=r;l++){var M=[],E=l/r,S=E*(e-t)+t;for(a=0;a<=n;a++){var A=a/n,T=A*s+o,C=Math.sin(T),L=Math.cos(T);h.x=S*C,h.y=-E*i+_,h.z=S*L,p.setXYZ(v,h.x,h.y,h.z),u.set(C,w,L).normalize(),f.setXYZ(v,u.x,u.y,u.z),m.setXY(v,A,1-E),M.push(v),v++}y.push(M)}for(a=0;a<n;a++)for(l=0;l<r;l++){var R=y[l][a],P=y[l+1][a],I=y[l+1][a+1],O=y[l][a+1];d.setX(g,R),g++,d.setX(g,P),g++,d.setX(g,O),g++,d.setX(g,P),g++,d.setX(g,I),g++,d.setX(g,O),g++,b+=6}c.addGroup(x,b,0),x+=b}function E(i){var r,a,l,u=new Ae,h=new Oe,y=0,b=!0===i?t:e,w=!0===i?1:-1;for(a=v,r=1;r<=n;r++)p.setXYZ(v,0,_*w,0),f.setXYZ(v,0,w,0),u.x=.5,u.y=.5,m.setXY(v,u.x,u.y),v++;for(l=v,r=0;r<=n;r++){var M=r/n,E=M*s+o,S=Math.cos(E),A=Math.sin(E);h.x=b*A,h.y=_*w,h.z=b*S,p.setXYZ(v,h.x,h.y,h.z),f.setXYZ(v,0,w,0),u.x=.5*S+.5,u.y=.5*A*w+.5,m.setXY(v,u.x,u.y),v++}for(r=0;r<n;r++){var T=a+r,C=l+r;!0===i?(d.setX(g,C),g++,d.setX(g,C+1),g++,d.setX(g,T),g++):(d.setX(g,C+1),g++,d.setX(g,C),g++,d.setX(g,T),g++),y+=3}c.addGroup(x,y,!0===i?1:2),x+=y}M(),!1===a&&(t>0&&E(!0),e>0&&E(!1)),this.setIndex(d),this.addAttribute("position",p),this.addAttribute("normal",f),this.addAttribute("uv",m)}function jo(t,e,i,n,r,a,o,s){oa.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:n,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new Vo(t,e,i,n,r,a,o,s)),this.mergeVertices()}function Wo(t,e,i,n,r,a,o){jo.call(this,0,t,e,i,n,r,a,o),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:n,openEnded:r,thetaStart:a,thetaLength:o}}function Xo(t,e,i,n,r,a,o){Vo.call(this,0,t,e,i,n,r,a,o),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:n,openEnded:r,thetaStart:a,thetaLength:o}}function Yo(t,e,i,n){la.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:n},t=t||50,e=void 0!==e?Math.max(3,e):8,i=void 0!==i?i:0,n=void 0!==n?n:2*Math.PI;var r=e+2,a=new Float32Array(3*r),o=new Float32Array(3*r),s=new Float32Array(2*r);o[2]=1,s[0]=.5,s[1]=.5;for(var c=0,l=3,u=2;c<=e;c++,l+=3,u+=2){var h=i+c/e*n;a[l]=t*Math.cos(h),a[l+1]=t*Math.sin(h),o[l+2]=1,s[u]=(a[l]/t+1)/2,s[u+1]=(a[l+1]/t+1)/2}var d=[];for(l=1;l<=e;l++)d.push(l,l+1,0);this.setIndex(new qr(new Uint16Array(d),1)),this.addAttribute("position",new qr(a,3)),this.addAttribute("normal",new qr(o,3)),this.addAttribute("uv",new qr(s,2)),this.boundingSphere=new Dr(new Oe,t)}function Zo(t,e,i,n){oa.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:n},this.fromBufferGeometry(new Yo(t,e,i,n))}function qo(t,e,i,n,r,a){oa.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:n,heightSegments:r,depthSegments:a},this.fromBufferGeometry(new ha(t,e,i,n,r,a)),this.mergeVertices()}Po.prototype=Object.create(oa.prototype),Po.prototype.constructor=Po,Po.prototype.addShapeList=function(t,e){for(var i=t.length,n=0;n<i;n++){var r=t[n];this.addShape(r,e)}},Po.prototype.addShape=function(t,e){var i,n,r,a,o,s,c,l,u=void 0!==e.amount?e.amount:100,h=void 0!==e.bevelThickness?e.bevelThickness:6,d=void 0!==e.bevelSize?e.bevelSize:h-2,p=void 0!==e.bevelSegments?e.bevelSegments:3,f=void 0===e.bevelEnabled||e.bevelEnabled,m=void 0!==e.curveSegments?e.curveSegments:12,v=void 0!==e.steps?e.steps:1,g=e.extrudePath,y=!1,_=void 0!==e.UVGenerator?e.UVGenerator:Po.WorldUVGenerator;g&&(i=g.getSpacedPoints(v),y=!0,f=!1,n=void 0!==e.frames?e.frames:g.computeFrenetFrames(v,!1),r=new Oe,a=new Oe,o=new Oe),f||(p=0,h=0,d=0);var x=this,b=this.vertices.length,w=t.extractPoints(m),M=w.shape,E=w.holes,S=!Ro.isClockWise(M);if(S){for(M=M.reverse(),c=0,l=E.length;c<l;c++)s=E[c],Ro.isClockWise(s)&&(E[c]=s.reverse());S=!1}var A=Ro.triangulateShape(M,E),T=M;for(c=0,l=E.length;c<l;c++)s=E[c],M=M.concat(s);function C(t,e,i){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(i).add(t)}var L,R,P,I,O,U,D=M.length,N=A.length;function z(t,e,i){var n,r,a=1,o=t.x-e.x,s=t.y-e.y,c=i.x-t.x,l=i.y-t.y,u=o*o+s*s,h=o*l-s*c;if(Math.abs(h)>Number.EPSILON){var d=Math.sqrt(u),p=Math.sqrt(c*c+l*l),f=e.x-s/d,m=e.y+o/d,v=i.x-l/p,g=i.y+c/p,y=((v-f)*l-(g-m)*c)/(o*l-s*c);n=f+o*y-t.x,r=m+s*y-t.y;var _=n*n+r*r;if(_<=2)return new Ae(n,r);a=Math.sqrt(_/2)}else{var x=!1;o>Number.EPSILON?c>Number.EPSILON&&(x=!0):o<-Number.EPSILON?c<-Number.EPSILON&&(x=!0):Math.sign(s)===Math.sign(l)&&(x=!0),x?(n=-s,r=o,a=Math.sqrt(u)):(n=o,r=s,a=Math.sqrt(u/2))}return new Ae(n/a,r/a)}for(var F=[],B=0,G=T.length,k=G-1,H=B+1;B<G;B++,k++,H++)k===G&&(k=0),H===G&&(H=0),F[B]=z(T[B],T[k],T[H]);var V,j,W=[],X=F.concat();for(c=0,l=E.length;c<l;c++){for(s=E[c],V=[],B=0,G=s.length,k=G-1,H=B+1;B<G;B++,k++,H++)k===G&&(k=0),H===G&&(H=0),V[B]=z(s[B],s[k],s[H]);W.push(V),X=X.concat(V)}for(L=0;L<p;L++){for(P=L/p,I=h*Math.cos(P*Math.PI/2),R=d*Math.sin(P*Math.PI/2),B=0,G=T.length;B<G;B++)O=C(T[B],F[B],R),J(O.x,O.y,-I);for(c=0,l=E.length;c<l;c++)for(s=E[c],V=W[c],B=0,G=s.length;B<G;B++)O=C(s[B],V[B],R),J(O.x,O.y,-I)}for(R=d,B=0;B<D;B++)O=f?C(M[B],X[B],R):M[B],y?(a.copy(n.normals[0]).multiplyScalar(O.x),r.copy(n.binormals[0]).multiplyScalar(O.y),o.copy(i[0]).add(a).add(r),J(o.x,o.y,o.z)):J(O.x,O.y,0);for(j=1;j<=v;j++)for(B=0;B<D;B++)O=f?C(M[B],X[B],R):M[B],y?(a.copy(n.normals[j]).multiplyScalar(O.x),r.copy(n.binormals[j]).multiplyScalar(O.y),o.copy(i[j]).add(a).add(r),J(o.x,o.y,o.z)):J(O.x,O.y,u/v*j);for(L=p-1;L>=0;L--){for(P=L/p,I=h*Math.cos(P*Math.PI/2),R=d*Math.sin(P*Math.PI/2),B=0,G=T.length;B<G;B++)O=C(T[B],F[B],R),J(O.x,O.y,u+I);for(c=0,l=E.length;c<l;c++)for(s=E[c],V=W[c],B=0,G=s.length;B<G;B++)O=C(s[B],V[B],R),y?J(O.x,O.y+i[v-1].y,i[v-1].x+I):J(O.x,O.y,u+I)}function Y(){if(f){var t=0,e=D*t;for(B=0;B<N;B++)U=A[B],Q(U[2]+e,U[1]+e,U[0]+e);for(t=v+2*p,e=D*t,B=0;B<N;B++)U=A[B],Q(U[0]+e,U[1]+e,U[2]+e)}else{for(B=0;B<N;B++)U=A[B],Q(U[2],U[1],U[0]);for(B=0;B<N;B++)U=A[B],Q(U[0]+D*v,U[1]+D*v,U[2]+D*v)}}function Z(){var t=0;for(q(T,t),t+=T.length,c=0,l=E.length;c<l;c++)s=E[c],q(s,t),t+=s.length}function q(t,e){var i,n;B=t.length;while(--B>=0){i=B,n=B-1,n<0&&(n=t.length-1);var r=0,a=v+2*p;for(r=0;r<a;r++){var o=D*r,s=D*(r+1),c=e+i+o,l=e+n+o,u=e+n+s,h=e+i+s;K(c,l,u,h,t,r,a,i,n)}}}function J(t,e,i){x.vertices.push(new Oe(t,e,i))}function Q(t,e,i){t+=b,e+=b,i+=b,x.faces.push(new Yr(t,e,i,null,null,0));var n=_.generateTopUV(x,t,e,i);x.faceVertexUvs[0].push(n)}function K(t,e,i,n,r,a,o,s,c){t+=b,e+=b,i+=b,n+=b,x.faces.push(new Yr(t,e,n,null,null,1)),x.faces.push(new Yr(e,i,n,null,null,1));var l=_.generateSideWallUV(x,t,e,i,n);x.faceVertexUvs[0].push([l[0],l[1],l[3]]),x.faceVertexUvs[0].push([l[1],l[2],l[3]])}Y(),Z()},Po.WorldUVGenerator={generateTopUV:function(t,e,i,n){var r=t.vertices,a=r[e],o=r[i],s=r[n];return[new Ae(a.x,a.y),new Ae(o.x,o.y),new Ae(s.x,s.y)]},generateSideWallUV:function(t,e,i,n,r){var a=t.vertices,o=a[e],s=a[i],c=a[n],l=a[r];return Math.abs(o.y-s.y)<.01?[new Ae(o.x,1-o.z),new Ae(s.x,1-s.z),new Ae(c.x,1-c.z),new Ae(l.x,1-l.z)]:[new Ae(o.y,1-o.z),new Ae(s.y,1-s.z),new Ae(c.y,1-c.z),new Ae(l.y,1-l.z)]}},Io.prototype=Object.create(Po.prototype),Io.prototype.constructor=Io,Oo.prototype=Object.create(la.prototype),Oo.prototype.constructor=Oo,Uo.prototype=Object.create(oa.prototype),Uo.prototype.constructor=Uo,Do.prototype=Object.create(la.prototype),Do.prototype.constructor=Do,No.prototype=Object.create(oa.prototype),No.prototype.constructor=No,zo.prototype=Object.create(oa.prototype),zo.prototype.constructor=zo,Fo.prototype=Object.create(la.prototype),Fo.prototype.constructor=Fo,Bo.prototype=Object.create(oa.prototype),Bo.prototype.constructor=Bo,Go.prototype=Object.create(la.prototype),Go.prototype.constructor=Go,ko.prototype=Object.create(oa.prototype),ko.prototype.constructor=ko,Ho.prototype=Object.create(la.prototype),Ho.prototype.constructor=Ho,Vo.prototype=Object.create(la.prototype),Vo.prototype.constructor=Vo,jo.prototype=Object.create(oa.prototype),jo.prototype.constructor=jo,Wo.prototype=Object.create(jo.prototype),Wo.prototype.constructor=Wo,Xo.prototype=Object.create(Vo.prototype),Xo.prototype.constructor=Xo,Yo.prototype=Object.create(la.prototype),Yo.prototype.constructor=Yo,Zo.prototype=Object.create(oa.prototype),Zo.prototype.constructor=Zo,qo.prototype=Object.create(oa.prototype),qo.prototype.constructor=qo;var Jo=Object.freeze({WireframeGeometry:uo,ParametricGeometry:po,ParametricBufferGeometry:ho,TetrahedronGeometry:vo,TetrahedronBufferGeometry:mo,OctahedronGeometry:yo,OctahedronBufferGeometry:go,IcosahedronGeometry:xo,IcosahedronBufferGeometry:_o,DodecahedronGeometry:wo,DodecahedronBufferGeometry:bo,PolyhedronGeometry:Mo,PolyhedronBufferGeometry:fo,TubeGeometry:So,TubeBufferGeometry:Eo,TorusKnotGeometry:To,TorusKnotBufferGeometry:Ao,TorusGeometry:Lo,TorusBufferGeometry:Co,TextGeometry:Io,SphereBufferGeometry:Oo,SphereGeometry:Uo,RingGeometry:No,RingBufferGeometry:Do,PlaneBufferGeometry:da,PlaneGeometry:zo,LatheGeometry:Bo,LatheBufferGeometry:Fo,ShapeGeometry:ko,ShapeBufferGeometry:Go,ExtrudeGeometry:Po,EdgesGeometry:Ho,ConeGeometry:Wo,ConeBufferGeometry:Xo,CylinderGeometry:jo,CylinderBufferGeometry:Vo,CircleBufferGeometry:Yo,CircleGeometry:Zo,BoxBufferGeometry:ha,BoxGeometry:qo});function Qo(){Ir.call(this,{uniforms:bi.merge([Sr.lights,{opacity:{value:1}}]),vertexShader:br["shadow_vert"],fragmentShader:br["shadow_frag"]}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}}})}function Ko(t){Ir.call(this,t),this.type="RawShaderMaterial"}function $o(t){this.uuid=Se.generateUUID(),this.type="MultiMaterial",this.materials=Array.isArray(t)?t:[],this.visible=!0}function ts(t){Pr.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new wr(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function es(t){ts.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function is(t){Pr.call(this),this.type="MeshPhongMaterial",this.color=new wr(16777215),this.specular=new wr(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=tt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ns(t){is.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function rs(t){Pr.call(this,t),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function as(t){Pr.call(this),this.type="MeshLambertMaterial",this.color=new wr(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=tt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function os(t){Pr.call(this),this.type="LineDashedMaterial",this.color=new wr(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(t)}Qo.prototype=Object.create(Ir.prototype),Qo.prototype.constructor=Qo,Qo.prototype.isShadowMaterial=!0,Ko.prototype=Object.create(Ir.prototype),Ko.prototype.constructor=Ko,Ko.prototype.isRawShaderMaterial=!0,$o.prototype={constructor:$o,isMultiMaterial:!0,toJSON:function(t){for(var e={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},i=this.materials,n=0,r=i.length;n<r;n++){var a=i[n].toJSON(t);delete a.metadata,e.materials.push(a)}return e.visible=this.visible,e},clone:function(){for(var t=new this.constructor,e=0;e<this.materials.length;e++)t.materials.push(this.materials[e].clone());return t.visible=this.visible,t}},ts.prototype=Object.create(Pr.prototype),ts.prototype.constructor=ts,ts.prototype.isMeshStandardMaterial=!0,ts.prototype.copy=function(t){return Pr.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},es.prototype=Object.create(ts.prototype),es.prototype.constructor=es,es.prototype.isMeshPhysicalMaterial=!0,es.prototype.copy=function(t){return ts.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},is.prototype=Object.create(Pr.prototype),is.prototype.constructor=is,is.prototype.isMeshPhongMaterial=!0,is.prototype.copy=function(t){return Pr.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},ns.prototype=Object.create(is.prototype),ns.prototype.constructor=ns,ns.prototype.isMeshToonMaterial=!0,ns.prototype.copy=function(t){return is.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},rs.prototype=Object.create(Pr.prototype),rs.prototype.constructor=rs,rs.prototype.isMeshNormalMaterial=!0,rs.prototype.copy=function(t){return Pr.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},as.prototype=Object.create(Pr.prototype),as.prototype.constructor=as,as.prototype.isMeshLambertMaterial=!0,as.prototype.copy=function(t){return Pr.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},os.prototype=Object.create(Pr.prototype),os.prototype.constructor=os,os.prototype.isLineDashedMaterial=!0,os.prototype.copy=function(t){return Pr.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var ss=Object.freeze({ShadowMaterial:Qo,SpriteMaterial:Za,RawShaderMaterial:Ko,ShaderMaterial:Ir,PointsMaterial:no,MultiMaterial:$o,MeshPhysicalMaterial:es,MeshStandardMaterial:ts,MeshPhongMaterial:is,MeshToonMaterial:ns,MeshNormalMaterial:rs,MeshLambertMaterial:as,MeshDepthMaterial:Or,MeshBasicMaterial:Zr,LineDashedMaterial:os,LineBasicMaterial:to,Material:Pr}),cs={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function ls(t,e,i){var n=this,r=!1,a=0,o=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(t){o++,!1===r&&void 0!==n.onStart&&n.onStart(t,a,o),r=!0},this.itemEnd=function(t){a++,void 0!==n.onProgress&&n.onProgress(t,a,o),a===o&&(r=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(t){void 0!==n.onError&&n.onError(t)}}var us=new ls;function hs(t){this.manager=void 0!==t?t:us}function ds(t){this.manager=void 0!==t?t:us,this._parser=null}Object.assign(hs.prototype,{load:function(t,e,i,n){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t);var r=this,a=cs.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout((function(){e&&e(a),r.manager.itemEnd(t)}),0),a;var o=/^data:(.*?)(;base64)?,(.*)$/,s=t.match(o);if(s){var c=s[1],l=!!s[2],u=s[3];u=window.decodeURIComponent(u),l&&(u=window.atob(u));try{var h,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":h=new ArrayBuffer(u.length);for(var p=new Uint8Array(h),f=0;f<u.length;f++)p[f]=u.charCodeAt(f);"blob"===d&&(h=new Blob([h],{type:c}));break;case"document":var m=new DOMParser;h=m.parseFromString(u,c);break;case"json":h=JSON.parse(u);break;default:h=u;break}window.setTimeout((function(){e&&e(h),r.manager.itemEnd(t)}),0)}catch(g){window.setTimeout((function(){n&&n(g),r.manager.itemError(t)}),0)}}else{var v=new XMLHttpRequest;v.open("GET",t,!0),v.addEventListener("load",(function(i){var a=i.target.response;cs.add(t,a),200===this.status?(e&&e(a),r.manager.itemEnd(t)):0===this.status?(console.warn("THREE.FileLoader: HTTP Status 0 received."),e&&e(a),r.manager.itemEnd(t)):(n&&n(i),r.manager.itemError(t))}),!1),void 0!==i&&v.addEventListener("progress",(function(t){i(t)}),!1),v.addEventListener("error",(function(e){n&&n(e),r.manager.itemError(t)}),!1),void 0!==this.responseType&&(v.responseType=this.responseType),void 0!==this.withCredentials&&(v.withCredentials=this.withCredentials),v.overrideMimeType&&v.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),v.send(null)}return r.manager.itemStart(t),v},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this}}),Object.assign(ds.prototype,{load:function(t,e,i,n){var r=this,a=[],o=new so;o.image=a;var s=new hs(this.manager);function c(c){s.load(t[c],(function(t){var i=r._parser(t,!0);a[c]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},l+=1,6===l&&(1===i.mipmapCount&&(o.minFilter=Et),o.format=i.format,o.needsUpdate=!0,e&&e(o))}),i,n)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var l=0,u=0,h=t.length;u<h;++u)c(u);else s.load(t,(function(t){var i=r._parser(t,!0);if(i.isCubemap)for(var n=i.mipmaps.length/i.mipmapCount,s=0;s<n;s++){a[s]={mipmaps:[]};for(var c=0;c<i.mipmapCount;c++)a[s].mipmaps.push(i.mipmaps[s*i.mipmapCount+c]),a[s].format=i.format,a[s].width=i.width,a[s].height=i.height}else o.image.width=i.width,o.image.height=i.height,o.mipmaps=i.mipmaps;1===i.mipmapCount&&(o.minFilter=Et),o.format=i.format,o.needsUpdate=!0,e&&e(o)}),i,n);return o},setPath:function(t){return this.path=t,this}});var ps=fs;function fs(t){this.manager=void 0!==t?t:us,this._parser=null}function ms(t){this.manager=void 0!==t?t:us}function vs(t){this.manager=void 0!==t?t:us}function gs(t){this.manager=void 0!==t?t:us}function ys(t,e){jr.call(this),this.type="Light",this.color=new wr(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function _s(t,e,i){ys.call(this,t,i),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(jr.DefaultUp),this.updateMatrix(),this.groundColor=new wr(e)}function xs(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new Ae(512,512),this.map=null,this.matrix=new Ue}function bs(){xs.call(this,new fa(50,1,.5,500))}function ws(t,e,i,n,r,a){ys.call(this,t,e),this.type="SpotLight",this.position.copy(jr.DefaultUp),this.updateMatrix(),this.target=new jr,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==i?i:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==a?a:1,this.shadow=new bs}function Ms(t,e,i,n){ys.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==i?i:0,this.decay=void 0!==n?n:1,this.shadow=new xs(new fa(90,1,.5,500))}function Es(t){xs.call(this,new ma(-5,5,5,-5,.5,500))}function Ss(t,e){ys.call(this,t,e),this.type="DirectionalLight",this.position.copy(jr.DefaultUp),this.updateMatrix(),this.target=new jr,this.shadow=new Es}function As(t,e){ys.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}Object.assign(fs.prototype,{load:function(t,e,i,n){var r=this,a=new Er,o=new hs(this.manager);return o.setResponseType("arraybuffer"),o.load(t,(function(t){var i=r._parser(t);i&&(void 0!==i.image?a.image=i.image:void 0!==i.data&&(a.image.width=i.width,a.image.height=i.height,a.image.data=i.data),a.wrapS=void 0!==i.wrapS?i.wrapS:yt,a.wrapT=void 0!==i.wrapT?i.wrapT:yt,a.magFilter=void 0!==i.magFilter?i.magFilter:Et,a.minFilter=void 0!==i.minFilter?i.minFilter:At,a.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.format&&(a.format=i.format),void 0!==i.type&&(a.type=i.type),void 0!==i.mipmaps&&(a.mipmaps=i.mipmaps),1===i.mipmapCount&&(a.minFilter=Et),a.needsUpdate=!0,e&&e(a,i))}),i,n),a}}),Object.assign(ms.prototype,{load:function(t,e,i,n){var r=this,a=document.createElementNS("http://www.w3.org/1999/xhtml","img");if(a.onload=function(){a.onload=null,URL.revokeObjectURL(a.src),e&&e(a),r.manager.itemEnd(t)},a.onerror=n,0===t.indexOf("data:"))a.src=t;else if(void 0!==this.crossOrigin)a.crossOrigin=this.crossOrigin,a.src=t;else{var o=new hs;o.setPath(this.path),o.setResponseType("blob"),o.setWithCredentials(this.withCredentials),o.load(t,(function(t){a.src=URL.createObjectURL(t)}),i,n)}return r.manager.itemStart(t),a},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(vs.prototype,{load:function(t,e,i,n){var r=new De,a=new ms(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(i){a.load(t[i],(function(t){r.images[i]=t,o++,6===o&&(r.needsUpdate=!0,e&&e(r))}),void 0,n)}for(var c=0;c<t.length;++c)s(c);return r},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(gs.prototype,{load:function(t,e,i,n){var r=new Ce,a=new ms(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setWithCredentials(this.withCredentials),a.setPath(this.path),a.load(t,(function(i){var n=t.search(/\.(jpg|jpeg)$/)>0||0===t.search(/^data\:image\/jpeg/);r.format=n?kt:Ht,r.image=i,r.needsUpdate=!0,void 0!==e&&e(r)}),i,n),r},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this}}),ys.prototype=Object.assign(Object.create(jr.prototype),{constructor:ys,isLight:!0,copy:function(t){return jr.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=jr.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),_s.prototype=Object.assign(Object.create(ys.prototype),{constructor:_s,isHemisphereLight:!0,copy:function(t){return ys.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(xs.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),bs.prototype=Object.assign(Object.create(xs.prototype),{constructor:bs,isSpotLightShadow:!0,update:function(t){var e=2*Se.RAD2DEG*t.angle,i=this.mapSize.width/this.mapSize.height,n=t.distance||500,r=this.camera;e===r.fov&&i===r.aspect&&n===r.far||(r.fov=e,r.aspect=i,r.far=n,r.updateProjectionMatrix())}}),ws.prototype=Object.assign(Object.create(ys.prototype),{constructor:ws,isSpotLight:!0,copy:function(t){return ys.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Ms.prototype=Object.assign(Object.create(ys.prototype),{constructor:Ms,isPointLight:!0,copy:function(t){return ys.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Es.prototype=Object.assign(Object.create(xs.prototype),{constructor:Es}),Ss.prototype=Object.assign(Object.create(ys.prototype),{constructor:Ss,isDirectionalLight:!0,copy:function(t){return ys.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),As.prototype=Object.assign(Object.create(ys.prototype),{constructor:As,isAmbientLight:!0});var Ts,Cs={arraySlice:function(t,e,i){return Cs.isTypedArray(t)?new t.constructor(t.subarray(e,i)):t.slice(e,i)},convertArray:function(t,e,i){return!t||!i&&t.constructor===e?t:"number"===typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(e,i){return t[e]-t[i]}for(var i=t.length,n=new Array(i),r=0;r!==i;++r)n[r]=r;return n.sort(e),n},sortedArray:function(t,e,i){for(var n=t.length,r=new t.constructor(n),a=0,o=0;o!==n;++a)for(var s=i[a]*e,c=0;c!==e;++c)r[o++]=t[s+c];return r},flattenJSON:function(t,e,i,n){var r=1,a=t[0];while(void 0!==a&&void 0===a[n])a=t[r++];if(void 0!==a){var o=a[n];if(void 0!==o)if(Array.isArray(o))do{o=a[n],void 0!==o&&(e.push(a.time),i.push.apply(i,o)),a=t[r++]}while(void 0!==a);else if(void 0!==o.toArray)do{o=a[n],void 0!==o&&(e.push(a.time),o.toArray(i,i.length)),a=t[r++]}while(void 0!==a);else do{o=a[n],void 0!==o&&(e.push(a.time),i.push(o)),a=t[r++]}while(void 0!==a)}}};function Ls(t,e,i,n){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new e.constructor(i),this.sampleValues=e,this.valueSize=i}function Rs(t,e,i,n){Ls.call(this,t,e,i,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Ps(t,e,i,n){Ls.call(this,t,e,i,n)}function Is(t,e,i,n){Ls.call(this,t,e,i,n)}function Os(t,e,i,n){if(void 0===t)throw new Error("track name is undefined");if(void 0===e||0===e.length)throw new Error("no keyframes in track named "+t);this.name=t,this.times=Cs.convertArray(e,this.TimeBufferType),this.values=Cs.convertArray(i,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation),this.validate(),this.optimize()}function Us(t,e,i,n){Os.call(this,t,e,i,n)}function Ds(t,e,i,n){Ls.call(this,t,e,i,n)}function Ns(t,e,i,n){Os.call(this,t,e,i,n)}function zs(t,e,i,n){Os.call(this,t,e,i,n)}function Fs(t,e,i,n){Os.call(this,t,e,i,n)}function Bs(t,e,i){Os.call(this,t,e,i)}function Gs(t,e,i,n){Os.call(this,t,e,i,n)}function ks(t,e,i,n){Os.apply(this,arguments)}function Hs(t,e,i){this.name=t,this.tracks=i,this.duration=void 0!==e?e:-1,this.uuid=Se.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function Vs(t){this.manager=void 0!==t?t:us,this.textures={}}function js(t){this.manager=void 0!==t?t:us}function Ws(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function Xs(t){"boolean"===typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:us,this.withCredentials=!1}function Ys(t){this.manager=void 0!==t?t:us,this.texturePath=""}function Zs(){}function qs(t,e){this.v1=t,this.v2=e}function Js(){this.curves=[],this.autoClose=!1}function Qs(t,e,i,n,r,a,o,s){this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=n,this.aStartAngle=r,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s||0}Ls.prototype={constructor:Ls,evaluate:function(t){var e=this.parameterPositions,i=this._cachedIndex,n=e[i],r=e[i-1];t:{e:{var a;i:{n:if(!(t<n)){for(var o=i+2;;){if(void 0===n){if(t<r)break n;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,r)}if(i===o)break;if(r=n,n=e[++i],t<n)break e}a=e.length;break i}if(t>=r)break t;var s=e[1];t<s&&(i=2,r=s);for(o=i-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,n);if(i===o)break;if(n=r,r=e[--i-1],t>=r)break e}a=i,i=0}while(i<a){var c=i+a>>>1;t<e[c]?a=c:i=c+1}if(n=e[i],r=e[i-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,n);if(void 0===n)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,r,t)}this._cachedIndex=i,this.intervalChanged_(i,r,n)}return this.interpolate_(i,r,t,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,i=this.sampleValues,n=this.valueSize,r=t*n,a=0;a!==n;++a)e[a]=i[r+a];return e},interpolate_:function(t,e,i,n){throw new Error("call to abstract method")},intervalChanged_:function(t,e,i){}},Object.assign(Ls.prototype,{beforeStart_:Ls.prototype.copySampleValue_,afterEnd_:Ls.prototype.copySampleValue_}),Rs.prototype=Object.assign(Object.create(Ls.prototype),{constructor:Rs,DefaultSettings_:{endingStart:le,endingEnd:le},intervalChanged_:function(t,e,i){var n=this.parameterPositions,r=t-2,a=t+1,o=n[r],s=n[a];if(void 0===o)switch(this.getSettings_().endingStart){case ue:r=t,o=2*e-i;break;case he:r=n.length-2,o=e+n[r]-n[r+1];break;default:r=t,o=i}if(void 0===s)switch(this.getSettings_().endingEnd){case ue:a=t,s=2*i-e;break;case he:a=1,s=i+n[1]-n[0];break;default:a=t-1,s=e}var c=.5*(i-e),l=this.valueSize;this._weightPrev=c/(e-o),this._weightNext=c/(s-i),this._offsetPrev=r*l,this._offsetNext=a*l},interpolate_:function(t,e,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,c=s-o,l=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(i-e)/(n-e),f=p*p,m=f*p,v=-h*m+2*h*f-h*p,g=(1+h)*m+(-1.5-2*h)*f+(-.5+h)*p+1,y=(-1-d)*m+(1.5+d)*f+.5*p,_=d*m-d*f,x=0;x!==o;++x)r[x]=v*a[l+x]+g*a[c+x]+y*a[s+x]+_*a[u+x];return r}}),Ps.prototype=Object.assign(Object.create(Ls.prototype),{constructor:Ps,interpolate_:function(t,e,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,c=s-o,l=(i-e)/(n-e),u=1-l,h=0;h!==o;++h)r[h]=a[c+h]*u+a[s+h]*l;return r}}),Is.prototype=Object.assign(Object.create(Ls.prototype),{constructor:Is,interpolate_:function(t,e,i,n){return this.copySampleValue_(t-1)}}),Ts={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:se,InterpolantFactoryMethodDiscrete:function(t){return new Is(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Ps(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Rs(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case oe:e=this.InterpolantFactoryMethodDiscrete;break;case se:e=this.InterpolantFactoryMethodLinear;break;case ce:e=this.InterpolantFactoryMethodSmooth;break}if(void 0!==e)this.createInterpolant=e;else{var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}console.warn(i)}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return oe;case this.InterpolantFactoryMethodLinear:return se;case this.InterpolantFactoryMethodSmooth:return ce}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,i=0,n=e.length;i!==n;++i)e[i]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,i=0,n=e.length;i!==n;++i)e[i]*=t;return this},trim:function(t,e){var i=this.times,n=i.length,r=0,a=n-1;while(r!==n&&i[r]<t)++r;while(-1!==a&&i[a]>e)--a;if(++a,0!==r||a!==n){r>=a&&(a=Math.max(a,1),r=a-1);var o=this.getValueSize();this.times=Cs.arraySlice(i,r,a),this.values=Cs.arraySlice(this.values,r*o,a*o)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("invalid value size in track",this),t=!1);var i=this.times,n=this.values,r=i.length;0===r&&(console.error("track is empty",this),t=!1);for(var a=null,o=0;o!==r;o++){var s=i[o];if("number"===typeof s&&isNaN(s)){console.error("time is not a valid number",this,o,s),t=!1;break}if(null!==a&&a>s){console.error("out of order keys",this,o,s,a),t=!1;break}a=s}if(void 0!==n&&Cs.isTypedArray(n)){o=0;for(var c=n.length;o!==c;++o){var l=n[o];if(isNaN(l)){console.error("value is not a valid number",this,o,l),t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,i=this.getValueSize(),n=this.getInterpolation()===ce,r=1,a=t.length-1,o=1;o<a;++o){var s=!1,c=t[o],l=t[o+1];if(c!==l&&(1!==o||c!==c[0]))if(n)s=!0;else for(var u=o*i,h=u-i,d=u+i,p=0;p!==i;++p){var f=e[u+p];if(f!==e[h+p]||f!==e[d+p]){s=!0;break}}if(s){if(o!==r){t[r]=t[o];var m=o*i,v=r*i;for(p=0;p!==i;++p)e[v+p]=e[m+p]}++r}}if(a>0){t[r]=t[a];for(m=a*i,v=r*i,p=0;p!==i;++p)e[v+p]=e[m+p];++r}return r!==t.length&&(this.times=Cs.arraySlice(t,0,r),this.values=Cs.arraySlice(e,0,r*i)),this}},Us.prototype=Object.assign(Object.create(Ts),{constructor:Us,ValueTypeName:"vector"}),Ds.prototype=Object.assign(Object.create(Ls.prototype),{constructor:Ds,interpolate_:function(t,e,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,c=(i-e)/(n-e),l=s+o;s!==l;s+=4)Ie.slerpFlat(r,0,a,s-o,a,s,c);return r}}),Ns.prototype=Object.assign(Object.create(Ts),{constructor:Ns,ValueTypeName:"quaternion",DefaultInterpolation:se,InterpolantFactoryMethodLinear:function(t){return new Ds(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),zs.prototype=Object.assign(Object.create(Ts),{constructor:zs,ValueTypeName:"number"}),Fs.prototype=Object.assign(Object.create(Ts),{constructor:Fs,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:oe,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Bs.prototype=Object.assign(Object.create(Ts),{constructor:Bs,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:oe,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Gs.prototype=Object.assign(Object.create(Ts),{constructor:Gs,ValueTypeName:"color"}),ks.prototype=Ts,Ts.constructor=ks,Object.assign(ks,{parse:function(t){if(void 0===t.type)throw new Error("track type undefined, can not parse");var e=ks._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var i=[],n=[];Cs.flattenJSON(t.keys,i,n,"value"),t.times=i,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e,i=t.constructor;if(void 0!==i.toJSON)e=i.toJSON(t);else{e={name:t.name,times:Cs.convertArray(t.times,Array),values:Cs.convertArray(t.values,Array)};var n=t.getInterpolation();n!==t.DefaultInterpolation&&(e.interpolation=n)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return zs;case"vector":case"vector2":case"vector3":case"vector4":return Us;case"color":return Gs;case"quaternion":return Ns;case"bool":case"boolean":return Bs;case"string":return Fs}throw new Error("Unsupported typeName: "+t)}}),Hs.prototype={constructor:Hs,resetDuration:function(){for(var t=this.tracks,e=0,i=0,n=t.length;i!==n;++i){var r=this.tracks[i];e=Math.max(e,r.times[r.times.length-1])}this.duration=e},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},Object.assign(Hs,{parse:function(t){for(var e=[],i=t.tracks,n=1/(t.fps||1),r=0,a=i.length;r!==a;++r)e.push(ks.parse(i[r]).scale(n));return new Hs(t.name,t.duration,e)},toJSON:function(t){for(var e=[],i=t.tracks,n={name:t.name,duration:t.duration,tracks:e},r=0,a=i.length;r!==a;++r)e.push(ks.toJSON(i[r]));return n},CreateFromMorphTargetSequence:function(t,e,i,n){for(var r=e.length,a=[],o=0;o<r;o++){var s=[],c=[];s.push((o+r-1)%r,o,(o+1)%r),c.push(0,1,0);var l=Cs.getKeyframeOrder(s);s=Cs.sortedArray(s,1,l),c=Cs.sortedArray(c,1,l),n||0!==s[0]||(s.push(r),c.push(c[0])),a.push(new zs(".morphTargetInfluences["+e[o].name+"]",s,c).scale(1/i))}return new Hs(t,-1,a)},findByName:function(t,e){var i=t;if(!Array.isArray(t)){var n=t;i=n.geometry&&n.geometry.animations||n.animations}for(var r=0;r<i.length;r++)if(i[r].name===e)return i[r];return null},CreateClipsFromMorphTargetSequences:function(t,e,i){for(var n={},r=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],c=s.name.match(r);if(c&&c.length>1){var l=c[1],u=n[l];u||(n[l]=u=[]),u.push(s)}}var h=[];for(var l in n)h.push(Hs.CreateFromMorphTargetSequence(l,n[l],e,i));return h},parseAnimation:function(t,e){if(!t)return console.error("  no animation in JSONLoader data"),null;for(var i=function(t,e,i,n,r){if(0!==i.length){var a=[],o=[];Cs.flattenJSON(i,a,o,n),0!==a.length&&r.push(new t(e,a,o))}},n=[],r=t.name||"default",a=t.length||-1,o=t.fps||30,s=t.hierarchy||[],c=0;c<s.length;c++){var l=s[c].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var u={},h=0;h<l.length;h++)if(l[h].morphTargets)for(var d=0;d<l[h].morphTargets.length;d++)u[l[h].morphTargets[d]]=-1;for(var p in u){var f=[],m=[];for(d=0;d!==l[h].morphTargets.length;++d){var v=l[h];f.push(v.time),m.push(v.morphTarget===p?1:0)}n.push(new zs(".morphTargetInfluence["+p+"]",f,m))}a=u.length*(o||1)}else{var g=".bones["+e[c].name+"]";i(Us,g+".position",l,"pos",n),i(Ns,g+".quaternion",l,"rot",n),i(Us,g+".scale",l,"scl",n)}}if(0===n.length)return null;var y=new Hs(r,a,n);return y}}),Object.assign(Vs.prototype,{load:function(t,e,i,n){var r=this,a=new hs(r.manager);a.load(t,(function(t){e(r.parse(JSON.parse(t)))}),i,n)},setTextures:function(t){this.textures=t},parse:function(t){var e=this.textures;function i(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var n=new ss[t.type];if(void 0!==t.uuid&&(n.uuid=t.uuid),void 0!==t.name&&(n.name=t.name),void 0!==t.color&&n.color.setHex(t.color),void 0!==t.roughness&&(n.roughness=t.roughness),void 0!==t.metalness&&(n.metalness=t.metalness),void 0!==t.emissive&&n.emissive.setHex(t.emissive),void 0!==t.specular&&n.specular.setHex(t.specular),void 0!==t.shininess&&(n.shininess=t.shininess),void 0!==t.clearCoat&&(n.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(n.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(n.uniforms=t.uniforms),void 0!==t.vertexShader&&(n.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(n.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(n.vertexColors=t.vertexColors),void 0!==t.fog&&(n.fog=t.fog),void 0!==t.shading&&(n.shading=t.shading),void 0!==t.blending&&(n.blending=t.blending),void 0!==t.side&&(n.side=t.side),void 0!==t.opacity&&(n.opacity=t.opacity),void 0!==t.transparent&&(n.transparent=t.transparent),void 0!==t.alphaTest&&(n.alphaTest=t.alphaTest),void 0!==t.depthTest&&(n.depthTest=t.depthTest),void 0!==t.depthWrite&&(n.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(n.colorWrite=t.colorWrite),void 0!==t.wireframe&&(n.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(n.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(n.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(n.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.skinning&&(n.skinning=t.skinning),void 0!==t.morphTargets&&(n.morphTargets=t.morphTargets),void 0!==t.size&&(n.size=t.size),void 0!==t.sizeAttenuation&&(n.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(n.map=i(t.map)),void 0!==t.alphaMap&&(n.alphaMap=i(t.alphaMap),n.transparent=!0),void 0!==t.bumpMap&&(n.bumpMap=i(t.bumpMap)),void 0!==t.bumpScale&&(n.bumpScale=t.bumpScale),void 0!==t.normalMap&&(n.normalMap=i(t.normalMap)),void 0!==t.normalScale){var r=t.normalScale;!1===Array.isArray(r)&&(r=[r,r]),n.normalScale=(new Ae).fromArray(r)}if(void 0!==t.displacementMap&&(n.displacementMap=i(t.displacementMap)),void 0!==t.displacementScale&&(n.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(n.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(n.roughnessMap=i(t.roughnessMap)),void 0!==t.metalnessMap&&(n.metalnessMap=i(t.metalnessMap)),void 0!==t.emissiveMap&&(n.emissiveMap=i(t.emissiveMap)),void 0!==t.emissiveIntensity&&(n.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(n.specularMap=i(t.specularMap)),void 0!==t.envMap&&(n.envMap=i(t.envMap)),void 0!==t.reflectivity&&(n.reflectivity=t.reflectivity),void 0!==t.lightMap&&(n.lightMap=i(t.lightMap)),void 0!==t.lightMapIntensity&&(n.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(n.aoMap=i(t.aoMap)),void 0!==t.aoMapIntensity&&(n.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(n.gradientMap=i(t.gradientMap)),void 0!==t.materials)for(var a=0,o=t.materials.length;a<o;a++)n.materials.push(this.parse(t.materials[a]));return n}}),Object.assign(js.prototype,{load:function(t,e,i,n){var r=this,a=new hs(r.manager);a.load(t,(function(t){e(r.parse(JSON.parse(t)))}),i,n)},parse:function(t){var e=new la,i=t.data.index,n={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==i){var r=new n[i.type](i.array);e.setIndex(new qr(r,1))}var a=t.data.attributes;for(var o in a){var s=a[o];r=new n[s.type](s.array);e.addAttribute(o,new qr(r,s.itemSize,s.normalized))}var c=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==c)for(var l=0,u=c.length;l!==u;++l){var h=c[l];e.addGroup(h.start,h.count,h.materialIndex)}var d=t.data.boundingSphere;if(void 0!==d){var p=new Oe;void 0!==d.center&&p.fromArray(d.center),e.boundingSphere=new Dr(p,d.radius)}return e}}),Ws.prototype={constructor:Ws,crossOrigin:void 0,extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e,i){for(var n=[],r=0;r<t.length;++r)n[r]=this.createMaterial(t[r],e,i);return n},createMaterial:function(){var t,e,i;return function(n,r,a){void 0===t&&(t=new wr),void 0===e&&(e=new gs),void 0===i&&(i=new Vs);var o={};function s(t,i,n,s,c){var l,u=r+t,h=Ws.Handlers.get(u);null!==h?l=h.load(u):(e.setCrossOrigin(a),l=e.load(u)),void 0!==i&&(l.repeat.fromArray(i),1!==i[0]&&(l.wrapS=gt),1!==i[1]&&(l.wrapT=gt)),void 0!==n&&l.offset.fromArray(n),void 0!==s&&("repeat"===s[0]&&(l.wrapS=gt),"mirror"===s[0]&&(l.wrapS=_t),"repeat"===s[1]&&(l.wrapT=gt),"mirror"===s[1]&&(l.wrapT=_t)),void 0!==c&&(l.anisotropy=c);var d=Se.generateUUID();return o[d]=l,d}var c={uuid:Se.generateUUID(),type:"MeshLambertMaterial"};for(var l in n){var u=n[l];switch(l){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":c.name=u;break;case"blending":c.blending=L[u];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",l,"is no longer supported.");break;case"colorDiffuse":c.color=t.fromArray(u).getHex();break;case"colorSpecular":c.specular=t.fromArray(u).getHex();break;case"colorEmissive":c.emissive=t.fromArray(u).getHex();break;case"specularCoef":c.shininess=u;break;case"shading":"basic"===u.toLowerCase()&&(c.type="MeshBasicMaterial"),"phong"===u.toLowerCase()&&(c.type="MeshPhongMaterial"),"standard"===u.toLowerCase()&&(c.type="MeshStandardMaterial");break;case"mapDiffuse":c.map=s(u,n.mapDiffuseRepeat,n.mapDiffuseOffset,n.mapDiffuseWrap,n.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":c.emissiveMap=s(u,n.mapEmissiveRepeat,n.mapEmissiveOffset,n.mapEmissiveWrap,n.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":c.lightMap=s(u,n.mapLightRepeat,n.mapLightOffset,n.mapLightWrap,n.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":c.aoMap=s(u,n.mapAORepeat,n.mapAOOffset,n.mapAOWrap,n.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":c.bumpMap=s(u,n.mapBumpRepeat,n.mapBumpOffset,n.mapBumpWrap,n.mapBumpAnisotropy);break;case"mapBumpScale":c.bumpScale=u;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":c.normalMap=s(u,n.mapNormalRepeat,n.mapNormalOffset,n.mapNormalWrap,n.mapNormalAnisotropy);break;case"mapNormalFactor":c.normalScale=[u,u];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":c.specularMap=s(u,n.mapSpecularRepeat,n.mapSpecularOffset,n.mapSpecularWrap,n.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":c.metalnessMap=s(u,n.mapMetalnessRepeat,n.mapMetalnessOffset,n.mapMetalnessWrap,n.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":c.roughnessMap=s(u,n.mapRoughnessRepeat,n.mapRoughnessOffset,n.mapRoughnessWrap,n.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":c.alphaMap=s(u,n.mapAlphaRepeat,n.mapAlphaOffset,n.mapAlphaWrap,n.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":c.side=v;break;case"doubleSided":c.side=g;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),c.opacity=u;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":c[l]=u;break;case"vertexColors":!0===u&&(c.vertexColors=w),"face"===u&&(c.vertexColors=b);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,u);break}}return"MeshBasicMaterial"===c.type&&delete c.emissive,"MeshPhongMaterial"!==c.type&&delete c.specular,c.opacity<1&&(c.transparent=!0),i.setTextures(o),i.parse(c)}}()},Ws.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,i=0,n=e.length;i<n;i+=2){var r=e[i],a=e[i+1];if(r.test(t))return a}return null}},Object.assign(Xs.prototype,{load:function(t,e,i,n){var r=this,a=this.texturePath&&"string"===typeof this.texturePath?this.texturePath:Ws.prototype.extractUrlBase(t),o=new hs(this.manager);o.setWithCredentials(this.withCredentials),o.load(t,(function(i){var n=JSON.parse(i),o=n.metadata;if(void 0!==o){var s=o.type;if(void 0!==s){if("object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.");if("scene"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.SceneLoader instead.")}}var c=r.parse(n,a);e(c.geometry,c.materials)}),i,n)},setTexturePath:function(t){this.texturePath=t},parse:function(t,e){var i=new oa,n=void 0!==t.scale?1/t.scale:1;function r(e){function n(t,e){return t&1<<e}var r,a,o,s,c,l,u,h,d,p,f,m,v,g,y,_,x,b,w,M,E,S,A,T,C,L,R,P=t.faces,I=t.vertices,O=t.normals,U=t.colors,D=0;if(void 0!==t.uvs){for(r=0;r<t.uvs.length;r++)t.uvs[r].length&&D++;for(r=0;r<D;r++)i.faceVertexUvs[r]=[]}s=0,c=I.length;while(s<c)b=new Oe,b.x=I[s++]*e,b.y=I[s++]*e,b.z=I[s++]*e,i.vertices.push(b);s=0,c=P.length;while(s<c)if(p=P[s++],f=n(p,0),m=n(p,1),v=n(p,3),g=n(p,4),y=n(p,5),_=n(p,6),x=n(p,7),f){if(M=new Yr,M.a=P[s],M.b=P[s+1],M.c=P[s+3],E=new Yr,E.a=P[s+1],E.b=P[s+2],E.c=P[s+3],s+=4,m&&(d=P[s++],M.materialIndex=d,E.materialIndex=d),o=i.faces.length,v)for(r=0;r<D;r++)for(T=t.uvs[r],i.faceVertexUvs[r][o]=[],i.faceVertexUvs[r][o+1]=[],a=0;a<4;a++)h=P[s++],L=T[2*h],R=T[2*h+1],C=new Ae(L,R),2!==a&&i.faceVertexUvs[r][o].push(C),0!==a&&i.faceVertexUvs[r][o+1].push(C);if(g&&(u=3*P[s++],M.normal.set(O[u++],O[u++],O[u]),E.normal.copy(M.normal)),y)for(r=0;r<4;r++)u=3*P[s++],A=new Oe(O[u++],O[u++],O[u]),2!==r&&M.vertexNormals.push(A),0!==r&&E.vertexNormals.push(A);if(_&&(l=P[s++],S=U[l],M.color.setHex(S),E.color.setHex(S)),x)for(r=0;r<4;r++)l=P[s++],S=U[l],2!==r&&M.vertexColors.push(new wr(S)),0!==r&&E.vertexColors.push(new wr(S));i.faces.push(M),i.faces.push(E)}else{if(w=new Yr,w.a=P[s++],w.b=P[s++],w.c=P[s++],m&&(d=P[s++],w.materialIndex=d),o=i.faces.length,v)for(r=0;r<D;r++)for(T=t.uvs[r],i.faceVertexUvs[r][o]=[],a=0;a<3;a++)h=P[s++],L=T[2*h],R=T[2*h+1],C=new Ae(L,R),i.faceVertexUvs[r][o].push(C);if(g&&(u=3*P[s++],w.normal.set(O[u++],O[u++],O[u])),y)for(r=0;r<3;r++)u=3*P[s++],A=new Oe(O[u++],O[u++],O[u]),w.vertexNormals.push(A);if(_&&(l=P[s++],w.color.setHex(U[l])),x)for(r=0;r<3;r++)l=P[s++],w.vertexColors.push(new wr(U[l]));i.faces.push(w)}}function a(){var e=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var n=0,r=t.skinWeights.length;n<r;n+=e){var a=t.skinWeights[n],o=e>1?t.skinWeights[n+1]:0,s=e>2?t.skinWeights[n+2]:0,c=e>3?t.skinWeights[n+3]:0;i.skinWeights.push(new Le(a,o,s,c))}if(t.skinIndices)for(n=0,r=t.skinIndices.length;n<r;n+=e){var l=t.skinIndices[n],u=e>1?t.skinIndices[n+1]:0,h=e>2?t.skinIndices[n+2]:0,d=e>3?t.skinIndices[n+3]:0;i.skinIndices.push(new Le(l,u,h,d))}i.bones=t.bones,i.bones&&i.bones.length>0&&(i.skinWeights.length!==i.skinIndices.length||i.skinIndices.length!==i.vertices.length)&&console.warn("When skinning, number of vertices ("+i.vertices.length+"), skinIndices ("+i.skinIndices.length+"), and skinWeights ("+i.skinWeights.length+") should match.")}function o(e){if(void 0!==t.morphTargets)for(var n=0,r=t.morphTargets.length;n<r;n++){i.morphTargets[n]={},i.morphTargets[n].name=t.morphTargets[n].name,i.morphTargets[n].vertices=[];for(var a=i.morphTargets[n].vertices,o=t.morphTargets[n].vertices,s=0,c=o.length;s<c;s+=3){var l=new Oe;l.x=o[s]*e,l.y=o[s+1]*e,l.z=o[s+2]*e,a.push(l)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var u=i.faces,h=t.morphColors[0].colors;for(n=0,r=u.length;n<r;n++)u[n].color.fromArray(h,3*n)}}function s(){var e=[],n=[];void 0!==t.animation&&n.push(t.animation),void 0!==t.animations&&(t.animations.length?n=n.concat(t.animations):n.push(t.animations));for(var r=0;r<n.length;r++){var a=Hs.parseAnimation(n[r],i.bones);a&&e.push(a)}if(i.morphTargets){var o=Hs.CreateClipsFromMorphTargetSequences(i.morphTargets,10);e=e.concat(o)}e.length>0&&(i.animations=e)}if(r(n),a(),o(n),s(),i.computeFaceNormals(),i.computeBoundingSphere(),void 0===t.materials||0===t.materials.length)return{geometry:i};var c=Ws.prototype.initMaterials(t.materials,e,this.crossOrigin);return{geometry:i,materials:c}}}),Object.assign(Ys.prototype,{load:function(t,e,i,n){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var r=this,a=new hs(r.manager);a.load(t,(function(i){var n=null;try{n=JSON.parse(i)}catch(o){return void console.error("THREE:ObjectLoader: Can't parse "+t+".",o.message)}var a=n.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?r.parse(n,e):console.error("THREE.ObjectLoader: Can't load "+t+". Use THREE.JSONLoader instead.")}),i,n)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var i=this.parseGeometries(t.geometries),n=this.parseImages(t.images,(function(){void 0!==e&&e(o)})),r=this.parseTextures(t.textures,n),a=this.parseMaterials(t.materials,r),o=this.parseObject(t.object,i,a);return t.animations&&(o.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(o),o},parseGeometries:function(t){var e={};if(void 0!==t)for(var i=new Xs,n=new js,r=0,a=t.length;r<a;r++){var o,s=t[r];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new Jo[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new Jo[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new Jo[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new Jo[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new Jo[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new Jo[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":o=new Jo[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new Jo[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new Jo[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new Jo[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":o=new Jo[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":o=n.parse(s);break;case"Geometry":o=i.parse(s.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),e[s.uuid]=o}return e},parseMaterials:function(t,e){var i={};if(void 0!==t){var n=new Vs;n.setTextures(e);for(var r=0,a=t.length;r<a;r++){var o=n.parse(t[r]);i[o.uuid]=o}}return i},parseAnimations:function(t){for(var e=[],i=0;i<t.length;i++){var n=Hs.parse(t[i]);e.push(n)}return e},parseImages:function(t,e){var i=this,n={};function r(t){return i.manager.itemStart(t),o.load(t,(function(){i.manager.itemEnd(t)}),void 0,(function(){i.manager.itemError(t)}))}if(void 0!==t&&t.length>0){var a=new ls(e),o=new ms(a);o.setCrossOrigin(this.crossOrigin);for(var s=0,c=t.length;s<c;s++){var l=t[s],u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:i.texturePath+l.url;n[l.uuid]=r(u)}}return n},parseTextures:function(t,e){function i(t,e){return"number"===typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var n={};if(void 0!==t)for(var r=0,a=t.length;r<a;r++){var o=t[r];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===e[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var s=new Ce(e[o.image]);s.needsUpdate=!0,s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),void 0!==o.mapping&&(s.mapping=i(o.mapping,vt)),void 0!==o.offset&&s.offset.fromArray(o.offset),void 0!==o.repeat&&s.repeat.fromArray(o.repeat),void 0!==o.wrap&&(s.wrapS=i(o.wrap[0],xt),s.wrapT=i(o.wrap[1],xt)),void 0!==o.minFilter&&(s.minFilter=i(o.minFilter,Tt)),void 0!==o.magFilter&&(s.magFilter=i(o.magFilter,Tt)),void 0!==o.anisotropy&&(s.anisotropy=o.anisotropy),void 0!==o.flipY&&(s.flipY=o.flipY),n[o.uuid]=s}return n},parseObject:function(){var t=new Ue;return function(e,i,n){var r;function a(t){return void 0===i[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),i[t]}function o(t){if(void 0!==t)return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),n[t]}switch(e.type){case"Scene":r=new Xa,void 0!==e.background&&Number.isInteger(e.background)&&(r.background=new wr(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?r.fog=new Wa(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(r.fog=new ja(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new fa(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(r.focus=e.focus),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.filmGauge&&(r.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(r.filmOffset=e.filmOffset),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new ma(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case"AmbientLight":r=new As(e.color,e.intensity);break;case"DirectionalLight":r=new Ss(e.color,e.intensity);break;case"PointLight":r=new Ms(e.color,e.intensity,e.distance,e.decay);break;case"SpotLight":r=new ws(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new _s(e.color,e.groundColor,e.intensity);break;case"Mesh":var s=a(e.geometry),c=o(e.material);r=s.bones&&s.bones.length>0?new $a(s,c):new ua(s,c);break;case"LOD":r=new Ja;break;case"Line":r=new eo(a(e.geometry),o(e.material),e.mode);break;case"LineSegments":r=new io(a(e.geometry),o(e.material));break;case"PointCloud":case"Points":r=new ro(a(e.geometry),o(e.material));break;case"Sprite":r=new qa(o(e.material));break;case"Group":r=new ao;break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh type. Instantiates Object3D instead.");default:r=new jr}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.quaternion&&r.quaternion.fromArray(e.quaternion),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(r.shadow.bias=e.shadow.bias),void 0!==e.shadow.radius&&(r.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&r.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(r.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.children)for(var l in e.children)r.add(this.parseObject(e.children[l],i,n));if("LOD"===e.type)for(var u=e.levels,h=0;h<u.length;h++){var d=u[h];l=r.getObjectByProperty("uuid",d.object);void 0!==l&&r.addLevel(l,d.distance)}return r}}()}),Zs.prototype={constructor:Zs,getPoint:function(t){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},getPoints:function(t){t||(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return e},getSpacedPoints:function(t){t||(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(t||(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i,n=[],r=this.getPoint(0),a=0;for(n.push(0),i=1;i<=t;i++)e=this.getPoint(i/t),a+=e.distanceTo(r),n.push(a),r=e;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var i,n=this.getLengths(),r=0,a=n.length;i=e||t*n[a-1];var o,s=0,c=a-1;while(s<=c)if(r=Math.floor(s+(c-s)/2),o=n[r]-i,o<0)s=r+1;else{if(!(o>0)){c=r;break}c=r-1}if(r=c,n[r]===i){var l=r/(a-1);return l}var u=n[r],h=n[r+1],d=h-u,p=(i-u)/d;l=(r+p)/(a-1);return l},getTangent:function(t){var e=1e-4,i=t-e,n=t+e;i<0&&(i=0),n>1&&(n=1);var r=this.getPoint(i),a=this.getPoint(n),o=a.clone().sub(r);return o.normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var i,n,r,a=new Oe,o=[],s=[],c=[],l=new Oe,u=new Ue;for(i=0;i<=t;i++)n=i/t,o[i]=this.getTangentAt(n),o[i].normalize();s[0]=new Oe,c[0]=new Oe;var h=Number.MAX_VALUE,d=Math.abs(o[0].x),p=Math.abs(o[0].y),f=Math.abs(o[0].z);for(d<=h&&(h=d,a.set(1,0,0)),p<=h&&(h=p,a.set(0,1,0)),f<=h&&a.set(0,0,1),l.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],l),c[0].crossVectors(o[0],s[0]),i=1;i<=t;i++)s[i]=s[i-1].clone(),c[i]=c[i-1].clone(),l.crossVectors(o[i-1],o[i]),l.length()>Number.EPSILON&&(l.normalize(),r=Math.acos(Se.clamp(o[i-1].dot(o[i]),-1,1)),s[i].applyMatrix4(u.makeRotationAxis(l,r))),c[i].crossVectors(o[i],s[i]);if(!0===e)for(r=Math.acos(Se.clamp(s[0].dot(s[t]),-1,1)),r/=t,o[0].dot(l.crossVectors(s[0],s[t]))>0&&(r=-r),i=1;i<=t;i++)s[i].applyMatrix4(u.makeRotationAxis(o[i],r*i)),c[i].crossVectors(o[i],s[i]);return{tangents:o,normals:s,binormals:c}}},Zs.create=function(t,e){return t.prototype=Object.create(Zs.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},qs.prototype=Object.create(Zs.prototype),qs.prototype.constructor=qs,qs.prototype.isLineCurve=!0,qs.prototype.getPoint=function(t){if(1===t)return this.v2.clone();var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},qs.prototype.getPointAt=function(t){return this.getPoint(t)},qs.prototype.getTangent=function(t){var e=this.v2.clone().sub(this.v1);return e.normalize()},Js.prototype=Object.assign(Object.create(Zs.prototype),{constructor:Js,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new qs(e,t))},getPoint:function(t){var e=t*this.getLength(),i=this.getCurveLengths(),n=0;while(n<i.length){if(i[n]>=e){var r=i[n]-e,a=this.curves[n],o=a.getLength(),s=0===o?0:1-r/o;return a.getPointAt(s)}n++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0,n=this.curves.length;i<n;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){t||(t=40);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,i=[],n=0,r=this.curves;n<r.length;n++)for(var a=r[n],o=a&&a.isEllipseCurve?2*t:a&&a.isLineCurve?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),c=0;c<s.length;c++){var l=s[c];e&&e.equals(l)||(i.push(l),e=l)}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new oa,i=0,n=t.length;i<n;i++){var r=t[i];e.vertices.push(new Oe(r.x,r.y,r.z||0))}return e}}),Qs.prototype=Object.create(Zs.prototype),Qs.prototype.constructor=Qs,Qs.prototype.isEllipseCurve=!0,Qs.prototype.getPoint=function(t){var e=2*Math.PI,i=this.aEndAngle-this.aStartAngle,n=Math.abs(i)<Number.EPSILON;while(i<0)i+=e;while(i>e)i-=e;i<Number.EPSILON&&(i=n?0:e),!0!==this.aClockwise||n||(i===e?i=-e:i-=e);var r=this.aStartAngle+t*i,a=this.aX+this.xRadius*Math.cos(r),o=this.aY+this.yRadius*Math.sin(r);if(0!==this.aRotation){var s=Math.cos(this.aRotation),c=Math.sin(this.aRotation),l=a-this.aX,u=o-this.aY;a=l*s-u*c+this.aX,o=l*c+u*s+this.aY}return new Ae(a,o)};var Ks={tangentQuadraticBezier:function(t,e,i,n){return 2*(1-t)*(i-e)+2*t*(n-i)},tangentCubicBezier:function(t,e,i,n,r){return-3*e*(1-t)*(1-t)+3*i*(1-t)*(1-t)-6*t*i*(1-t)+6*t*n*(1-t)-3*t*t*n+3*t*t*r},tangentSpline:function(t,e,i,n,r){var a=6*t*t-6*t,o=3*t*t-4*t+1,s=-6*t*t+6*t,c=3*t*t-2*t;return a+o+s+c},interpolate:function(t,e,i,n,r){var a=.5*(i-t),o=.5*(n-e),s=r*r,c=r*s;return(2*e-2*i+a+o)*c+(-3*e+3*i-2*a-o)*s+a*r+e}};function $s(t){this.points=void 0===t?[]:t}function tc(t,e,i,n){this.v0=t,this.v1=e,this.v2=i,this.v3=n}function ec(t,e,i){this.v0=t,this.v1=e,this.v2=i}$s.prototype=Object.create(Zs.prototype),$s.prototype.constructor=$s,$s.prototype.isSplineCurve=!0,$s.prototype.getPoint=function(t){var e=this.points,i=(e.length-1)*t,n=Math.floor(i),r=i-n,a=e[0===n?n:n-1],o=e[n],s=e[n>e.length-2?e.length-1:n+1],c=e[n>e.length-3?e.length-1:n+2],l=Ks.interpolate;return new Ae(l(a.x,o.x,s.x,c.x,r),l(a.y,o.y,s.y,c.y,r))},tc.prototype=Object.create(Zs.prototype),tc.prototype.constructor=tc,tc.prototype.getPoint=function(t){var e=Ro.b3;return new Ae(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y))},tc.prototype.getTangent=function(t){var e=Ks.tangentCubicBezier;return new Ae(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()},ec.prototype=Object.create(Zs.prototype),ec.prototype.constructor=ec,ec.prototype.getPoint=function(t){var e=Ro.b2;return new Ae(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y))},ec.prototype.getTangent=function(t){var e=Ks.tangentQuadraticBezier;return new Ae(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y)).normalize()};var ic,nc=Object.assign(Object.create(Js.prototype),{fromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var i=new qs(this.currentPoint.clone(),new Ae(t,e));this.curves.push(i),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,i,n){var r=new ec(this.currentPoint.clone(),new Ae(t,e),new Ae(i,n));this.curves.push(r),this.currentPoint.set(i,n)},bezierCurveTo:function(t,e,i,n,r,a){var o=new tc(this.currentPoint.clone(),new Ae(t,e),new Ae(i,n),new Ae(r,a));this.curves.push(o),this.currentPoint.set(r,a)},splineThru:function(t){var e=[this.currentPoint.clone()].concat(t),i=new $s(e);this.curves.push(i),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,i,n,r,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+o,e+s,i,n,r,a)},absarc:function(t,e,i,n,r,a){this.absellipse(t,e,i,i,n,r,a)},ellipse:function(t,e,i,n,r,a,o,s){var c=this.currentPoint.x,l=this.currentPoint.y;this.absellipse(t+c,e+l,i,n,r,a,o,s)},absellipse:function(t,e,i,n,r,a,o,s){var c=new Qs(t,e,i,n,r,a,o,s);if(this.curves.length>0){var l=c.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(c);var u=c.getPoint(1);this.currentPoint.copy(u)}});function rc(){ac.apply(this,arguments),this.holes=[]}function ac(t){Js.call(this),this.currentPoint=new Ae,t&&this.fromPoints(t)}function oc(){this.subPaths=[],this.currentPath=null}function sc(t){this.data=t}function cc(t){this.manager=void 0!==t?t:us}rc.prototype=Object.assign(Object.create(nc),{constructor:rc,getPointsHoles:function(t){for(var e=[],i=0,n=this.holes.length;i<n;i++)e[i]=this.holes[i].getPoints(t);return e},extractAllPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},extractPoints:function(t){return this.extractAllPoints(t)}}),ac.prototype=nc,nc.constructor=ac,oc.prototype={moveTo:function(t,e){this.currentPath=new ac,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,i,n){this.currentPath.quadraticCurveTo(t,e,i,n)},bezierCurveTo:function(t,e,i,n,r,a){this.currentPath.bezierCurveTo(t,e,i,n,r,a)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function i(t){for(var e=[],i=0,n=t.length;i<n;i++){var r=t[i],a=new rc;a.curves=r.curves,e.push(a)}return e}function n(t,e){for(var i=e.length,n=!1,r=i-1,a=0;a<i;r=a++){var o=e[r],s=e[a],c=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=e[a],c=-c,s=e[r],l=-l),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var u=l*(t.x-o.x)-c*(t.y-o.y);if(0===u)return!0;if(u<0)continue;n=!n}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return n}var r=Ro.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===e)return i(a);var o,s,c,l=[];if(1===a.length)return s=a[0],c=new rc,c.curves=s.curves,l.push(c),l;var u=!r(a[0].getPoints());u=t?!u:u;var h,d,p=[],f=[],m=[],v=0;f[v]=void 0,m[v]=[];for(var g=0,y=a.length;g<y;g++)s=a[g],h=s.getPoints(),o=r(h),o=t?!o:o,o?(!u&&f[v]&&v++,f[v]={s:new rc,p:h},f[v].s.curves=s.curves,u&&v++,m[v]=[]):m[v].push({h:s,p:h[0]});if(!f[0])return i(a);if(f.length>1){for(var _=!1,x=[],b=0,w=f.length;b<w;b++)p[b]=[];for(b=0,w=f.length;b<w;b++)for(var M=m[b],E=0;E<M.length;E++){for(var S=M[E],A=!0,T=0;T<f.length;T++)n(S.p,f[T].p)&&(b!==T&&x.push({froms:b,tos:T,hole:E}),A?(A=!1,p[T].push(S)):_=!0);A&&p[b].push(S)}x.length>0&&(_||(m=p))}g=0;for(var C=f.length;g<C;g++){c=f[g].s,l.push(c),d=m[g];for(var L=0,R=d.length;L<R;L++)c.holes.push(d[L].h)}return l}},Object.assign(sc.prototype,{isFont:!0,generateShapes:function(t,e,i){function n(t){for(var i=String(t).split(""),n=e/a.resolution,o=0,s=[],c=0;c<i.length;c++){var l=r(i[c],n,o);o+=l.offset,s.push(l.path)}return s}function r(t,e,n){var r=a.glyphs[t]||a.glyphs["?"];if(r){var o,s,c,l,u,h,d,p,f,m,v,g=new oc,y=[],_=Ro.b2,x=Ro.b3;if(r.o)for(var b=r._cachedOutline||(r._cachedOutline=r.o.split(" ")),w=0,M=b.length;w<M;){var E=b[w++];switch(E){case"m":o=b[w++]*e+n,s=b[w++]*e,g.moveTo(o,s);break;case"l":o=b[w++]*e+n,s=b[w++]*e,g.lineTo(o,s);break;case"q":if(c=b[w++]*e+n,l=b[w++]*e,d=b[w++]*e+n,p=b[w++]*e,g.quadraticCurveTo(d,p,c,l),v=y[y.length-1],v){u=v.x,h=v.y;for(var S=1;S<=i;S++){var A=S/i;_(A,u,d,c),_(A,h,p,l)}}break;case"b":if(c=b[w++]*e+n,l=b[w++]*e,d=b[w++]*e+n,p=b[w++]*e,f=b[w++]*e+n,m=b[w++]*e,g.bezierCurveTo(d,p,f,m,c,l),v=y[y.length-1],v){u=v.x,h=v.y;for(S=1;S<=i;S++){A=S/i;x(A,u,d,f,c),x(A,h,p,m,l)}}break}}return{offset:r.ha*e,path:g}}}void 0===e&&(e=100),void 0===i&&(i=4);for(var a=this.data,o=n(t),s=[],c=0,l=o.length;c<l;c++)Array.prototype.push.apply(s,o[c].toShapes());return s}}),Object.assign(cc.prototype,{load:function(t,e,i,n){var r=this,a=new hs(this.manager);a.load(t,(function(t){var i;try{i=JSON.parse(t)}catch(a){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),i=JSON.parse(t.substring(65,t.length-2))}var n=r.parse(i);e&&e(n)}),i,n)},parse:function(t){return new sc(t)}});var lc={getContext:function(){return void 0===ic&&(ic=new(window.AudioContext||window.webkitAudioContext)),ic},setContext:function(t){ic=t}};function uc(t){this.manager=void 0!==t?t:us}function hc(t,e,i,n){ys.call(this,t,e),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==i?i:10,this.height=void 0!==n?n:10}function dc(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new fa,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new fa,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function pc(t,e,i){jr.call(this),this.type="CubeCamera";var n=90,r=1,a=new fa(n,r,t,e);a.up.set(0,-1,0),a.lookAt(new Oe(1,0,0)),this.add(a);var o=new fa(n,r,t,e);o.up.set(0,-1,0),o.lookAt(new Oe(-1,0,0)),this.add(o);var s=new fa(n,r,t,e);s.up.set(0,0,1),s.lookAt(new Oe(0,1,0)),this.add(s);var c=new fa(n,r,t,e);c.up.set(0,0,-1),c.lookAt(new Oe(0,-1,0)),this.add(c);var l=new fa(n,r,t,e);l.up.set(0,-1,0),l.lookAt(new Oe(0,0,1)),this.add(l);var u=new fa(n,r,t,e);u.up.set(0,-1,0),u.lookAt(new Oe(0,0,-1)),this.add(u);var h={format:kt,magFilter:Et,minFilter:Et};this.renderTarget=new Pe(i,i,h),this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var i=this.renderTarget,n=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,i.activeCubeFace=0,t.render(e,a,i),i.activeCubeFace=1,t.render(e,o,i),i.activeCubeFace=2,t.render(e,s,i),i.activeCubeFace=3,t.render(e,c,i),i.activeCubeFace=4,t.render(e,l,i),i.texture.generateMipmaps=n,i.activeCubeFace=5,t.render(e,u,i),t.setRenderTarget(null)}}function fc(){jr.call(this),this.type="AudioListener",this.context=lc.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function mc(t){jr.call(this),this.type="Audio",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function vc(t){mc.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function gc(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function yc(t,e,i){this.binding=t,this.valueSize=i;var n,r=Float64Array;switch(e){case"quaternion":n=this._slerp;break;case"string":case"bool":r=Array,n=this._select;break;default:n=this._lerp}this.buffer=new r(4*i),this._mixBufferRegion=n,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function _c(t,e,i){this.path=e,this.parsedPath=i||_c.parseTrackName(e),this.node=_c.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function xc(t){this.uuid=Se.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var i=0,n=arguments.length;i!==n;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function bc(t,e,i){this._mixer=t,this._clip=e,this._localRoot=i||null;for(var n=e.tracks,r=n.length,a=new Array(r),o={endingStart:le,endingEnd:le},s=0;s!==r;++s){var c=n[s].createInterpolant(null);a[s]=c,c.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=re,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function wc(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Mc(t){"string"===typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function Ec(){la.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Sc(t,e,i,n){this.uuid=Se.generateUUID(),this.data=t,this.itemSize=e,this.offset=i,this.normalized=!0===n}function Ac(t,e){this.uuid=Se.generateUUID(),this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Tc(t,e,i){Ac.call(this,t,e),this.meshPerAttribute=i||1}function Cc(t,e,i){qr.call(this,t,e),this.meshPerAttribute=i||1}function Lc(t,e,i,n){this.ray=new Gr(t,e),this.near=i||0,this.far=n||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Rc(t,e){return t.distance-e.distance}function Pc(t,e,i,n){if(!1!==t.visible&&(t.raycast(e,i),!0===n))for(var r=t.children,a=0,o=r.length;a<o;a++)Pc(r[a],e,i,!0)}function Ic(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Oc(t){this.points=t;var e,i,n,r,a,o,s,c,l,u=[],h={x:0,y:0,z:0};function d(t,e,i,n,r,a,o){var s=.5*(i-t),c=.5*(n-e);return(2*(e-i)+s+c)*o+(-3*(e-i)-2*s-c)*a+s*r+e}this.initFromArray=function(t){this.points=[];for(var e=0;e<t.length;e++)this.points[e]={x:t[e][0],y:t[e][1],z:t[e][2]}},this.getPoint=function(t){return e=(this.points.length-1)*t,i=Math.floor(e),n=e-i,u[0]=0===i?i:i-1,u[1]=i,u[2]=i>this.points.length-2?this.points.length-1:i+1,u[3]=i>this.points.length-3?this.points.length-1:i+2,o=this.points[u[0]],s=this.points[u[1]],c=this.points[u[2]],l=this.points[u[3]],r=n*n,a=n*r,h.x=d(o.x,s.x,c.x,l.x,n,r,a),h.y=d(o.y,s.y,c.y,l.y,n,r,a),h.z=d(o.z,s.z,c.z,l.z,n,r,a),h},this.getControlPointsArray=function(){var t,e,i=this.points.length,n=[];for(t=0;t<i;t++)e=this.points[t],n[t]=[e.x,e.y,e.z];return n},this.getLength=function(t){var e,i,n,r,a=0,o=0,s=0,c=new Oe,l=new Oe,u=[],h=0;for(u[0]=0,t||(t=100),n=this.points.length*t,c.copy(this.points[0]),e=1;e<n;e++)i=e/n,r=this.getPoint(i),l.copy(r),h+=l.distanceTo(c),c.copy(r),a=(this.points.length-1)*i,o=Math.floor(a),o!==s&&(u[o]=h,s=o);return u[u.length]=h,{chunks:u,total:h}},this.reparametrizeByArcLength=function(t){var e,i,n,r,a,o,s,c,l=[],u=new Oe,h=this.getLength();for(l.push(u.copy(this.points[0]).clone()),e=1;e<this.points.length;e++){for(o=h.chunks[e]-h.chunks[e-1],s=Math.ceil(t*o/h.total),r=(e-1)/(this.points.length-1),a=e/(this.points.length-1),i=1;i<s-1;i++)n=r+i*(1/s)*(a-r),c=this.getPoint(n),l.push(u.copy(c).clone());l.push(u.copy(this.points[e]).clone())}this.points=l}}function Uc(t,e,i){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==i?i:0,this}function Dc(t,e,i){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==i?i:0,this}function Nc(t,e){ua.call(this,t,e),this.animationsMap={},this.animationsList=[];var i=this.geometry.morphTargets.length,n="__default",r=0,a=i-1,o=i/1;this.createAnimation(n,r,a,o),this.setAnimationWeight(n,1)}function zc(t){jr.call(this),this.material=t,this.render=function(t){}}function Fc(t,e,i,n){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==i?i:16711680,a=void 0!==n?n:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var c=new la,l=new na(2*o*3,3);c.addAttribute("position",l),io.call(this,c,new to({color:r,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Bc(t){jr.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;for(var e=new la,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],n=0,r=1,a=32;n<a;n++,r++){var o=n/a*Math.PI*2,s=r/a*Math.PI*2;i.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}e.addAttribute("position",new na(i,3));var c=new to({fog:!1});this.cone=new io(e,c),this.add(this.cone),this.update()}function Gc(t){this.bones=this.getBoneList(t);for(var e=new la,i=[],n=[],r=new wr(0,0,1),a=new wr(0,1,0),o=0;o<this.bones.length;o++){var s=this.bones[o];s.parent&&s.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),n.push(r.r,r.g,r.b),n.push(a.r,a.g,a.b))}e.addAttribute("position",new na(i,3)),e.addAttribute("color",new na(n,3));var c=new to({vertexColors:w,depthTest:!1,depthWrite:!1,transparent:!0});io.call(this,e,c),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function kc(t,e){this.light=t,this.light.updateMatrixWorld();var i=new Oo(e,4,2),n=new Zr({wireframe:!0,fog:!1});n.color.copy(this.light.color).multiplyScalar(this.light.intensity),ua.call(this,i,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function Hc(t){jr.call(this),this.light=t,this.light.updateMatrixWorld();var e=new Zr({color:t.color,fog:!1}),i=new Zr({color:t.color,fog:!1,wireframe:!0}),n=new la;n.addAttribute("position",new qr(new Float32Array(18),3)),this.add(new ua(n,e)),this.add(new ua(n,i)),this.update()}function Vc(t,e){jr.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;var i=new go(e);i.rotateY(.5*Math.PI);var n=new Zr({vertexColors:w,wireframe:!0}),r=i.getAttribute("position"),a=new Float32Array(3*r.count);i.addAttribute("color",new qr(a,3)),this.add(new ua(i,n)),this.update()}function jc(t,e,i,n){t=t||10,e=e||10,i=new wr(void 0!==i?i:4473924),n=new wr(void 0!==n?n:8947848);for(var r=e/2,a=2*t/e,o=[],s=[],c=0,l=0,u=-t;c<=e;c++,u+=a){o.push(-t,0,u,t,0,u),o.push(u,0,-t,u,0,t);var h=c===r?i:n;h.toArray(s,l),l+=3,h.toArray(s,l),l+=3,h.toArray(s,l),l+=3,h.toArray(s,l),l+=3}var d=new la;d.addAttribute("position",new na(o,3)),d.addAttribute("color",new na(s,3));var p=new to({vertexColors:w});io.call(this,d,p)}function Wc(t,e,i,n,r,a){t=t||10,e=e||16,i=i||8,n=n||64,r=new wr(void 0!==r?r:4473924),a=new wr(void 0!==a?a:8947848);var o,s,c,l,u,h,d,p=[],f=[];for(l=0;l<=e;l++)c=l/e*(2*Math.PI),o=Math.sin(c)*t,s=Math.cos(c)*t,p.push(0,0,0),p.push(o,0,s),d=1&l?r:a,f.push(d.r,d.g,d.b),f.push(d.r,d.g,d.b);for(l=0;l<=i;l++)for(d=1&l?r:a,h=t-t/i*l,u=0;u<n;u++)c=u/n*(2*Math.PI),o=Math.sin(c)*h,s=Math.cos(c)*h,p.push(o,0,s),f.push(d.r,d.g,d.b),c=(u+1)/n*(2*Math.PI),o=Math.sin(c)*h,s=Math.cos(c)*h,p.push(o,0,s),f.push(d.r,d.g,d.b);var m=new la;m.addAttribute("position",new na(p,3)),m.addAttribute("color",new na(f,3));var v=new to({vertexColors:w});io.call(this,m,v)}function Xc(t,e,i,n){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==i?i:16776960,a=void 0!==n?n:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var c=new la,l=new na(2*o*3,3);c.addAttribute("position",l),io.call(this,c,new to({color:r,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Yc(t,e){jr.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,void 0===e&&(e=1);var i=new la;i.addAttribute("position",new na([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var n=new to({fog:!1});this.add(new eo(i,n)),i=new la,i.addAttribute("position",new na([0,0,0,0,0,1],3)),this.add(new eo(i,n)),this.update()}function Zc(t){var e=new la,i=new to({color:16777215,vertexColors:b}),n=[],r=[],a={},o=new wr(16755200),s=new wr(16711680),c=new wr(43775),l=new wr(16777215),u=new wr(3355443);function h(t,e,i){d(t,i),d(e,i)}function d(t,e){n.push(0,0,0),r.push(e.r,e.g,e.b),void 0===a[t]&&(a[t]=[]),a[t].push(n.length/3-1)}h("n1","n2",o),h("n2","n4",o),h("n4","n3",o),h("n3","n1",o),h("f1","f2",o),h("f2","f4",o),h("f4","f3",o),h("f3","f1",o),h("n1","f1",o),h("n2","f2",o),h("n3","f3",o),h("n4","f4",o),h("p","n1",s),h("p","n2",s),h("p","n3",s),h("p","n4",s),h("u1","u2",c),h("u2","u3",c),h("u3","u1",c),h("c","t",l),h("p","c",u),h("cn1","cn2",u),h("cn3","cn4",u),h("cf1","cf2",u),h("cf3","cf4",u),e.addAttribute("position",new na(n,3)),e.addAttribute("color",new na(r,3)),io.call(this,e,i),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function qc(t,e){void 0===e&&(e=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),r=new la;r.setIndex(new qr(i,1)),r.addAttribute("position",new qr(n,3)),io.call(this,r,new to({color:e})),void 0!==t&&this.update(t)}Object.assign(uc.prototype,{load:function(t,e,i,n){var r=new hs(this.manager);r.setResponseType("arraybuffer"),r.load(t,(function(t){var i=lc.getContext();i.decodeAudioData(t,(function(t){e(t)}))}),i,n)}}),hc.prototype=Object.assign(Object.create(ys.prototype),{constructor:hc,isRectAreaLight:!0,copy:function(t){return ys.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this}}),Object.assign(dc.prototype,{update:function(){var t,e,i,n,r,a,o,s=new Ue,c=new Ue;return function(l){var u=t!==this||e!==l.focus||i!==l.fov||n!==l.aspect*this.aspect||r!==l.near||a!==l.far||o!==l.zoom;if(u){t=this,e=l.focus,i=l.fov,n=l.aspect*this.aspect,r=l.near,a=l.far,o=l.zoom;var h,d,p=l.projectionMatrix.clone(),f=this.eyeSep/2,m=f*r/e,v=r*Math.tan(Se.DEG2RAD*i*.5)/o;c.elements[12]=-f,s.elements[12]=f,h=-v*n+m,d=v*n+m,p.elements[0]=2*r/(d-h),p.elements[8]=(d+h)/(d-h),this.cameraL.projectionMatrix.copy(p),h=-v*n-m,d=v*n-m,p.elements[0]=2*r/(d-h),p.elements[8]=(d+h)/(d-h),this.cameraR.projectionMatrix.copy(p)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(c),this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(s)}}()}),pc.prototype=Object.create(jr.prototype),pc.prototype.constructor=pc,fc.prototype=Object.assign(Object.create(jr.prototype),{constructor:fc,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:function(){var t=new Oe,e=new Ie,i=new Oe,n=new Oe;return function(r){jr.prototype.updateMatrixWorld.call(this,r);var a=this.context.listener,o=this.up;this.matrixWorld.decompose(t,e,i),n.set(0,0,-1).applyQuaternion(e),a.positionX?(a.positionX.setValueAtTime(t.x,this.context.currentTime),a.positionY.setValueAtTime(t.y,this.context.currentTime),a.positionZ.setValueAtTime(t.z,this.context.currentTime),a.forwardX.setValueAtTime(n.x,this.context.currentTime),a.forwardY.setValueAtTime(n.y,this.context.currentTime),a.forwardZ.setValueAtTime(n.z,this.context.currentTime),a.upX.setValueAtTime(o.x,this.context.currentTime),a.upY.setValueAtTime(o.y,this.context.currentTime),a.upZ.setValueAtTime(o.z,this.context.currentTime)):(a.setPosition(t.x,t.y,t.z),a.setOrientation(n.x,n.y,n.z,o.x,o.y,o.z))}}()}),mc.prototype=Object.assign(Object.create(jr.prototype),{constructor:mc,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),t.start(0,this.startTime),this.isPlaying=!0,this.source=t,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),vc.prototype=Object.assign(Object.create(mc.prototype),{constructor:vc,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:function(){var t=new Oe;return function(e){jr.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}()}),Object.assign(gc.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),i=0;i<e.length;i++)t+=e[i];return t/e.length}}),yc.prototype={constructor:yc,accumulate:function(t,e){var i=this.buffer,n=this.valueSize,r=t*n+n,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==n;++o)i[r+o]=i[o];a=e}else{a+=e;var s=e/a;this._mixBufferRegion(i,r,0,s,n)}this.cumulativeWeight=a},apply:function(t){var e=this.valueSize,i=this.buffer,n=t*e+e,r=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,r<1){var o=3*e;this._mixBufferRegion(i,n,o,1-r,e)}for(var s=e,c=e+e;s!==c;++s)if(i[s]!==i[s+e]){a.setValue(i,n);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,i=this.valueSize,n=3*i;t.getValue(e,n);for(var r=i,a=n;r!==a;++r)e[r]=e[n+r%i];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,i,n,r){if(n>=.5)for(var a=0;a!==r;++a)t[e+a]=t[i+a]},_slerp:function(t,e,i,n,r){Ie.slerpFlat(t,e,t,e,t,i,n)},_lerp:function(t,e,i,n,r){for(var a=1-n,o=0;o!==r;++o){var s=e+o;t[s]=t[s]*a+t[i+o]*n}}},_c.prototype={constructor:_c,getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,i=e.objectName,n=e.propertyName,r=e.propertyIndex;if(t||(t=_c.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(i){var a=e.objectIndex;switch(i){case"materials":if(!t.material)return void console.error("  can not bind to material as node does not have a material",this);if(!t.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[i])return void console.error("  can not bind to objectName of node, undefined",this);t=t[i]}if(void 0!==a){if(void 0===t[a])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,t);t=t[a]}}var s=t[n];if(void 0!==s){var c=this.Versioning.None;void 0!==t.needsUpdate?(c=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var l=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===n){if(!t.geometry)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);if(!t.geometry.morphTargets)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(t.geometry.morphTargets[o].name===r){r=o;break}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):void 0!==s.length?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}else{var u=e.nodeName;console.error("  trying to update property for track: "+u+"."+n+" but it wasn't found.",t)}}else console.error("  trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(_c.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:_c.prototype.getValue,_setValue_unbound:_c.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)t[e++]=i[n]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.node[this.propertyName]=t[e]},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++]},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),_c.Composite=function(t,e,i){var n=i||_c.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,n)},_c.Composite.prototype={constructor:_c.Composite,getValue:function(t,e){this.bind();var i=this._targetGroup.nCachedObjects_,n=this._bindings[i];void 0!==n&&n.getValue(t,e)},setValue:function(t,e){for(var i=this._bindings,n=this._targetGroup.nCachedObjects_,r=i.length;n!==r;++n)i[n].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}},_c.create=function(t,e,i){return t&&t.isAnimationObjectGroup?new _c.Composite(t,e,i):new _c(t,e,i)},_c.parseTrackName=function(t){var e=/^((?:[\w-]+[\/:])*)([\w-]+)?(?:\.([\w-]+)(?:\[(.+)\])?)?\.([\w-]+)(?:\[(.+)\])?$/,i=e.exec(t);if(!i)throw new Error("cannot parse trackName at all: "+t);var n={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]};if(null===n.propertyName||0===n.propertyName.length)throw new Error("can not parse propertyName from trackName: "+t);return n},_c.findNode=function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var i=function(t){for(var i=0;i<t.bones.length;i++){var n=t.bones[i];if(n.name===e)return n}return null},n=i(t.skeleton);if(n)return n}if(t.children){var r=function(t){for(var i=0;i<t.length;i++){var n=t[i];if(n.name===e||n.uuid===e)return n;var a=r(n.children);if(a)return a}return null},a=r(t.children);if(a)return a}return null},xc.prototype={constructor:xc,isAnimationObjectGroup:!0,add:function(t){for(var e=this._objects,i=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,a=this._paths,o=this._parsedPaths,s=this._bindings,c=s.length,l=0,u=arguments.length;l!==u;++l){var h=arguments[l],d=h.uuid,p=r[d],f=void 0;if(void 0===p){p=i++,r[d]=p,e.push(h);for(var m=0,v=c;m!==v;++m)s[m].push(new _c(h,a[m],o[m]))}else if(p<n){f=e[p];var g=--n,y=e[g];r[y.uuid]=p,e[p]=y,r[d]=g,e[g]=h;for(m=0,v=c;m!==v;++m){var _=s[m],x=_[g],b=_[p];_[p]=x,void 0===b&&(b=new _c(h,a[m],o[m])),_[g]=b}}else e[p]!==f&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=n},remove:function(t){for(var e=this._objects,i=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,a=r.length,o=0,s=arguments.length;o!==s;++o){var c=arguments[o],l=c.uuid,u=n[l];if(void 0!==u&&u>=i){var h=i++,d=e[h];n[d.uuid]=u,e[u]=d,n[l]=h,e[h]=c;for(var p=0,f=a;p!==f;++p){var m=r[p],v=m[h],g=m[u];m[u]=v,m[h]=g}}}this.nCachedObjects_=i},uncache:function(t){for(var e=this._objects,i=e.length,n=this.nCachedObjects_,r=this._indicesByUUID,a=this._bindings,o=a.length,s=0,c=arguments.length;s!==c;++s){var l=arguments[s],u=l.uuid,h=r[u];if(void 0!==h)if(delete r[u],h<n){var d=--n,p=e[d],f=--i,m=e[f];r[p.uuid]=h,e[h]=p,r[m.uuid]=d,e[d]=m,e.pop();for(var v=0,g=o;v!==g;++v){var y=a[v],_=y[d],x=y[f];y[h]=_,y[d]=x,y.pop()}}else{f=--i,m=e[f];r[m.uuid]=h,e[h]=m,e.pop();for(v=0,g=o;v!==g;++v){y=a[v];y[h]=y[f],y.pop()}}}this.nCachedObjects_=n},subscribe_:function(t,e){var i=this._bindingsIndicesByPath,n=i[t],r=this._bindings;if(void 0!==n)return r[n];var a=this._paths,o=this._parsedPaths,s=this._objects,c=s.length,l=this.nCachedObjects_,u=new Array(c);n=r.length,i[t]=n,a.push(t),o.push(e),r.push(u);for(var h=l,d=s.length;h!==d;++h){var p=s[h];u[h]=new _c(p,t,e)}return u},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,i=e[t];if(void 0!==i){var n=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o],c=t[o];e[c]=i,a[i]=s,a.pop(),r[i]=r[o],r.pop(),n[i]=n[o],n.pop()}}},bc.prototype={constructor:bc,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){var n=this._clip.duration,r=t._clip.duration,a=r/n,o=n/r;t.warp(1,a,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,i){return t.crossFadeFrom(this,e,i)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,i){var n=this._mixer,r=n.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=n._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,c=a.sampleValues;return s[0]=r,s[1]=r+i,c[0]=t/o,c[1]=e/o,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,i,n){var r=this._startTime;if(null!==r){var a=(t-r)*i;if(a<0||0===i)return;this._startTime=null,e=i*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var c=this._interpolants,l=this._propertyBindings,u=0,h=c.length;u!==h;++u)c[u].evaluate(o),l[u].accumulate(n,s)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var i=this._weightInterpolant;if(null!==i){var n=i.evaluate(t)[0];e*=n,t>i.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var i=this._timeScaleInterpolant;if(null!==i){var n=i.evaluate(t)[0];e*=n,t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var i=this._clip.duration,n=this.loop,r=this._loopCount;if(n===ne){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=i)e=i;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{var a=n===ae;if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),e>=i||e<0){var o=Math.floor(e/i);e-=i*o,r+=Math.abs(o);var s=this.repetitions-r;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?i:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(0===s){var c=t<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(a&&1===(1&r))return this.time=e,i-e}return this.time=e,e},_setEndings:function(t,e,i){var n=this._interpolantSettings;i?(n.endingStart=ue,n.endingEnd=ue):(n.endingStart=t?this.zeroSlopeAtStart?ue:le:he,n.endingEnd=e?this.zeroSlopeAtEnd?ue:le:he)},_scheduleFading:function(t,e,i){var n=this._mixer,r=n.time,a=this._weightInterpolant;null===a&&(a=n._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=r,s[0]=e,o[1]=r+t,s[1]=i,this}},Object.assign(wc.prototype,n.prototype,{clipAction:function(t,e){var i=e||this._root,n=i.uuid,r="string"===typeof t?Hs.findByName(i,t):t,a=null!==r?r.uuid:t,o=this._actionsByClip[a],s=null;if(void 0!==o){var c=o.actionByRoot[n];if(void 0!==c)return c;s=o.knownActions[0],null===r&&(r=s._clip)}if(null===r)return null;var l=new bc(this,r,e);return this._bindAction(l,s),this._addInactiveAction(l,a,n),l},existingAction:function(t,e){var i=e||this._root,n=i.uuid,r="string"===typeof t?Hs.findByName(i,t):t,a=r?r.uuid:t,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[n]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,i=this._bindings,n=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==e;++r)t[r].reset();for(r=0;r!==n;++r)i[r].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,i=this._nActiveActions,n=this.time+=t,r=Math.sign(t),a=this._accuIndex^=1,o=0;o!==i;++o){var s=e[o];s.enabled&&s._update(n,t,r,a)}var c=this._bindings,l=this._nActiveBindings;for(o=0;o!==l;++o)c[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,i=t.uuid,n=this._actionsByClip,r=n[i];if(void 0!==r){for(var a=r.knownActions,o=0,s=a.length;o!==s;++o){var c=a[o];this._deactivateAction(c);var l=c._cacheIndex,u=e[e.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,u._cacheIndex=l,e[l]=u,e.pop(),this._removeInactiveBindingsForAction(c)}delete n[i]}},uncacheRoot:function(t){var e=t.uuid,i=this._actionsByClip;for(var n in i){var r=i[n].actionByRoot,a=r[e];void 0!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}var o=this._bindingsByRootAndName,s=o[e];if(void 0!==s)for(var c in s){var l=s[c];l.restoreOriginalState(),this._removeInactiveBinding(l)}},uncacheAction:function(t,e){var i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}),Object.assign(wc.prototype,{_bindAction:function(t,e){var i=t._localRoot||this._root,n=t._clip.tracks,r=n.length,a=t._propertyBindings,o=t._interpolants,s=i.uuid,c=this._bindingsByRootAndName,l=c[s];void 0===l&&(l={},c[s]=l);for(var u=0;u!==r;++u){var h=n[u],d=h.name,p=l[d];if(void 0!==p)a[u]=p;else{if(p=a[u],void 0!==p){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,d));continue}var f=e&&e._propertyBindings[u].binding.parsedPath;p=new yc(_c.create(i,d,f),h.ValueTypeName,h.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,s,d),a[u]=p}o[u].resultBuffer=p.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,i=t._clip.uuid,n=this._actionsByClip[i];this._bindAction(t,n&&n.knownActions[0]),this._addInactiveAction(t,i,e)}for(var r=t._propertyBindings,a=0,o=r.length;a!==o;++a){var s=r[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,i=0,n=e.length;i!==n;++i){var r=e[i];0===--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,i){var n=this._actions,r=this._actionsByClip,a=r[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=n.length,n.push(t),a.actionByRoot[i]=t},_removeInactiveAction:function(t){var e=this._actions,i=e[e.length-1],n=t._cacheIndex;i._cacheIndex=n,e[n]=i,e.pop(),t._cacheIndex=null;var r=t._clip.uuid,a=this._actionsByClip,o=a[r],s=o.knownActions,c=s[s.length-1],l=t._byClipCacheIndex;c._byClipCacheIndex=l,s[l]=c,s.pop(),t._byClipCacheIndex=null;var u=o.actionByRoot,h=(e._localRoot||this._root).uuid;delete u[h],0===s.length&&delete a[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,i=0,n=e.length;i!==n;++i){var r=e[i];0===--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(t){var e=this._actions,i=t._cacheIndex,n=this._nActiveActions++,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_takeBackAction:function(t){var e=this._actions,i=t._cacheIndex,n=--this._nActiveActions,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_addInactiveBinding:function(t,e,i){var n=this._bindingsByRootAndName,r=n[e],a=this._bindings;void 0===r&&(r={},n[e]=r),r[i]=t,t._cacheIndex=a.length,a.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,i=t.binding,n=i.rootNode.uuid,r=i.path,a=this._bindingsByRootAndName,o=a[n],s=e[e.length-1],c=t._cacheIndex;s._cacheIndex=c,e[c]=s,e.pop(),delete o[r];t:{for(var l in o)break t;delete a[n]}},_lendBinding:function(t){var e=this._bindings,i=t._cacheIndex,n=this._nActiveBindings++,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_takeBackBinding:function(t){var e=this._bindings,i=t._cacheIndex,n=--this._nActiveBindings,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,i=t[e];return void 0===i&&(i=new Ps(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=e,t[e]=i),i},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,i=t.__cacheIndex,n=--this._nActiveControlInterpolants,r=e[n];t.__cacheIndex=n,e[n]=t,r.__cacheIndex=i,e[i]=r},_controlInterpolantsResultBuffer:new Float32Array(1)}),Mc.prototype.clone=function(){return new Mc(void 0===this.value.clone?this.value:this.value.clone())},Ec.prototype=Object.create(la.prototype),Ec.prototype.constructor=Ec,Ec.prototype.isInstancedBufferGeometry=!0,Ec.prototype.addGroup=function(t,e,i){this.groups.push({start:t,count:e,materialIndex:i})},Ec.prototype.copy=function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var i=t.attributes;for(var n in i){var r=i[n];this.addAttribute(n,r.clone())}for(var a=t.groups,o=0,s=a.length;o<s;o++){var c=a[o];this.addGroup(c.start,c.count,c.materialIndex)}return this},Sc.prototype={constructor:Sc,isInterleavedBufferAttribute:!0,get count(){return this.data.count},get array(){return this.data.array},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this},setXYZ:function(t,e,i,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=n,this},setXYZW:function(t,e,i,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=n,this.data.array[t+3]=r,this}},Ac.prototype={constructor:Ac,isInterleavedBuffer:!0,set needsUpdate(t){!0===t&&this.version++},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.stride:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.stride,i*=e.stride;for(var n=0,r=this.stride;n<r;n++)this.array[t+n]=e.array[i+n];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}},Tc.prototype=Object.create(Ac.prototype),Tc.prototype.constructor=Tc,Tc.prototype.isInstancedInterleavedBuffer=!0,Tc.prototype.copy=function(t){return Ac.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},Cc.prototype=Object.create(qr.prototype),Cc.prototype.constructor=Cc,Cc.prototype.isInstancedBufferAttribute=!0,Cc.prototype.copy=function(t){return qr.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},Lc.prototype={constructor:Lc,linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e){var i=[];return Pc(t,this,i,e),i.sort(Rc),i},intersectObjects:function(t,e){var i=[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var n=0,r=t.length;n<r;n++)Pc(t[n],this,i,e);return i.sort(Rc),i}},Ic.prototype={constructor:Ic,start:function(){this.startTime=(performance||Date).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=(performance||Date).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}},Uc.prototype={constructor:Uc,set:function(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(Se.clamp(t.y/this.radius,-1,1))),this}},Dc.prototype={constructor:Dc,set:function(t,e,i){return this.radius=t,this.theta=e,this.y=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}},Nc.prototype=Object.create(ua.prototype),Nc.prototype.constructor=Nc,Nc.prototype.createAnimation=function(t,e,i,n){var r={start:e,end:i,length:i-e+1,fps:n,duration:(i-e)/n,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=r,this.animationsList.push(r)},Nc.prototype.autoCreateAnimations=function(t){for(var e,i=/([a-z]+)_?(\d+)/i,n={},r=this.geometry,a=0,o=r.morphTargets.length;a<o;a++){var s=r.morphTargets[a],c=s.name.match(i);if(c&&c.length>1){var l=c[1];n[l]||(n[l]={start:1/0,end:-1/0});var u=n[l];a<u.start&&(u.start=a),a>u.end&&(u.end=a),e||(e=l)}}for(var l in n){u=n[l];this.createAnimation(l,u.start,u.end,t)}this.firstAnimation=e},Nc.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},Nc.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},Nc.prototype.setAnimationFPS=function(t,e){var i=this.animationsMap[t];i&&(i.fps=e,i.duration=(i.end-i.start)/i.fps)},Nc.prototype.setAnimationDuration=function(t,e){var i=this.animationsMap[t];i&&(i.duration=e,i.fps=(i.end-i.start)/i.duration)},Nc.prototype.setAnimationWeight=function(t,e){var i=this.animationsMap[t];i&&(i.weight=e)},Nc.prototype.setAnimationTime=function(t,e){var i=this.animationsMap[t];i&&(i.time=e)},Nc.prototype.getAnimationTime=function(t){var e=0,i=this.animationsMap[t];return i&&(e=i.time),e},Nc.prototype.getAnimationDuration=function(t){var e=-1,i=this.animationsMap[t];return i&&(e=i.duration),e},Nc.prototype.playAnimation=function(t){var e=this.animationsMap[t];e?(e.time=0,e.active=!0):console.warn("THREE.MorphBlendMesh: animation["+t+"] undefined in .playAnimation()")},Nc.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},Nc.prototype.update=function(t){for(var e=0,i=this.animationsList.length;e<i;e++){var n=this.animationsList[e];if(n.active){var r=n.duration/n.length;n.time+=n.direction*t,n.mirroredLoop?(n.time>n.duration||n.time<0)&&(n.direction*=-1,n.time>n.duration&&(n.time=n.duration,n.directionBackwards=!0),n.time<0&&(n.time=0,n.directionBackwards=!1)):(n.time=n.time%n.duration,n.time<0&&(n.time+=n.duration));var a=n.start+Se.clamp(Math.floor(n.time/r),0,n.length-1),o=n.weight;a!==n.currentFrame&&(this.morphTargetInfluences[n.lastFrame]=0,this.morphTargetInfluences[n.currentFrame]=1*o,this.morphTargetInfluences[a]=0,n.lastFrame=n.currentFrame,n.currentFrame=a);var s=n.time%r/r;n.directionBackwards&&(s=1-s),n.currentFrame!==n.lastFrame?(this.morphTargetInfluences[n.currentFrame]=s*o,this.morphTargetInfluences[n.lastFrame]=(1-s)*o):this.morphTargetInfluences[n.currentFrame]=o}}},zc.prototype=Object.create(jr.prototype),zc.prototype.constructor=zc,zc.prototype.isImmediateRenderObject=!0,Fc.prototype=Object.create(io.prototype),Fc.prototype.constructor=Fc,Fc.prototype.update=function(){var t=new Oe,e=new Oe,i=new Nr;return function(){var n=["a","b","c"];this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);var r=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,c=o.faces,l=0,u=0,h=c.length;u<h;u++)for(var d=c[u],p=0,f=d.vertexNormals.length;p<f;p++){var m=s[d[n[p]]],v=d.vertexNormals[p];t.copy(m).applyMatrix4(r),e.copy(v).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),a.setXYZ(l,t.x,t.y,t.z),l+=1,a.setXYZ(l,e.x,e.y,e.z),l+=1}else if(o&&o.isBufferGeometry){var g=o.attributes.position,y=o.attributes.normal;for(l=0,p=0,f=g.count;p<f;p++)t.set(g.getX(p),g.getY(p),g.getZ(p)).applyMatrix4(r),e.set(y.getX(p),y.getY(p),y.getZ(p)),e.applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),a.setXYZ(l,t.x,t.y,t.z),l+=1,a.setXYZ(l,e.x,e.y,e.z),l+=1}return a.needsUpdate=!0,this}}(),Bc.prototype=Object.create(jr.prototype),Bc.prototype.constructor=Bc,Bc.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Bc.prototype.update=function(){var t=new Oe,e=new Oe;return function(){var i=this.light.distance?this.light.distance:1e3,n=i*Math.tan(this.light.angle);this.cone.scale.set(n,n,i),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),Gc.prototype=Object.create(io.prototype),Gc.prototype.constructor=Gc,Gc.prototype.getBoneList=function(t){var e=[];t&&t.isBone&&e.push(t);for(var i=0;i<t.children.length;i++)e.push.apply(e,this.getBoneList(t.children[i]));return e},Gc.prototype.update=function(){var t=new Oe,e=new Ue,i=new Ue;return function(){var n=this.geometry,r=n.getAttribute("position");i.getInverse(this.root.matrixWorld);for(var a=0,o=0;a<this.bones.length;a++){var s=this.bones[a];s.parent&&s.parent.isBone&&(e.multiplyMatrices(i,s.matrixWorld),t.setFromMatrixPosition(e),r.setXYZ(o,t.x,t.y,t.z),e.multiplyMatrices(i,s.parent.matrixWorld),t.setFromMatrixPosition(e),r.setXYZ(o+1,t.x,t.y,t.z),o+=2)}n.getAttribute("position").needsUpdate=!0}}(),kc.prototype=Object.create(ua.prototype),kc.prototype.constructor=kc,kc.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},kc.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},Hc.prototype=Object.create(jr.prototype),Hc.prototype.constructor=Hc,Hc.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose(),this.children[1].geometry.dispose(),this.children[1].material.dispose()},Hc.prototype.update=function(){var t=new Oe,e=new Oe;return function(){var i=this.children[0],n=this.children[1];if(this.light.target){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld);var r=e.clone().sub(t);i.lookAt(r),n.lookAt(r)}i.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),n.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var a=.5*this.light.width,o=.5*this.light.height,s=i.geometry.getAttribute("position"),c=s.array;c[0]=a,c[1]=-o,c[2]=0,c[3]=a,c[4]=o,c[5]=0,c[6]=-a,c[7]=o,c[8]=0,c[9]=-a,c[10]=o,c[11]=0,c[12]=-a,c[13]=-o,c[14]=0,c[15]=a,c[16]=-o,c[17]=0,s.needsUpdate=!0}}(),Vc.prototype=Object.create(jr.prototype),Vc.prototype.constructor=Vc,Vc.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Vc.prototype.update=function(){var t=new Oe,e=new wr,i=new wr;return function(){var n=this.children[0],r=n.geometry.getAttribute("color");e.copy(this.light.color).multiplyScalar(this.light.intensity),i.copy(this.light.groundColor).multiplyScalar(this.light.intensity);for(var a=0,o=r.count;a<o;a++){var s=a<o/2?e:i;r.setXYZ(a,s.r,s.g,s.b)}n.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()),r.needsUpdate=!0}}(),jc.prototype=Object.create(io.prototype),jc.prototype.constructor=jc,Wc.prototype=Object.create(io.prototype),Wc.prototype.constructor=Wc,Xc.prototype=Object.create(io.prototype),Xc.prototype.constructor=Xc,Xc.prototype.update=function(){var t=new Oe,e=new Oe,i=new Nr;return function(){this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);for(var n=this.object.matrixWorld,r=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,c=0,l=0,u=s.length;l<u;l++){var h=s[l],d=h.normal;t.copy(o[h.a]).add(o[h.b]).add(o[h.c]).divideScalar(3).applyMatrix4(n),e.copy(d).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),r.setXYZ(c,t.x,t.y,t.z),c+=1,r.setXYZ(c,e.x,e.y,e.z),c+=1}return r.needsUpdate=!0,this}}(),Yc.prototype=Object.create(jr.prototype),Yc.prototype.constructor=Yc,Yc.prototype.dispose=function(){var t=this.children[0],e=this.children[1];t.geometry.dispose(),t.material.dispose(),e.geometry.dispose(),e.material.dispose()},Yc.prototype.update=function(){var t=new Oe,e=new Oe,i=new Oe;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),i.subVectors(e,t);var n=this.children[0],r=this.children[1];n.lookAt(i),n.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),r.lookAt(i),r.scale.z=i.length()}}(),Zc.prototype=Object.create(io.prototype),Zc.prototype.constructor=Zc,Zc.prototype.update=function(){var t,e,i=new Oe,n=new pa;function r(r,a,o,s){i.set(a,o,s).unproject(n);var c=e[r];if(void 0!==c)for(var l=t.getAttribute("position"),u=0,h=c.length;u<h;u++)l.setXYZ(c[u],i.x,i.y,i.z)}return function(){t=this.geometry,e=this.pointMap;var i=1,a=1;n.projectionMatrix.copy(this.camera.projectionMatrix),r("c",0,0,-1),r("t",0,0,1),r("n1",-i,-a,-1),r("n2",i,-a,-1),r("n3",-i,a,-1),r("n4",i,a,-1),r("f1",-i,-a,1),r("f2",i,-a,1),r("f3",-i,a,1),r("f4",i,a,1),r("u1",.7*i,1.1*a,-1),r("u2",.7*-i,1.1*a,-1),r("u3",0,2*a,-1),r("cf1",-i,0,1),r("cf2",i,0,1),r("cf3",0,-a,1),r("cf4",0,a,1),r("cn1",-i,0,-1),r("cn2",i,0,-1),r("cn3",0,-a,-1),r("cn4",0,a,-1),t.getAttribute("position").needsUpdate=!0}}(),qc.prototype=Object.create(io.prototype),qc.prototype.constructor=qc,qc.prototype.update=function(){var t=new Ur;return function(e){if(e&&e.isBox3?t.copy(e):t.setFromObject(e),!t.isEmpty()){var i=t.min,n=t.max,r=this.geometry.attributes.position,a=r.array;a[0]=n.x,a[1]=n.y,a[2]=n.z,a[3]=i.x,a[4]=n.y,a[5]=n.z,a[6]=i.x,a[7]=i.y,a[8]=n.z,a[9]=n.x,a[10]=i.y,a[11]=n.z,a[12]=n.x,a[13]=n.y,a[14]=i.z,a[15]=i.x,a[16]=n.y,a[17]=i.z,a[18]=i.x,a[19]=i.y,a[20]=i.z,a[21]=n.x,a[22]=i.y,a[23]=i.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}();var Jc=new la;Jc.addAttribute("position",new na([0,0,0,0,1,0],3));var Qc=new Vo(0,.5,1,5,1);function Kc(t,e,i,n,r,a){jr.call(this),void 0===n&&(n=16776960),void 0===i&&(i=1),void 0===r&&(r=.2*i),void 0===a&&(a=.2*r),this.position.copy(e),this.line=new eo(Jc,new to({color:n})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ua(Qc,new Zr({color:n})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,r,a)}function $c(t){t=t||1;var e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],n=new la;n.addAttribute("position",new na(e,3)),n.addAttribute("color",new na(i,3));var r=new to({vertexColors:w});io.call(this,n,r)}Qc.translate(0,-.5,0),Kc.prototype=Object.create(jr.prototype),Kc.prototype.constructor=Kc,Kc.prototype.setDirection=function(){var t,e=new Oe;return function(i){i.y>.99999?this.quaternion.set(0,0,0,1):i.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(i.z,0,-i.x).normalize(),t=Math.acos(i.y),this.quaternion.setFromAxisAngle(e,t))}}(),Kc.prototype.setLength=function(t,e,i){void 0===e&&(e=.2*t),void 0===i&&(i=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()},Kc.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},$c.prototype=Object.create(io.prototype),$c.prototype.constructor=$c;var tl=function(){var t=new Oe,e=new r,i=new r,n=new r;function r(){}return r.prototype.init=function(t,e,i,n){this.c0=t,this.c1=i,this.c2=-3*t+3*e-2*i-n,this.c3=2*t-2*e+i+n},r.prototype.initNonuniformCatmullRom=function(t,e,i,n,r,a,o){var s=(e-t)/r-(i-t)/(r+a)+(i-e)/a,c=(i-e)/a-(n-e)/(a+o)+(n-i)/o;s*=a,c*=a,this.init(e,i,s,c)},r.prototype.initCatmullRom=function(t,e,i,n,r){this.init(e,i,r*(i-t),r*(n-e))},r.prototype.calc=function(t){var e=t*t,i=e*t;return this.c0+this.c1*t+this.c2*e+this.c3*i},Zs.create((function(t){this.points=t||[],this.closed=!1}),(function(r){var a,o,s,c,l,u,h,d,p=this.points;if(c=p.length,c<2&&console.log("duh, you need at least 2 points"),a=(c-(this.closed?0:1))*r,o=Math.floor(a),s=a-o,this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/p.length)+1)*p.length:0===s&&o===c-1&&(o=c-2,s=1),this.closed||o>0?l=p[(o-1)%c]:(t.subVectors(p[0],p[1]).add(p[0]),l=t),u=p[o%c],h=p[(o+1)%c],this.closed||o+2<c?d=p[(o+2)%c]:(t.subVectors(p[c-1],p[c-2]).add(p[c-1]),d=t),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var f="chordal"===this.type?.5:.25,m=Math.pow(l.distanceToSquared(u),f),v=Math.pow(u.distanceToSquared(h),f),g=Math.pow(h.distanceToSquared(d),f);v<1e-4&&(v=1),m<1e-4&&(m=v),g<1e-4&&(g=v),e.initNonuniformCatmullRom(l.x,u.x,h.x,d.x,m,v,g),i.initNonuniformCatmullRom(l.y,u.y,h.y,d.y,m,v,g),n.initNonuniformCatmullRom(l.z,u.z,h.z,d.z,m,v,g)}else if("catmullrom"===this.type){var y=void 0!==this.tension?this.tension:.5;e.initCatmullRom(l.x,u.x,h.x,d.x,y),i.initCatmullRom(l.y,u.y,h.y,d.y,y),n.initCatmullRom(l.z,u.z,h.z,d.z,y)}var _=new Oe(e.calc(s),i.calc(s),n.calc(s));return _}))}(),el=Zs.create((function(t){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3"),this.points=void 0===t?[]:t}),(function(t){var e=this.points,i=(e.length-1)*t,n=Math.floor(i),r=i-n,a=e[0==n?n:n-1],o=e[n],s=e[n>e.length-2?e.length-1:n+1],c=e[n>e.length-3?e.length-1:n+2],l=Ks.interpolate;return new Oe(l(a.x,o.x,s.x,c.x,r),l(a.y,o.y,s.y,c.y,r),l(a.z,o.z,s.z,c.z,r))})),il=Zs.create((function(t,e,i,n){this.v0=t,this.v1=e,this.v2=i,this.v3=n}),(function(t){var e=Ro.b3;return new Oe(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y),e(t,this.v0.z,this.v1.z,this.v2.z,this.v3.z))})),nl=Zs.create((function(t,e,i){this.v0=t,this.v1=e,this.v2=i}),(function(t){var e=Ro.b2;return new Oe(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y),e(t,this.v0.z,this.v1.z,this.v2.z))})),rl=Zs.create((function(t,e){this.v1=t,this.v2=e}),(function(t){if(1===t)return this.v2.clone();var e=new Oe;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e}));function al(t,e,i,n,r,a){Qs.call(this,t,e,i,i,n,r,a)}al.prototype=Object.create(Qs.prototype),al.prototype.constructor=al;var ol={createMultiMaterialObject:function(t,e){for(var i=new ao,n=0,r=e.length;n<r;n++)i.add(new ua(t,e[n]));return i},detach:function(t,e,i){t.applyMatrix(e.matrixWorld),e.remove(t),i.add(t)},attach:function(t,e,i){var n=new Ue;n.getInverse(i.matrixWorld),t.applyMatrix(n),e.remove(t),i.add(t)}};function sl(t,e,i,n,r,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Yr(t,e,i,r,a,o)}var cl=0,ll=1;function ul(t){return console.warn("THREE.MeshFaceMaterial has been renamed to THREE.MultiMaterial."),new $o(t)}function hl(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new ro(t,e)}function dl(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new qa(t)}function pl(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new ro(t,e)}function fl(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new no(t)}function ml(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new no(t)}function vl(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new no(t)}function gl(t,e,i){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Oe(t,e,i)}function yl(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new qr(t,e).setDynamic(!0)}function _l(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Jr(t,e)}function xl(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Qr(t,e)}function bl(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Kr(t,e)}function wl(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new $r(t,e)}function Ml(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new ta(t,e)}function El(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new ea(t,e)}function Sl(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new ia(t,e)}function Al(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new na(t,e)}function Tl(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new ra(t,e)}function Cl(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),tl.call(this,t),this.type="catmullrom",this.closed=!0}function Ll(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new qc(t,e)}function Rl(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new io(new Ho(t.geometry),new to({color:void 0!==e?e:16777215}))}function Pl(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new io(new uo(t.geometry),new to({color:void 0!==e?e:16777215}))}function Il(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new hs(t)}Cl.prototype=Object.create(tl.prototype),jc.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Object.assign(Tr.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(Ur.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Wr.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Se.random16=function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},Object.assign(Nr.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},applyToBuffer:function(t,e,i){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)}}),Object.assign(Ue.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new Oe),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),t.applyProjection(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(t){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(t)},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t,e,i){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)}}),zr.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Ie.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(Gr.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(rc.prototype,{extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Po(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ko(this,t)}}),Object.assign(Oe.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)}}),oa.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(jr.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)}}),Object.defineProperties(jr.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Ja.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),fa.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(ys.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(qr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(la.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,i){void 0!==i&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(la.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Mc.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Pr.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new wr}}}),Object.defineProperties(is.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Ir.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),n.prototype=Object.assign(Object.create({constructor:n,apply:function(t){console.warn("THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in."),Object.assign(t,this)}}),n.prototype),Object.assign(Va.prototype,{supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(Va.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=t}}}),Object.defineProperties(Br.prototype,{cullFace:{get:function(){return this.renderReverseSided?c:s},set:function(t){var e=t!==s;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+e+"."),this.renderReverseSided=e}}}),Object.defineProperties(Re.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),mc.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this,i=new uc;return i.load(t,(function(t){e.setBuffer(t)})),this},gc.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};var Ol={merge:function(t,e,i){var n;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),n=e.matrix,e=e.geometry),t.merge(e,n,i)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},Ul={crossOrigin:void 0,loadTexture:function(t,e,i,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new gs;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,i,void 0,n);return e&&(a.mapping=e),a},loadTextureCube:function(t,e,i,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new vs;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,i,void 0,n);return e&&(a.mapping=e),a},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};function Dl(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function Nl(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}},"2ff2":function(t,e,i){t.exports=i.p+"img/5.423c5ec3.png"},3342:function(t,e,i){t.exports=i.p+"img/2.c87564d6.png"},3463:function(t,e,i){t.exports=i.p+"img/5.db5f174d.png"},"34b4":function(t,e,i){t.exports=i.p+"img/CloudMap.ddddcd03.jpg"},"34cd":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcsAAAC/CAYAAACRxvckAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA3FSURBVHgB7d2Ldto4FAVQQzL//8NJGOTKqUuAALbsK2nvtZiQ9DEULB29PQwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACs5ZD+czqdDpc/u/J87nTj+XA4HE4DUJ2LeiA5XHz98UduPFcP0JzDuYD8N6xvXlC+0vcKD8SQQ3H+GIbbgbjofzX7Oj7UA9SqVFjeMhUUAQobyeF4HP4Nxz1N4fmlDqAWW4flpe/wPBearwFYLGA4/mYKTnUAYe0dlpeqKDS5MnofYkk99Y8hkKDvU7q+PocGnd/vt6GegLyl6eA8f0apPNT8+Vw63fjZfAi+iTnsaBVZuojecqFPhcUwDdyRGyRTSLZAHVCXwyM/O3+e45fp26HCOexoYTmXhpGOpz/vsiEamGkwJK+Z1wGfQrN6PxaTzUI0/Bx25LCcTC3NVHCEJl3rJCQvjcP5QrNZ09TBcRae4RaB1hCWE6FJtzoNyUtTaDY778xoutaH3EA6Rfi8awrLyTw0tTJpXp6/Ow5MjrNGs9Bs29jrzJ/3rlNyNRfAqZX5NkCDUm8yr54UlNcd8/tDH6aO0nsOz021cKEd8xCVoVmaoTf5sGn7m15mP3aZkmulMM6Xm0PV9CZfclT+u7NpT7O1AnnMb1zPiyCoWIOb1rdkWLZPm3SWWmy9msukOqllnIcTBeUyBw3mbo1lqFTd3/JQj2EZqpCHkFyr65kazIay+1Sk7m/9YjIsQ2iCsqg3gdmt1ev+Hi6kg8AkIkG5CYHZr0Mell1lSL6Xi0hgEoqg3NSbOcyurbKGRYsLNiYod2HRT98Wz2P2EpbjAcwDxCAo9+F979uiwOwhLN2pgDBMB+zKdAzHV0cYeghLN48lBAcOhHCwpax7LzWYWg9L58USQp6nFJQx2IPduVdGGFoOSwcrE4IFPSFZ3Ni3p0cYWr1gBCWRqJgDMn/ZvafmL1ssxOMNQgcIILdeDb/GZP6Shz//Wy2rr4uvo8uFMhepfBj+Vgrz51uy8pUwcvmosUF6Gq40Oufl6kbZ36vcL5E+H6NQ/RobTI+MRM7DMhWMsZA8GjYXv+9akG5diAQlkdTUa5nC8aHyf6vszxoI1TQSHq0sadZDDaYUlkV6Y/nv27IQCUrCqGj16xiSa60az2Xw8/zvT39fLaGZ5q5sMevYIw2mFJabhMxFIZqCc63KxBYRoqkhJFKZKRISF+W9hnnb9Bo/hj59PHMNXFkUU/Mw/OTX3uX71q2pWY/zK7e+l4amla+EUkGvctXe5D25vH/khTSRGxBp7uqgd/m7K+/RtRHE6oIzldt7ZWLXize9sPMjteZS2L1ykZ4EJQFFnqucpl02HYnJ5TR6WbUydqEUpOmzXliv7+X48i9u5cXQdDg64QTfirDravEc0JHL7MGdSdZzUa/X4O7nH2pYZFaYfmv12iJCVJEr290XseQyHnl9gd7lyvJnnkKzhvr6+PQv7GXqxg/3e5mCknCCz1VGWgQXOSz1LguYFnwN8QOzjp7l3J1epiXeRBW1PIWa258W/QxxOZ6wgFlgRlZfWCYXvczEyldCmh3CEVG4MpMrzqg9TGFZSA2BeWtkoYqLYhrzFpQEFrUsRR6JCTscm4fUKaCCeevjwz+MyNArwYUNyyEovcuuhZ63vvZDFwQsFLgXcqqgkRm10rTQp6DgDSVhCYWEXQE7BKd32bWwDblrDSUXAywXsRydAm0V+U3USlPPsqCKrs+RsIQFIg/BDpUIXGkKy/KqCUxhCcsYgl1HyNdrVWxx1YwquBBgmZBhWeHq8aivVx1ZlrCE1gU+iKDGbVbmLQntaJgBXmYIdiWRe8K2kJCkoHwLflshiCpqJVrrAR4W+hDFj8/8PX+depjOXoXHhRyVqfi0K0OxhPV+8f0xDzmEuksBRBN4aK7mYyGFJWG9X/nZuGhh6mkObokF9E1Y8uswUvr193NwvpvXhH9Y3LMyi3yI7P3B3zfvbY5nOdZ2VBGszDBsGen1R3xvx+mpgV78+KwfDcu5dNFMK2gFJ72y5aqMyGFJx14JyznBCYE0sL7AIp++VDNCszQs5wTnviLef6/J3pf5qy75zDu3ZljOCc59lPo8qUMLc2rmBftSTc9yi5b/FJz/pfDUKqcBruEOqbuKqGb0aeueSHpj0sEHKbUdfADr0iujGpEbH9fm/vcatnPwATWzbaSQVA/8aUvTgarWNESY45r3Ns1tAlHZa7muqGF59TOO9GKnuc13tw0jOD3LsmwfaVzwOv5qhy3iCxaaRKfShGUi1+3he5aXvkNzAHqiZ9mwvKWwqsU9SQ09t8O07WSAndk+AK/Lo4XV9SqTmnpt0702LQICqEwOyuidnpthWduc4PxkIAAqUElQJjc7YrXOB069zE/7M4GNGIJ/QV53UsN7d7qXJzUvnklvflox++UkIIBYZgt5amlk3O14tbDSdOxlnn0M0DGjLOwtj/ilIdeaQnJydy1MK9sy0orZd4EJ8LwFq7wPF49a/Xrkakt7GAUmtEEPeVv2sv/Sq0xaOyHn4BADAJ5wemQKo8Xj5AQmAI96aIFoq2evCkyoly0abOXh20O2fFD5weEF9MRRfPCU8baQj/7m1u/qcVSBAHDF1zPbrXq4BZbeJQBzT58x3kNYGo4F1mBLSxueGn6d9HJzZTeRBiB56UzxbkLE6liA7r18842eelwHi31YyvmrUK1F90LubXjScCzwKg2lei2+O5WwhOepNMsyAsSaVrmNY5rHS93SnuYuj0u64sFFO0Q+VXotrkROYRmxQk+vqYUgjxqWGkl1GVe9rlXfp7t0fKYbKA9/b7HS/EEFwwvLhitwijafdr6uBjalR1aWC7oe6bP6XLNOHFeI5r9w/Es7CE4VCgRlER4rSBn2tXbn4cd2ih6CMxVIqxpZIOq1I2jo2arDrpfu7j28EpzHoY3QTP+GxRO+dEtDq0Ma2KEV6U3OPbxRP7+I+fzmcai3JasFTotauK4t7uEZq89N3vL0qTaz3uZXWlk61BmawpKXpTIQdfGSKQY6UXTI9ZpFR8DlFzqFZlVbBFQqEFLUhmyr281qkz6H0x7b/1Y5LzW98NzUToGp10YPutqfjGHYHX2PZu7ZwVntcPH8j/ioqJdpkQ9LRK08a7+uNUCYjL3IIcge8tXvxJF7mempe0jSMttHVhZ5j6Upm0189yDTN9He8yK3rcqBGX1vpuFiWuS6Xp+gXN/3tsQhaDheKnmPR3M6NMuK2CIs7mnH6eLr9Hz8vsbrs1hY5sokzZ0YjqVVGoTrssdyH6vegKHVIeuSPcsk8ptmuIqlLPJZV8iGRw/zleZkf1f04pwflwcNsshnJYEX96i/GG3RknOx0aTArfFDhXfvMF9JaMISlolamQrLdai/GFmcAMtEnresScTXG+6G6uxHzxKWMW+5UD71KyJ1F9967lkqCCyWex4hh2LPIVTLtq2o9ZD5Sr5tcZHaokHrDMW+KC9EilhHGILlH8ISlgtbqQYe4pwYgqUKhmFhochDsUP8Mm4IlipscaFqOdKDyHsuQ85dBp5TNQTLD0WDLPgQkMLAava4c/sTwpXDXDfoVVKN0hdr2LDUcqSAsOexnsOp9DnQzwo74hS84cNOil2weYjFqRz0JPSNA6IMe+bgVjdQlSJhGXyIJVEgWF3whT7Jce+pkeCN6ESvkqtKFZzoK/AUCEqJfm297RWYFTSiv0zPcMuqF27aYBx8iGWkQFBKBb3L5G3rIdn8/4t+opBGNDetNumfC0MN+zYVCEpL11j4/Y2pcXv2MRSUT+iJPvSa6FVy1+KwnM1B1HJSj7CkqFTpntUQmNNIUErN1VfyVtSArmE0gJ29FJa5tZgKQU0hmdhszFZqCMtkLMO5TI+hsaSMVNSTnNOr5FfvD95R/XDxqJXWI5vIvcvUW6vlzh9T2U7Dsyk45o8f8/wX9cbUeJ6e18S+Sh7yPqw4bxncd8GHLaRKOK8ArS1AfjSK/+Rnk8IeJEEsPR2kbgiWPaiM4zL8ysN6CUsT+OwiV8YCM54ii5poVy9hqQXJbvKcmOsvFkHJU3oISxP4RKByjuNT45ln9RCWKil2Zzg2jC+NZ17RelhqQRJGrqQF5n7MU/KylsNSC5Jw8jXputyenj2LtBqWVr8SVu7dGPHYzhiURplYosWwVDAILx9g7hotT33AKloLSwWDagjM4tQHrKalsFQwqI7ALEZ9wKpaCUsFg2rlwLT4ZD3qA1bXQliOy/EVDGpmW8lq1AcUUfsdR77sm6IV+S4l6Wktt/WK5tN2MUqpNSynm9QqGDQlB2a6vmu7gfKeDLtSXI1hOW7qVjBoVb62P/K9MPUy71MfsImawlJvkq7oZd6lN8mmagjL6TQeN2+mOxe9zPToPTTVB+wiclgqFJDNepkpLHsMTfUBu4oYlgoFXJHLw6mz0FQfEEKksJzuJq9QwB2dhKaQJJS9w1KBgBdNoXl+pCHaeWjWGpzf/x71AdEczoXsv2FbepBQUGXB+R2Q6Rt1AlGV7llOBSFRGGADuYyNJ1vl4Lx87Ok0f6gPqMVaYXm6+CoYIYDZUO0oh+f4S8Pf4CwRouoEmnLI+7e+v7/x+043nv/5QwoAVG0WopPDjef//LEbz9UJNOd/e7hK7VGOrQIAAAAASUVORK5CYII="},"3bc0":function(t,e,i){t.exports=i.p+"img/1.a1d7c25a.png"},"3c0d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAeCAYAAABNChwpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmNjY3YjExZC0xMjlhLWJkNDAtYjY0ZS1lMzJhNWU5ODM1ZTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzdEQjM0NEZFOUU1MTFFOUEyNTRCQzhEQzE3QjczNTgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzdEQjM0NEVFOUU1MTFFOUEyNTRCQzhEQzE3QjczNTgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OWYyOWNhMDgtMDFlNC0yYzQyLWFiYzItZTYxMmUxMWYzZmEyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmY2NjdiMTFkLTEyOWEtYmQ0MC1iNjRlLWUzMmE1ZTk4MzVlOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pove4B0AAAHLSURBVHjaYvz//z/DtEdXWhkYGPKBeDIQVwKxChDvAmJGIHYF4jtA3A7EeUA8iQpqcoF4YpacTjUj1AHfgQIcDPQFX4EO4GGCcvoY6A8mggiYA6oHwAHVyA6QRZNkpBFGBnLIDjgwACFwANkB/wbAAf+RHeCARyEbNMG8g+KJUDFKgR2IYIFynuJR2AXN2zAAYv8A4nIKHfAUOQTa8CiMxSKWQoUQaEN2QP4ApIF8ZAdMwKNwMRaxOXjUywCxCBEOmEBsQVQGLdtBCfA9lF2LQy0XEK8h4CGiCiJk8AsaXMJALARl/8KiDlTQzAJicyCOBmIvAg6gekFUDrUYBqYDMQ8e9fupWRD5AXELFh+2EdJITEFECOgC8SIgZsYilw3EVvgKIiYiCiJ8QBSI1wExPx4PzgZidkoKInTggFREr4C2evABLSDOoFZB1ABNPA3QrOZEpD4JQgVRP5GW10PZIDqTwoSLUhDVkGA5XVpEtLac6IKIVpbD7WTBUxCBKhVQc72CCpadwNUiYkHKWk/QFID4nTSsjvG2iP7ToT1AdkFELYBSEBUOgAPykB0A6pp9hXYcQfW6GhDfg2I1qBhI7huV1HyFdc0AAgwAn8ht80l3OekAAAAASUVORK5CYII="},"3c87":function(t,e,i){t.exports=i.p+"img/earthmap.59704167.jpg"},"418b":function(t,e,i){t.exports=i.p+"img/1.a7919dab.png"},"43cf":function(t,e,i){t.exports=i.p+"img/1.4ac51abb.png"},4474:function(t,e,i){t.exports=i.p+"img/logo_airline.09d32260.png"},"44aa":function(t,e,i){t.exports=i.p+"img/3.c0e5c9bb.png"},4547:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmNjY3YjExZC0xMjlhLWJkNDAtYjY0ZS1lMzJhNWU5ODM1ZTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Q0E5NjM4QjhFOUU1MTFFOUEyNTRCQzhEQzE3QjczNTgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Q0E5NjM4QjdFOUU1MTFFOUEyNTRCQzhEQzE3QjczNTgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OWYyOWNhMDgtMDFlNC0yYzQyLWFiYzItZTYxMmUxMWYzZmEyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmY2NjdiMTFkLTEyOWEtYmQ0MC1iNjRlLWUzMmE1ZTk4MzVlOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PujLVfcAAAECSURBVHjaYvz//z/DtEdXGIBABYi3M0CAJxDfYcANKFKbJacDl2RCUhgIVQzCkQz4AdXUIjuAGYnNRcBQqqllYhhgMOoAFjrY0QHFA+IAWMrnhvK/AvFy5GxLawfsBGIlNLE4IFalVxpQwhEqWKMAb1zROhESjCtaO4BgXNG6HCAYV4OtHKBaemGhRd5GAvewhO4dSh1ASnpxB+IApBrxLxBvoNQBpKQXkG97BroyqgDi/1DcjssB93C4nm65gGBc0doBBOOKHg0SvHE1mFpEVE0v5GRDqqYXchxA1fTCRIu8PdosH7IO+IvE/kZAH9XUIjtgPTSF34HW7/gA1dQCBBgAjv1IyXBgKXkAAAAASUVORK5CYII="},"46db":function(t,e,i){t.exports=i.p+"img/about2.28cfa265.jpg"},"471b":function(t,e,i){t.exports=i.p+"img/4.73ff1850.png"},"49f1":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmNjY3YjExZC0xMjlhLWJkNDAtYjY0ZS1lMzJhNWU5ODM1ZTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Q0JERTY5MUZFOUU1MTFFOUEyNTRCQzhEQzE3QjczNTgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Q0JERTY5MUVFOUU1MTFFOUEyNTRCQzhEQzE3QjczNTgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OWYyOWNhMDgtMDFlNC0yYzQyLWFiYzItZTYxMmUxMWYzZmEyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmY2NjdiMTFkLTEyOWEtYmQ0MC1iNjRlLWUzMmE1ZTk4MzVlOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv0n064AAAQgSURBVHjarJdZSJVBFMe/e0mx9VYWpfVQZKtmUZBGthoRGdHyUpH1YhY9tBFqaFRktBAtD0FZD4VtD2lBJVFpmy0GSWl7SvXQRmimpWKgnRP/gX/TvZ/3UgM/vpn5Zs6Z5cyZM56D7yqdIFMXYbYwVRgtDBS641+d8EZ4JFwXLgrfgxHaIYg2MUKmsFjoFKBNbzBOSBeahJPCbuG1m3Cvy78IYZfwVEhzUe4vdUSfJ5AREeoAdNZlQoYQTvUvMKvpQjT+KVFCMpS9oPbhkFEGmUENYIxQKsRT3U1hgjAc21EsfBR+gk9CiZCFNtr2BvWPh8wx7Q1AR3lZ6IOy7uVKGN7dELZA205D30bU9YHsmEBGqPt2FsakqUZIwfLZaYAwGUvvYDVu4SSY1CYcxsm4JERCdoGQiMn9MYAtwijkGwMonydkC2MDzLxcyBXOUV0ZZJXAkOOhK5O3YJCwjjqts5T7MItCF+XGfgrR1mcNwpYfwwNQ4wkjgztinXE1oFlUp07mvLAPXKC9dtD2Dm2nA5nGMMOg8/cAugqLqGEO9k+TRzghxKHcimPYH9uxHswR+mEwrWgbi74esolNpGeh6vZitJ1R+Riz5UYzSMAy7N03P8tfh8EspQnMsCZXCh0OdM7ywoGYVGgJ3Uj5fZhRe0ld8B4qZ1n/WUey13I4tyk/VBhJ/iDX8nAHhFpwwPKY280xg4xh9O8WOygvTgC7WrZok9TzfaWy2sFqoQfQ/Db6r1t0lcqjKf+S8oN0AN2ooobyUZR/ZS1jqp+lT7PKVZSPDqCjm9ttGO78vxTudhvWUzmS8h8oP8Tql+9H1lGrPJjy7wPoqFdXXC30QsUw+HXH8oTJ2GtjBxk430vwzbfOuA9XtkkPLOM2qVpXoIIqJlrGUkkXVQ79axHWYDY9kW+h/9no40AGG94kyld4YeEmzbeWcYflv1OD2G9dlQ1U3mn9Zx3FOoAi4Qcq9DZMogZnhCvklo8h6vH5UawB6l7hOLlf7Xua2iTRjas6i9QGGtDIHKNcBCBtQGd0DQ7Li/1fhbo3FMgkW3FjJfryvZJrTa7Bg7BcndFzuhFXCHmWUZ2ybkS3VIQomu+MdAQoDsK4EeorjB+ohq9nv59gebYU7N9DF8XlaJNiKU+w5O83jspDDxO12vt0N9TiIXLPJSTri/InPyGZSYkIUHoayxfGm/iBQzK9PBYgoOyNDsWw/jzaS01vgVvyYNn3km18gY7GQFGxLstM4TOtyiE8t5JCcL1J6HOIlH+G7Kr2nmblEFBA2zEZV/UrhGJ6vJ7RxRIJo9IAZK4f112BmVf9tUwuj1N9Tm0V1v7DxdQCg9ssNIf6NmxG+BWLi6YxBMVN6BMHGc3/8jrWZVsOY9RTMYWe5z46puZ5fiOU5/kvAQYAeNv9P2KunXAAAAAASUVORK5CYII="},"4a20":function(t,e,i){t.exports=i.p+"img/2.4ca00110.png"},"4a6a":function(t,e,i){t.exports=i.p+"img/bitmap.10d4acc6.svg"},"4ac3":function(t,e,i){t.exports=i.p+"img/3.54d19fdf.png"},"4b4f":function(t,e,i){},"4f02":function(t,e,i){t.exports=i.p+"img/Logo.16a35ae7.svg"},"4f23":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAgCAYAAAB3j6rJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmNjY3YjExZC0xMjlhLWJkNDAtYjY0ZS1lMzJhNWU5ODM1ZTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDIxRTU5MjFFOTI0MTFFOTg5QzBCRDk4NENEQ0VEMDQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDIxRTU5MjBFOTI0MTFFOTg5QzBCRDk4NENEQ0VEMDQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OWYyOWNhMDgtMDFlNC0yYzQyLWFiYzItZTYxMmUxMWYzZmEyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmY2NjdiMTFkLTEyOWEtYmQ0MC1iNjRlLWUzMmE1ZTk4MzVlOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt/+WAsAAAPASURBVHjazJhZSJRRGIb/URMlqdySioq0ogulTci8ycCa6KIIikpFoyIjumihgghM6qKU9KYkMgJzyRaIpBVb6CKpUCtHKEgpbCVTCwyl0r/3wHvg4/fMOI4j9MHjnDnLd945y3fO0WXbtlXW0WrRwsFOsBkkAxdQhZfBGfDbGpm56Gs7WAzGgTegFpSBXlVp14xkK0w0mgZuggUOZ0tAHGgBD5g3CaSC2WAi836CNtAEepiXBHaAZcLfQrINrAbtKjNMjIRJRD84CkpBKMgHuRQX6mUUBsAzcJFkgHXgNJgq6s0Fd9nnrxBm5htEKKVLQTE7fwfOgnQfIiyWpbPue07LDfp/5KirRnS3HJEsR4WXYBV/3R2w0lH+F7wAr0AX82LBfA679jsZlIMNIJs+q8F64WsjOKkbLBIFbex4PLjHIdT2DZwAFaDby4jEgDxwCCQwT/l7AtwUpEQvZ9k89SdE/EJlfUJtvRBhgxIuvlIhwsXRzGbaYlkph72EbfWaqOfi3gQ+M/+PFOLhZyF3RyUdaXGqo/16uwnL4lBXGaa3l22y6UOvCeW7U68NWLNcI1XcoiXcVm7mD1J9nZdpmC7SyV7qXFK7AlznD3dzAau18xiclyNyjvtdCTsunBT7EDESUz6KxPdjIJKCaqQQFTEfcpvqBdbBGBIsK6RPi31s4cawpRBtuSJ9igEtWNZPn9pyZKEUEs2IqaNjlRV8qxI7NI19DhGSKiJmo484MRrr5lmk+07VBfLQSxTp1gA6SWMQk/aRi9EWeR4x8okmIdEi3RmAkAxismovvo1TE4h9GGV7l2lEfoh0vJ+OaviZ4qXcI+qYfPeYhLT5ESWdZjuG3R9LMfUpp6aRIV3voJgx2DUxvDLq46PJJERNTYO43OSMgZAcMQtP5dQ4F2uFSO8DEUEUEUGfpr6GCFHz/ZXpmaAgiEIK6FNfsCp9CVH3hiPi+0GwJggilI8D4vthcUfxGkcugNuivJZvk0BtM33o4+Mq+7CGE2LzVtXO75GcMnVyRo1AQBTbVNOHstdgqyPk+4yssxwh38WFpvb93mG2tirbA96yjUuUxTnONMsU0ORL7L7obEAMawKvk0WMOx4+J8JZNocvgjDDoyuUUVX5zuTd2KeQa0KEOrZXMAipG9YU0S6N+LIv3C3PeYOPJ1f0M8KfQ6+bypt50U3ie6VBRGCTDbJOHtuU8yGWKU7ecH+mxs3tVuc4f/rEezaWU6CmYgKH/jv4xLDdZfDbwifsWnBryDGs/i3xP9g/AQYAIt3W7ko4igcAAAAASUVORK5CYII="},"4f49":function(t,e,i){t.exports=i.p+"img/1.a84188b9.png"},"501c":function(t,e,i){t.exports=i.p+"img/facebook-square-brands.09710056.svg"},5184:function(t,e,i){t.exports=i.p+"img/ipad.510d97cd.png"},"532c":function(t,e,i){t.exports=i.p+"img/about3.90672a16.jpg"},"534c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAWCAYAAAAmaHdCAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmNjY3YjExZC0xMjlhLWJkNDAtYjY0ZS1lMzJhNWU5ODM1ZTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjkwRjk3NERFQUQ4MTFFOThDMzhBMDVCNTFBMURDODUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjkwRjk3NENFQUQ4MTFFOThDMzhBMDVCNTFBMURDODUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OWYyOWNhMDgtMDFlNC0yYzQyLWFiYzItZTYxMmUxMWYzZmEyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmY2NjdiMTFkLTEyOWEtYmQ0MC1iNjRlLWUzMmE1ZTk4MzVlOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PtwLqXUAAAIbSURBVHjahJRfaI9RGMfP792PoR+r+XNh8i9b2kpZipQLlhtFLlbLJbVSarYVudiftigUN9y4kNDKRlJcKIQ0kWhraqXVGm1EMVt+jP1+83n0fet4d3489el9z/Oe8z3P+zzPOamJ5mbn0mkXsDVQDUshD2PwHD79NSuXc+lUJuNcUZHvXg1tsA3KYL78k/AO7sAp+PzHm8+7ZAg1cBFWeb5fkIKFUCl2wn7otwm+iO3cDYs1fgZ3NdHmbYZdEtkIXbAbhiMtKIWTEsgp3B3QAbfgBhxRBF1aUwWtMC8W2audzK7CMfiu8QYl2Sm59fBI4zqLykTmwHaw7H5TUs2WwHW4B0/gLMyVeIfmLLC1kX5hnZwvVAGzBqiFZapSE+zRt0EYiiM1kWLIyDHqJXp9oHcq9JyCD3pfZCLj8N7rkdheB0QG9bSNV+p9xES+wlM5qr3dzsMF9ckEtKjkTiWORR7E1bmt8Kw7O5Vk68hDsEI5O6GklkC71r2yAGKRl3DfK5tVYrl65qN3XkzsEmzR+JqV3e/Y0+rIUlVmK9xUtSyyctgHazW/P248X2RAERzXeJMI2Q91uDWfixIfz8Bj93+zJuyJB1Fgh0ZVrJC9gaO6Y4IiZn06bNOBb1bqg16jFRQxuwKXA34r/8Oks5DIlKLpTQifC02O/vHvX+AAvNUpPgw/QxPTM9ls8o5NJtFur6zO2Gzjjv0twABCW3cjoeap+gAAAABJRU5ErkJggg=="},5428:function(t,e,i){t.exports=i.p+"img/Camp.e630b519.svg"},"57aa":function(t,e,i){t.exports=i.p+"img/icon_surf.d1e59859.svg"},5945:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAgCAYAAAB3j6rJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmNjY3YjExZC0xMjlhLWJkNDAtYjY0ZS1lMzJhNWU5ODM1ZTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0Q3MTkyNTJFOTI0MTFFOTg5QzBCRDk4NENEQ0VEMDQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0Q3MTkyNTFFOTI0MTFFOTg5QzBCRDk4NENEQ0VEMDQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OWYyOWNhMDgtMDFlNC0yYzQyLWFiYzItZTYxMmUxMWYzZmEyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmY2NjdiMTFkLTEyOWEtYmQ0MC1iNjRlLWUzMmE1ZTk4MzVlOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpcVkUgAAAELSURBVHjaYvz//z/DYABMDIMEsICIaY+uqACp7UCsQmf77wCxZ5aczh1YiAQOgCMYoHZGIkcNM5TuAGJGOuFKqJ1cgyqNjDpkRDjEEIhvQ7HKQDkE5Ig9UAeAsD9ZBRoZeR9U+IHqhnCoGMgRQlD2OyDeSA+H+CEF/R6og5Ad4QItMWkeNZugFjJAHSCM5ojz9Eqsd6AWvkMSe0uJIyhJrOeRogCUS1wpcQS5aQTZMaqjBdqoQ+jaVEQCFVA8GjV/B9AN35Adsp6c+oFKrfjlyA65Ay2cSGn04gPENsJVYQEwpLOvMhFqZGjtkHogTiFCXQxULU0cAjK8gQT1ILXJxCpmHB0NQAMAAQYAgvo0Pz/jXQYAAAAASUVORK5CYII="},"5afd":function(t,e,i){"use strict";var n=i("868d"),r=i.n(n);r.a},"5e25":function(t,e,i){t.exports=i.p+"img/2.7b91e279.png"},"5eab":function(t,e,i){t.exports=i.p+"img/photo_03.4de84a3e.png"},"5f64":function(t,e,i){t.exports=i.p+"img/8.8421aa0a.png"},"69cf":function(t,e,i){t.exports=i.p+"img/1.8b255c3f.png"},"6a2c":function(t,e,i){},"6a5e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAgCAYAAAB3j6rJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmNjY3YjExZC0xMjlhLWJkNDAtYjY0ZS1lMzJhNWU5ODM1ZTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDIzMkJDQzVFOTI0MTFFOTg5QzBCRDk4NENEQ0VEMDQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDIzMkJDQzRFOTI0MTFFOTg5QzBCRDk4NENEQ0VEMDQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OWYyOWNhMDgtMDFlNC0yYzQyLWFiYzItZTYxMmUxMWYzZmEyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmY2NjdiMTFkLTEyOWEtYmQ0MC1iNjRlLWUzMmE1ZTk4MzVlOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkDsrj4AAANESURBVHja7JdNSFRRFMffjFNGWRloGwc/wBJByFbipiI3RkUuIvqQvigji3KVC8FWkRQZChkVfUhWiwoygwpEiiDNzUwogRmGM7ZKCIk2+TH9b/0fHC/vvbnPcXYd+MGbe88599z7zj3zTiCRSFgdseELlmWdAW9BB3gF5qz0SBBsAyfBZtBen1/WFGAgMxjIEMpfwQ1wB3xfpABywVFwAhSJ8d8IJDPIHxmakVJsAXFwH1SmEEAlfcTps0ibX2ofky6T4jkT1IL3IALqQJbB4iuoG6FtLX05rWG5BRIGB0G/Nl7O1zUB2kCpg20p575Rt1ybH6DvsG5o50hCjonnjaAe7OMupSibN0xui3pbNHslv8Aj6kU0+3+G+WWBZIHYshoc4mIlhrkxAq6De2DKYX5eIEFDp8pRO4++CjwF0w56M5yrEq9pyvROO0kxGGWmN4JssYs+sJvZ/0zYvASFnOsTO86mjzh9FvsJZBcNwrxyMXAVFAgdlZAfxO+PHLOlgDYx+gjTZ42fQF7QgS0rQQP4wsQr9DhlNfeQug20tUX5fO4nEJVo68BhMCTGQ2Av6PUIpJe3LCTGhuhL+fzsJ5C/pRd0gg2gWls84WEX0IKqpo9O+nSUkIcze1dPwGuiCtRW0OMRiFp4JxM2yrHlTOJZvraEaSD7QRefr7AYXaPjaJKbqG5GK5/XglOsPzlC54Hpq5HHqxw0g3GWbZOCVkLdcdrmJCmYroGo0zgGxsTYMv6RfeJ1dJMW6tTRxpYxfgJ0+U3W22A92AMGNZvTHnZnNb+D9KF83fRbWW1RyfUYVIBNoBv8ZOl2k1bqdNOmgj5mF6vEv2NVXAWaPHw2UaeGNmkv8cnkf4lf9BK/g+PpKvHK93a3yqo+cpbwucehnUi1xHu1E9PyRC5qDZVsJ7pEOxHl9Rw1KPFRg3Zizi6OdiDnmdGXHdqJAwtoJ7IM2olLXLNZzxH1Os6JdmIghXZiwqWd6BftRCPXnNdOuO0sWTsxyXev5AeLl2k7YYmv+KQlXhkeB3msCSPa7cgVv9doQYzwfyePPiILKfFO7USb1k7MOOhNa+1Eu2k7EfLZUNvtRJ/Y6RHO3QW3tC95Y/kjwAAAbQqt3Hul8wAAAABJRU5ErkJggg=="},"6c70":function(t,e,i){},7139:function(t,e,i){t.exports=i.p+"img/3.30bca4ae.png"},7898:function(t,e,i){t.exports=i.p+"img/3.2592068e.png"},"7b8d":function(t,e,i){},"7c24":function(t,e,i){t.exports=i.p+"img/Hammock.19c8b1f8.png"},"7cb3":function(t,e,i){t.exports=i.p+"img/2.bdab6452.png"},"7ed6":function(t,e,i){t.exports=i.p+"img/Surf.16718a69.svg"},"7fd9":function(t,e,i){t.exports=i.p+"img/3.84adba45.png"},"80b3":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEsAAAA9CAMAAADS62QEAAAAWlBMVEUAAADoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUUyx4VFAAAAHnRSTlMA/t1ggA1Bn3z582ljr3iL68NPSSXbvBbOlnBAGVcSBSkcAAAA4klEQVRYw+3WyQ6DIBSFYQ508CI4T1X7/q9Zumo0EsuwcMG/YPmFMAUWs64mhEd1Z6wakocnURuLZMvCayWZET2LEcfX4pGtToTUbawCIeUbK8dw822A2ljC2L7lEDsr87ayZCUrWclKVrKSlaxoVvx/jsL09G2C2lkB7azxEdL4s675JycS9/CUJGNpnEaScJo21qp7flKFip/U6/Xf05izWM2Yo1kFimjW8lzYZWpuxzU+a2TJfe1aQIuD1AC4zuwFfWdHjRqls/Vmxylnq0Rr2xMPq7JdTmerkGR9NKwb+QGP0BKXOx8dsgAAAABJRU5ErkJggg=="},"84a1":function(t,e,i){t.exports=i.p+"img/1.27856a30.png"},"868d":function(t,e,i){},"88aa":function(t,e,i){t.exports=i.p+"img/7.6f0e64cc.png"},"8a05":function(t,e,i){"use strict";var n=this&&this.__extends||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);function n(){this.constructor=t}t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},r=i("2ea7"),a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},o={type:"change"},s={type:"start"},c={type:"end"},l=1e-6,u=function(t){function e(e,i,n){var o=t.call(this)||this;return o.object=e,o.domElement=void 0!==i?i:document,o.window=void 0!==n?n:window,o.enabled=!0,o.target=new r.Vector3,o.minDistance=0,o.maxDistance=1/0,o.minZoom=0,o.maxZoom=1/0,o.minPolarAngle=0,o.maxPolarAngle=Math.PI,o.minAzimuthAngle=-1/0,o.maxAzimuthAngle=1/0,o.enableDamping=!1,o.dampingFactor=.25,o.enableZoom=!0,o.zoomSpeed=1,o.enableRotate=!0,o.rotateSpeed=1,o.enablePan=!0,o.keyPanSpeed=7,o.autoRotate=!1,o.autoRotateSpeed=2,o.enableKeys=!0,o.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},o.mouseButtons={ORBIT:r.MOUSE.LEFT,ZOOM:r.MOUSE.MIDDLE,PAN:r.MOUSE.RIGHT},o.target0=o.target.clone(),o.position0=o.object.position.clone(),o.zoom0=o.object.zoom,o.updateOffset=new r.Vector3,o.updateQuat=(new r.Quaternion).setFromUnitVectors(e.up,new r.Vector3(0,1,0)),o.updateQuatInverse=o.updateQuat.clone().inverse(),o.updateLastPosition=new r.Vector3,o.updateLastQuaternion=new r.Quaternion,o.state=a.NONE,o.scale=1,o.spherical=new r.Spherical,o.sphericalDelta=new r.Spherical,o.panOffset=new r.Vector3,o.zoomChanged=!1,o.rotateStart=new r.Vector2,o.rotateEnd=new r.Vector2,o.rotateDelta=new r.Vector2,o.panStart=new r.Vector2,o.panEnd=new r.Vector2,o.panDelta=new r.Vector2,o.dollyStart=new r.Vector2,o.dollyEnd=new r.Vector2,o.dollyDelta=new r.Vector2,o.panLeftV=new r.Vector3,o.panUpV=new r.Vector3,o.panInternalOffset=new r.Vector3,o.onMouseDown=function(t){if(!1!==o.enabled){if(t.preventDefault(),t.button===o.mouseButtons.ORBIT){if(!1===o.enableRotate)return;o.rotateStart.set(t.clientX,t.clientY),o.state=a.ROTATE}else if(t.button===o.mouseButtons.ZOOM){if(!1===o.enableZoom)return;o.dollyStart.set(t.clientX,t.clientY),o.state=a.DOLLY}else if(t.button===o.mouseButtons.PAN){if(!1===o.enablePan)return;o.panStart.set(t.clientX,t.clientY),o.state=a.PAN}o.state!==a.NONE&&(document.addEventListener("mousemove",o.onMouseMove,!1),document.addEventListener("mouseup",o.onMouseUp,!1),o.dispatchEvent(s))}},o.onMouseMove=function(t){if(!1!==o.enabled)if(t.preventDefault(),o.state===a.ROTATE){if(!1===o.enableRotate)return;o.rotateEnd.set(t.clientX,t.clientY),o.rotateDelta.subVectors(o.rotateEnd,o.rotateStart);var e=o.domElement===document?o.domElement.body:o.domElement;o.rotateLeft(2*Math.PI*o.rotateDelta.x/e.clientWidth*o.rotateSpeed),o.rotateUp(2*Math.PI*o.rotateDelta.y/e.clientHeight*o.rotateSpeed),o.rotateStart.copy(o.rotateEnd),o.update()}else if(o.state===a.DOLLY){if(!1===o.enableZoom)return;o.dollyEnd.set(t.clientX,t.clientY),o.dollyDelta.subVectors(o.dollyEnd,o.dollyStart),o.dollyDelta.y>0?o.dollyIn(o.getZoomScale()):o.dollyDelta.y<0&&o.dollyOut(o.getZoomScale()),o.dollyStart.copy(o.dollyEnd),o.update()}else if(o.state===a.PAN){if(!1===o.enablePan)return;o.panEnd.set(t.clientX,t.clientY),o.panDelta.subVectors(o.panEnd,o.panStart),o.pan(o.panDelta.x,o.panDelta.y),o.panStart.copy(o.panEnd),o.update()}},o.onMouseUp=function(t){!1!==o.enabled&&(document.removeEventListener("mousemove",o.onMouseMove,!1),document.removeEventListener("mouseup",o.onMouseUp,!1),o.dispatchEvent(c),o.state=a.NONE)},o.onMouseWheel=function(t){!1===o.enabled||!1===o.enableZoom||o.state!==a.NONE&&o.state!==a.ROTATE||(t.preventDefault(),t.stopPropagation(),t.deltaY<0?o.dollyOut(o.getZoomScale()):t.deltaY>0&&o.dollyIn(o.getZoomScale()),o.update(),o.dispatchEvent(s),o.dispatchEvent(c))},o.onKeyDown=function(t){if(!1!==o.enabled&&!1!==o.enableKeys&&!1!==o.enablePan)switch(t.keyCode){case o.keys.UP:o.pan(0,o.keyPanSpeed),o.update();break;case o.keys.BOTTOM:o.pan(0,-o.keyPanSpeed),o.update();break;case o.keys.LEFT:o.pan(o.keyPanSpeed,0),o.update();break;case o.keys.RIGHT:o.pan(-o.keyPanSpeed,0),o.update();break}},o.onTouchStart=function(t){if(!1!==o.enabled){switch(t.touches.length){case 1:if(!1===o.enableRotate)return;o.rotateStart.set(t.touches[0].pageX,t.touches[0].pageY),o.state=a.TOUCH_ROTATE;break;case 2:if(!1===o.enableZoom)return;var e=t.touches[0].pageX-t.touches[1].pageX,i=t.touches[0].pageY-t.touches[1].pageY,n=Math.sqrt(e*e+i*i);o.dollyStart.set(0,n),o.state=a.TOUCH_DOLLY;break;case 3:if(!1===o.enablePan)return;o.panStart.set(t.touches[0].pageX,t.touches[0].pageY),o.state=a.TOUCH_PAN;break;default:o.state=a.NONE}o.state!==a.NONE&&o.dispatchEvent(s)}},o.onTouchMove=function(t){if(!1!==o.enabled)switch(t.preventDefault(),t.stopPropagation(),t.touches.length){case 1:if(!1===o.enableRotate)return;if(o.state!==a.TOUCH_ROTATE)return;o.rotateEnd.set(t.touches[0].pageX,t.touches[0].pageY),o.rotateDelta.subVectors(o.rotateEnd,o.rotateStart);var e=o.domElement===document?o.domElement.body:o.domElement;o.rotateLeft(2*Math.PI*o.rotateDelta.x/e.clientWidth*o.rotateSpeed),o.rotateUp(2*Math.PI*o.rotateDelta.y/e.clientHeight*o.rotateSpeed),o.rotateStart.copy(o.rotateEnd),o.update();break;case 2:if(!1===o.enableZoom)return;if(o.state!==a.TOUCH_DOLLY)return;var i=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,r=Math.sqrt(i*i+n*n);o.dollyEnd.set(0,r),o.dollyDelta.subVectors(o.dollyEnd,o.dollyStart),o.dollyDelta.y>0?o.dollyOut(o.getZoomScale()):o.dollyDelta.y<0&&o.dollyIn(o.getZoomScale()),o.dollyStart.copy(o.dollyEnd),o.update();break;case 3:if(!1===o.enablePan)return;if(o.state!==a.TOUCH_PAN)return;o.panEnd.set(t.touches[0].pageX,t.touches[0].pageY),o.panDelta.subVectors(o.panEnd,o.panStart),o.pan(o.panDelta.x,o.panDelta.y),o.panStart.copy(o.panEnd),o.update();break;default:o.state=a.NONE}},o.onTouchEnd=function(t){!1!==o.enabled&&(o.dispatchEvent(c),o.state=a.NONE)},o.onContextMenu=function(t){t.preventDefault()},o.domElement.addEventListener("contextmenu",o.onContextMenu,!1),o.domElement.addEventListener("mousedown",o.onMouseDown,!1),o.domElement.addEventListener("wheel",o.onMouseWheel,!1),o.domElement.addEventListener("touchstart",o.onTouchStart,!1),o.domElement.addEventListener("touchend",o.onTouchEnd,!1),o.domElement.addEventListener("touchmove",o.onTouchMove,!1),o.window.addEventListener("keydown",o.onKeyDown,!1),o.update(),o}return n(e,t),e.prototype.update=function(){var t=this.object.position;return this.updateOffset.copy(t).sub(this.target),this.updateOffset.applyQuaternion(this.updateQuat),this.spherical.setFromVector3(this.updateOffset),this.autoRotate&&this.state===a.NONE&&this.rotateLeft(this.getAutoRotationAngle()),this.spherical.theta+=this.sphericalDelta.theta,this.spherical.phi+=this.sphericalDelta.phi,this.spherical.theta=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,this.spherical.theta)),this.spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this.spherical.phi)),this.spherical.makeSafe(),this.spherical.radius*=this.scale,this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius)),this.target.add(this.panOffset),this.updateOffset.setFromSpherical(this.spherical),this.updateOffset.applyQuaternion(this.updateQuatInverse),t.copy(this.target).add(this.updateOffset),this.object.lookAt(this.target),!0===this.enableDamping?(this.sphericalDelta.theta*=1-this.dampingFactor,this.sphericalDelta.phi*=1-this.dampingFactor):this.sphericalDelta.set(0,0,0),this.scale=1,this.panOffset.set(0,0,0),!!(this.zoomChanged||this.updateLastPosition.distanceToSquared(this.object.position)>l||8*(1-this.updateLastQuaternion.dot(this.object.quaternion))>l)&&(this.dispatchEvent(o),this.updateLastPosition.copy(this.object.position),this.updateLastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0)},e.prototype.panLeft=function(t,e){this.panLeftV.setFromMatrixColumn(e,0),this.panLeftV.multiplyScalar(-t),this.panOffset.add(this.panLeftV)},e.prototype.panUp=function(t,e){this.panUpV.setFromMatrixColumn(e,1),this.panUpV.multiplyScalar(t),this.panOffset.add(this.panUpV)},e.prototype.pan=function(t,e){var i=this.domElement===document?this.domElement.body:this.domElement;if(this.object instanceof r.PerspectiveCamera){var n=this.object.position;this.panInternalOffset.copy(n).sub(this.target);var a=this.panInternalOffset.length();a*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*t*a/i.clientHeight,this.object.matrix),this.panUp(2*e*a/i.clientHeight,this.object.matrix)}else this.object instanceof r.OrthographicCamera?(this.panLeft(t*(this.object.right-this.object.left)/this.object.zoom/i.clientWidth,this.object.matrix),this.panUp(e*(this.object.top-this.object.bottom)/this.object.zoom/i.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)},e.prototype.dollyIn=function(t){this.object instanceof r.PerspectiveCamera?this.scale/=t:this.object instanceof r.OrthographicCamera?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*t)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)},e.prototype.dollyOut=function(t){this.object instanceof r.PerspectiveCamera?this.scale*=t:this.object instanceof r.OrthographicCamera?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/t)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)},e.prototype.getAutoRotationAngle=function(){return 2*Math.PI/60/60*this.autoRotateSpeed},e.prototype.getZoomScale=function(){return Math.pow(.95,this.zoomSpeed)},e.prototype.rotateLeft=function(t){this.sphericalDelta.theta-=t},e.prototype.rotateUp=function(t){this.sphericalDelta.phi-=t},e.prototype.getPolarAngle=function(){return this.spherical.phi},e.prototype.getAzimuthalAngle=function(){return this.spherical.theta},e.prototype.dispose=function(){this.domElement.removeEventListener("contextmenu",this.onContextMenu,!1),this.domElement.removeEventListener("mousedown",this.onMouseDown,!1),this.domElement.removeEventListener("wheel",this.onMouseWheel,!1),this.domElement.removeEventListener("touchstart",this.onTouchStart,!1),this.domElement.removeEventListener("touchend",this.onTouchEnd,!1),this.domElement.removeEventListener("touchmove",this.onTouchMove,!1),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),this.window.removeEventListener("keydown",this.onKeyDown,!1)},e.prototype.reset=function(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(o),this.update(),this.state=a.NONE},Object.defineProperty(e.prototype,"center",{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"noZoom",{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(t){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!t},enumerable:!0,configurable:!0}),e}(r.EventDispatcher);e.OrbitControls=u},"8b2d":function(t,e,i){t.exports=i.p+"img/SkyMap.9973c680.jpg"},"8cc5":function(t,e,i){"use strict";var n=i("dbf0"),r=i.n(n);r.a},"8fe5":function(t,e,i){t.exports=i.p+"img/wedo.d3e5d92d.png"},"928d":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAAA8CAMAAADygAyiAAAAkFBMVEUAAADoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUVg7Nl1AAAAL3RSTlMA4gT3Ox002MT0zoyAJhT53nZDDAnpWxuxq0cQ7tXIkYc+vbeYe3BXTmouo59johs9bUUAAAGqSURBVFjD7dbpbqMwFIbhY8AGTMy+J2HJnrSd7/7vbtKZRKkiOjOMU6lVef+B5EeWpWOgdxI2BrMFjcoPsWADLRD6oyAOZtFAFgMfCTk0mDNBHwBJGkyOhNI8psHiPKVv1zwKmXZhNKfSxQNySzLxwzc0859gniGLtIsfBVkT9GUh8RgIOOpDO4CWyLS3JDIsqW8Qvug5e4amJ1IO3EpjU0XlwlF0Lt0EcD1h/I9i+N0CwSa9PMXShFnViTFSSazKRCDjN+v20gXYTPnpv+9FRUvAtXfJ3YmVLABsr+a+8VdkzsVWAmCrnK4J6yrybhUCcMuoPnH/PWReqD56YgAy2Z6uLy1BQE83dVvKBQBTVlEeixPnfmr8LuGFEvFh97zKALjLdVff1h0ACu5mjR+6qmF4Lcgap2y9X3UbZ2W7eC2T6zZXd1dtMDi0RX+cbdaNvbj7VIRy/ewdazVu+udK1Pk+ml3avuQHofyvdR/9AUqEKvilItWAZqG9tK9tNaAd3hRpQGnBbyWf4bAnaIIm6CH/R+IMBWi1naRFQA5MpltmwiHumdDO9PhP2z5TYK/c4h0AAAAASUVORK5CYII="},"96b4":function(t,e,i){t.exports=i.p+"img/9.273d8be1.png"},9768:function(t,e,i){"use strict";var n=i("6c70"),r=i.n(n);r.a},"97d3":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAgCAYAAAB3j6rJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmNjY3YjExZC0xMjlhLWJkNDAtYjY0ZS1lMzJhNWU5ODM1ZTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDIzMkJDQ0RFOTI0MTFFOTg5QzBCRDk4NENEQ0VEMDQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDIzMkJDQ0NFOTI0MTFFOTg5QzBCRDk4NENEQ0VEMDQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OWYyOWNhMDgtMDFlNC0yYzQyLWFiYzItZTYxMmUxMWYzZmEyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmY2NjdiMTFkLTEyOWEtYmQ0MC1iNjRlLWUzMmE1ZTk4MzVlOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmjVB9EAAAEwSURBVHjaYvz//z/DtEdXWhkYGEqAmI2BvuAXEPdkyelUM0EFygfAEQxQO0EBwABzCDPDwAFwALBgkWCkkwP+I3NYcCiyAGJ7PIY8AeJl6IZBPREJxLJ49J4A4oPogrgc4gDE7UT4aikaPwqIlxDQ04HNIUwMgwSwEKEGW1BehkYNOoCJ6ZIY1UQ55AAQV5KQAJdiEa8g5JBBEzWjDiHWIY+R2FeoYA9B83Al1mU42OQCguaxkJj6KSnOl44m1iHpEFxpBFaLMuKoZUkFBM3D5RD0WpTShEvQPFxRg9ye0KFCyBM0bzSxDumGkQW0u0FJm9WeGg5xgGJqtVmHZtSA2qmdePSR2mZFBgdJccgBKKZ6LUtKiPwfyOz7dwCTxy9kh3TCBOgMfoOGJUAMgAADAGAgQKUKikoHAAAAAElFTkSuQmCC"},"9d93":function(t,e,i){t.exports=i.p+"img/iphone.38d1f2c0.png"},"9f4b":function(t,e,i){t.exports=i.p+"img/4.0b338b82.png"},"9faa":function(t,e,i){t.exports=i.p+"img/3.79a6115b.png"},a111:function(t,e,i){t.exports=i.p+"img/Travel.62f0b4fb.svg"},a7ab:function(t,e,i){(function(e,i){t.exports=i()})("undefined"!==typeof self&&self,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="fb15")}({"00ee":function(t,e,i){var n=i("b622"),r=n("toStringTag"),a={};a[r]="z",t.exports="[object z]"===String(a)},"0366":function(t,e,i){var n=i("1c0b");t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},"0497":function(t,e){var i=function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()})).toLowerCase()};t.exports=i},"057f":function(t,e,i){var n=i("fc6a"),r=i("241c").f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return r(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?s(t):r(n(t))}},"06cf":function(t,e,i){var n=i("83ab"),r=i("d1e7"),a=i("5c6c"),o=i("fc6a"),s=i("c04e"),c=i("5135"),l=i("0cfb"),u=Object.getOwnPropertyDescriptor;e.f=n?u:function(t,e){if(t=o(t),e=s(e,!0),l)try{return u(t,e)}catch(i){}if(c(t,e))return a(!r.f.call(t,e),t[e])}},"07ac":function(t,e,i){var n=i("23e7"),r=i("6f53").values;n({target:"Object",stat:!0},{values:function(t){return r(t)}})},"0cfb":function(t,e,i){var n=i("83ab"),r=i("d039"),a=i("cc12");t.exports=!n&&!r((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},1276:function(t,e,i){"use strict";var n=i("d784"),r=i("44e7"),a=i("825a"),o=i("1d80"),s=i("4840"),c=i("8aa5"),l=i("50c4"),u=i("14c3"),h=i("9263"),d=i("d039"),p=[].push,f=Math.min,m=4294967295,v=!d((function(){return!RegExp(m,"y")}));n("split",2,(function(t,e,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var n=String(o(this)),a=void 0===i?m:i>>>0;if(0===a)return[];if(void 0===t)return[n];if(!r(t))return e.call(n,t,a);var s,c,l,u=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,v=new RegExp(t.source,d+"g");while(s=h.call(v,n)){if(c=v.lastIndex,c>f&&(u.push(n.slice(f,s.index)),s.length>1&&s.index<n.length&&p.apply(u,s.slice(1)),l=s[0].length,f=c,u.length>=a))break;v.lastIndex===s.index&&v.lastIndex++}return f===n.length?!l&&v.test("")||u.push(""):u.push(n.slice(f)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var r=o(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,r,i):n.call(String(r),e,i)},function(t,r){var o=i(n,t,this,r,n!==e);if(o.done)return o.value;var h=a(t),d=String(this),p=s(h,RegExp),g=h.unicode,y=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(v?"y":"g"),_=new p(v?h:"^(?:"+h.source+")",y),x=void 0===r?m:r>>>0;if(0===x)return[];if(0===d.length)return null===u(_,d)?[d]:[];var b=0,w=0,M=[];while(w<d.length){_.lastIndex=v?w:0;var E,S=u(_,v?d:d.slice(w));if(null===S||(E=f(l(_.lastIndex+(v?0:w)),d.length))===b)w=c(d,w,g);else{if(M.push(d.slice(b,w)),M.length===x)return M;for(var A=1;A<=S.length-1;A++)if(M.push(S[A]),M.length===x)return M;w=b=E}}return M.push(d.slice(b)),M}]}),!v)},"13d5":function(t,e,i){"use strict";var n=i("23e7"),r=i("d58f").left,a=i("a640"),o=i("ae40"),s=a("reduce"),c=o("reduce",{1:0});n({target:"Array",proto:!0,forced:!s||!c},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(t,e,i){var n=i("c6b6"),r=i("9263");t.exports=function(t,e){var i=t.exec;if("function"===typeof i){var a=i.call(t,e);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"159b":function(t,e,i){var n=i("da84"),r=i("fdbc"),a=i("17c2"),o=i("9112");for(var s in r){var c=n[s],l=c&&c.prototype;if(l&&l.forEach!==a)try{o(l,"forEach",a)}catch(u){l.forEach=a}}},"17c2":function(t,e,i){"use strict";var n=i("b727").forEach,r=i("a640"),a=i("ae40"),o=r("forEach"),s=a("forEach");t.exports=o&&s?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"1be4":function(t,e,i){var n=i("d066");t.exports=n("document","documentElement")},"1c0b":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(t,e,i){var n=i("b622"),r=n("iterator"),a=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){a=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(c){}t.exports=function(t,e){if(!e&&!a)return!1;var i=!1;try{var n={};n[r]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(c){}return i}},"1d80":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},"1dde":function(t,e,i){var n=i("d039"),r=i("b622"),a=i("2d00"),o=r("species");t.exports=function(t){return a>=51||!n((function(){var e=[],i=e.constructor={};return i[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"217d":function(t,e){function i(t,e){var i,n=0,r=t.length;for(n;n<r;n++)if(i=e(t[n],n),!1===i)break}function n(t){return"[object Array]"===Object.prototype.toString.apply(t)}function r(t){return"function"===typeof t}t.exports={isFunction:r,isArray:n,each:i}},"23cb":function(t,e,i){var n=i("a691"),r=Math.max,a=Math.min;t.exports=function(t,e){var i=n(t);return i<0?r(i+e,0):a(i,e)}},"23e7":function(t,e,i){var n=i("da84"),r=i("06cf").f,a=i("9112"),o=i("6eeb"),s=i("ce4e"),c=i("e893"),l=i("94ca");t.exports=function(t,e){var i,u,h,d,p,f,m=t.target,v=t.global,g=t.stat;if(u=v?n:g?n[m]||s(m,{}):(n[m]||{}).prototype,u)for(h in e){if(p=e[h],t.noTargetGet?(f=r(u,h),d=f&&f.value):d=u[h],i=l(v?h:m+(g?".":"#")+h,t.forced),!i&&void 0!==d){if(typeof p===typeof d)continue;c(p,d)}(t.sham||d&&d.sham)&&a(p,"sham",!0),o(u,h,p,t)}}},"241c":function(t,e,i){var n=i("ca84"),r=i("7839"),a=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,a)}},"25f0":function(t,e,i){"use strict";var n=i("6eeb"),r=i("825a"),a=i("d039"),o=i("ad6d"),s="toString",c=RegExp.prototype,l=c[s],u=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),h=l.name!=s;(u||h)&&n(RegExp.prototype,s,(function(){var t=r(this),e=String(t.source),i=t.flags,n=String(void 0===i&&t instanceof RegExp&&!("flags"in c)?o.call(t):i);return"/"+e+"/"+n}),{unsafe:!0})},"2d00":function(t,e,i){var n,r,a=i("da84"),o=i("342f"),s=a.process,c=s&&s.versions,l=c&&c.v8;l?(n=l.split("."),r=n[0]+n[1]):o&&(n=o.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/),n&&(r=n[1]))),t.exports=r&&+r},"342f":function(t,e,i){var n=i("d066");t.exports=n("navigator","userAgent")||""},"35a1":function(t,e,i){var n=i("f5df"),r=i("3f8c"),a=i("b622"),o=a("iterator");t.exports=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||r[n(t)]}},"37e8":function(t,e,i){var n=i("83ab"),r=i("9bf2"),a=i("825a"),o=i("df75");t.exports=n?Object.defineProperties:function(t,e){a(t);var i,n=o(e),s=n.length,c=0;while(s>c)r.f(t,i=n[c++],e[i]);return t}},"3b81":function(t,e,i){},"3bbe":function(t,e,i){var n=i("861d");t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},"3ca3":function(t,e,i){"use strict";var n=i("6547").charAt,r=i("69f3"),a=i("7dd0"),o="String Iterator",s=r.set,c=r.getterFor(o);a(String,"String",(function(t){s(this,{type:o,string:String(t),index:0})}),(function(){var t,e=c(this),i=e.string,r=e.index;return r>=i.length?{value:void 0,done:!0}:(t=n(i,r),e.index+=t.length,{value:t,done:!1})}))},"3f8c":function(t,e){t.exports={}},4160:function(t,e,i){"use strict";var n=i("23e7"),r=i("17c2");n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"428f":function(t,e,i){var n=i("da84");t.exports=n},"42a0":function(t,e){var i=9007199254740991,n="[object Arguments]",r="[object Function]",a="[object GeneratorFunction]",o=/^(?:0|[1-9]\d*)$/;function s(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function c(t,e){var i=-1,n=Array(t);while(++i<t)n[i]=e(i);return n}function l(t,e){return function(i){return t(e(i))}}var u=Object.prototype,h=u.hasOwnProperty,d=u.toString,p=u.propertyIsEnumerable,f=l(Object.keys,Object),m=Math.max,v=!p.call({valueOf:1},"valueOf");function g(t,e){var i=C(t)||T(t)?c(t.length,String):[],n=i.length,r=!!n;for(var a in t)!e&&!h.call(t,a)||r&&("length"==a||M(a,n))||i.push(a);return i}function y(t,e,i){var n=t[e];h.call(t,e)&&A(n,i)&&(void 0!==i||e in t)||(t[e]=i)}function _(t){if(!S(t))return f(t);var e=[];for(var i in Object(t))h.call(t,i)&&"constructor"!=i&&e.push(i);return e}function x(t,e){return e=m(void 0===e?t.length-1:e,0),function(){var i=arguments,n=-1,r=m(i.length-e,0),a=Array(r);while(++n<r)a[n]=i[e+n];n=-1;var o=Array(e+1);while(++n<e)o[n]=i[n];return o[e]=a,s(t,this,o)}}function b(t,e,i,n){i||(i={});var r=-1,a=e.length;while(++r<a){var o=e[r],s=n?n(i[o],t[o],o,i,t):void 0;y(i,o,void 0===s?t[o]:s)}return i}function w(t){return x((function(e,i){var n=-1,r=i.length,a=r>1?i[r-1]:void 0,o=r>2?i[2]:void 0;a=t.length>3&&"function"==typeof a?(r--,a):void 0,o&&E(i[0],i[1],o)&&(a=r<3?void 0:a,r=1),e=Object(e);while(++n<r){var s=i[n];s&&t(e,s,n,a)}return e}))}function M(t,e){return e=null==e?i:e,!!e&&("number"==typeof t||o.test(t))&&t>-1&&t%1==0&&t<e}function E(t,e,i){if(!O(i))return!1;var n=typeof e;return!!("number"==n?L(i)&&M(e,i.length):"string"==n&&e in i)&&A(i[e],t)}function S(t){var e=t&&t.constructor,i="function"==typeof e&&e.prototype||u;return t===i}function A(t,e){return t===e||t!==t&&e!==e}function T(t){return R(t)&&h.call(t,"callee")&&(!p.call(t,"callee")||d.call(t)==n)}var C=Array.isArray;function L(t){return null!=t&&I(t.length)&&!P(t)}function R(t){return U(t)&&L(t)}function P(t){var e=O(t)?d.call(t):"";return e==r||e==a}function I(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function O(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function U(t){return!!t&&"object"==typeof t}var D=w((function(t,e){if(v||S(e)||L(e))b(e,N(e),t);else for(var i in e)h.call(e,i)&&y(t,i,e[i])}));function N(t){return L(t)?g(t):_(t)}t.exports=D},"44ad":function(t,e,i){var n=i("d039"),r=i("c6b6"),a="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?a.call(t,""):Object(t)}:Object},"44d2":function(t,e,i){var n=i("b622"),r=i("7c73"),a=i("9bf2"),o=n("unscopables"),s=Array.prototype;void 0==s[o]&&a.f(s,o,{configurable:!0,value:r(null)}),t.exports=function(t){s[o][t]=!0}},"44e7":function(t,e,i){var n=i("861d"),r=i("c6b6"),a=i("b622"),o=a("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},"466d":function(t,e,i){"use strict";var n=i("d784"),r=i("825a"),a=i("50c4"),o=i("1d80"),s=i("8aa5"),c=i("14c3");n("match",1,(function(t,e,i){return[function(e){var i=o(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,i):new RegExp(e)[t](String(i))},function(t){var n=i(e,t,this);if(n.done)return n.value;var o=r(t),l=String(this);if(!o.global)return c(o,l);var u=o.unicode;o.lastIndex=0;var h,d=[],p=0;while(null!==(h=c(o,l))){var f=String(h[0]);d[p]=f,""===f&&(o.lastIndex=s(l,a(o.lastIndex),u)),p++}return 0===p?null:d}]}))},4840:function(t,e,i){var n=i("825a"),r=i("1c0b"),a=i("b622"),o=a("species");t.exports=function(t,e){var i,a=n(t).constructor;return void 0===a||void 0==(i=n(a)[o])?e:r(i)}},4930:function(t,e,i){var n=i("d039");t.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},"4d64":function(t,e,i){var n=i("fc6a"),r=i("50c4"),a=i("23cb"),o=function(t){return function(e,i,o){var s,c=n(e),l=r(c.length),u=a(o,l);if(t&&i!=i){while(l>u)if(s=c[u++],s!=s)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===i)return t||u||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},"4de4":function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").filter,a=i("1dde"),o=i("ae40"),s=a("filter"),c=o("filter");n({target:"Array",proto:!0,forced:!s||!c},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,i){"use strict";var n=i("0366"),r=i("7b0b"),a=i("9bdd"),o=i("e95a"),s=i("50c4"),c=i("8418"),l=i("35a1");t.exports=function(t){var e,i,u,h,d,p,f=r(t),m="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,y=void 0!==g,_=l(f),x=0;if(y&&(g=n(g,v>2?arguments[2]:void 0,2)),void 0==_||m==Array&&o(_))for(e=s(f.length),i=new m(e);e>x;x++)p=y?g(f[x],x):f[x],c(i,x,p);else for(h=_.call(f),d=h.next,i=new m;!(u=d.call(h)).done;x++)p=y?a(h,g,[u.value,x],!0):u.value,c(i,x,p);return i.length=x,i}},"50c4":function(t,e,i){var n=i("a691"),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},5135:function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},5692:function(t,e,i){var n=i("c430"),r=i("c6cd");(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:n?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,e,i){var n=i("d066"),r=i("241c"),a=i("7418"),o=i("825a");t.exports=n("Reflect","ownKeys")||function(t){var e=r.f(o(t)),i=a.f;return i?e.concat(i(t)):e}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var n=i("1d80"),r=i("5899"),a="["+r+"]",o=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),c=function(t){return function(e){var i=String(n(e));return 1&t&&(i=i.replace(o,"")),2&t&&(i=i.replace(s,"")),i}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"60da":function(t,e,i){"use strict";var n=i("83ab"),r=i("d039"),a=i("df75"),o=i("7418"),s=i("d1e7"),c=i("7b0b"),l=i("44ad"),u=Object.assign,h=Object.defineProperty;t.exports=!u||r((function(){if(n&&1!==u({b:1},u(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},i=Symbol(),r="abcdefghijklmnopqrst";return t[i]=7,r.split("").forEach((function(t){e[t]=t})),7!=u({},t)[i]||a(u({},e)).join("")!=r}))?function(t,e){var i=c(t),r=arguments.length,u=1,h=o.f,d=s.f;while(r>u){var p,f=l(arguments[u++]),m=h?a(f).concat(h(f)):a(f),v=m.length,g=0;while(v>g)p=m[g++],n&&!d.call(f,p)||(i[p]=f[p])}return i}:u},6547:function(t,e,i){var n=i("a691"),r=i("1d80"),a=function(t){return function(e,i){var a,o,s=String(r(e)),c=n(i),l=s.length;return c<0||c>=l?t?"":void 0:(a=s.charCodeAt(c),a<55296||a>56319||c+1===l||(o=s.charCodeAt(c+1))<56320||o>57343?t?s.charAt(c):a:t?s.slice(c,c+2):o-56320+(a-55296<<10)+65536)}};t.exports={codeAt:a(!1),charAt:a(!0)}},"65f0":function(t,e,i){var n=i("861d"),r=i("e8b5"),a=i("b622"),o=a("species");t.exports=function(t,e){var i;return r(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!r(i.prototype)?n(i)&&(i=i[o],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},"69f3":function(t,e,i){var n,r,a,o=i("7f9a"),s=i("da84"),c=i("861d"),l=i("9112"),u=i("5135"),h=i("f772"),d=i("d012"),p=s.WeakMap,f=function(t){return a(t)?r(t):n(t,{})},m=function(t){return function(e){var i;if(!c(e)||(i=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}};if(o){var v=new p,g=v.get,y=v.has,_=v.set;n=function(t,e){return _.call(v,t,e),e},r=function(t){return g.call(v,t)||{}},a=function(t){return y.call(v,t)}}else{var x=h("state");d[x]=!0,n=function(t,e){return l(t,x,e),e},r=function(t){return u(t,x)?t[x]:{}},a=function(t){return u(t,x)}}t.exports={set:n,get:r,has:a,enforce:f,getterFor:m}},"6dd8":function(t,e,i){"use strict";(function(t){var i=function(){if("undefined"!==typeof Map)return Map;function t(t,e){var i=-1;return t.some((function(t,n){return t[0]===e&&(i=n,!0)})),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var i=t(this.__entries__,e),n=this.__entries__[i];return n&&n[1]},e.prototype.set=function(e,i){var n=t(this.__entries__,e);~n?this.__entries__[n][1]=i:this.__entries__.push([e,i])},e.prototype.delete=function(e){var i=this.__entries__,n=t(i,e);~n&&i.splice(n,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var i=0,n=this.__entries__;i<n.length;i++){var r=n[i];t.call(e,r[1],r[0])}},e}()}(),n="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,r=function(){return"undefined"!==typeof t&&t.Math===Math?t:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")()}(),a=function(){return"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)}}(),o=2;function s(t,e){var i=!1,n=!1,r=0;function s(){i&&(i=!1,t()),n&&l()}function c(){a(s)}function l(){var t=Date.now();if(i){if(t-r<o)return;n=!0}else i=!0,n=!1,setTimeout(c,e);r=t}return l}var c=20,l=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,h=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=s(this.refresh.bind(this),c)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,i=e.indexOf(t);~i&&e.splice(i,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,i=void 0===e?"":e,n=l.some((function(t){return!!~i.indexOf(t)}));n&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),d=function(t,e){for(var i=0,n=Object.keys(e);i<n.length;i++){var r=n[i];Object.defineProperty(t,r,{value:e[r],enumerable:!1,writable:!1,configurable:!0})}return t},p=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||r},f=E(0,0,0,0);function m(t){return parseFloat(t)||0}function v(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.reduce((function(e,i){var n=t["border-"+i+"-width"];return e+m(n)}),0)}function g(t){for(var e=["top","right","bottom","left"],i={},n=0,r=e;n<r.length;n++){var a=r[n],o=t["padding-"+a];i[a]=m(o)}return i}function y(t){var e=t.getBBox();return E(0,0,e.width,e.height)}function _(t){var e=t.clientWidth,i=t.clientHeight;if(!e&&!i)return f;var n=p(t).getComputedStyle(t),r=g(n),a=r.left+r.right,o=r.top+r.bottom,s=m(n.width),c=m(n.height);if("border-box"===n.boxSizing&&(Math.round(s+a)!==e&&(s-=v(n,"left","right")+a),Math.round(c+o)!==i&&(c-=v(n,"top","bottom")+o)),!b(t)){var l=Math.round(s+a)-e,u=Math.round(c+o)-i;1!==Math.abs(l)&&(s-=l),1!==Math.abs(u)&&(c-=u)}return E(r.left,r.top,s,c)}var x=function(){return"undefined"!==typeof SVGGraphicsElement?function(t){return t instanceof p(t).SVGGraphicsElement}:function(t){return t instanceof p(t).SVGElement&&"function"===typeof t.getBBox}}();function b(t){return t===p(t).document.documentElement}function w(t){return n?x(t)?y(t):_(t):f}function M(t){var e=t.x,i=t.y,n=t.width,r=t.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return d(o,{x:e,y:i,width:n,height:r,top:i,right:e+n,bottom:r+i,left:e}),o}function E(t,e,i,n){return{x:t,y:e,width:i,height:n}}var S=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=E(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=w(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),A=function(){function t(t,e){var i=M(e);d(this,{target:t,contentRect:i})}return t}(),T=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new i,"function"!==typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof p(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new S(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(t instanceof p(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new A(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),C="undefined"!==typeof WeakMap?new WeakMap:new i,L=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=h.getInstance(),n=new T(e,i,this);C.set(this,n)}return t}();["observe","unobserve","disconnect"].forEach((function(t){L.prototype[t]=function(){var e;return(e=C.get(this))[t].apply(e,arguments)}}));var R=function(){return"undefined"!==typeof r.ResizeObserver?r.ResizeObserver:L}();e["a"]=R}).call(this,i("c8ba"))},"6ea2":function(t,e,i){"use strict";var n=i("890c"),r=i.n(n);r.a},"6eeb":function(t,e,i){var n=i("da84"),r=i("9112"),a=i("5135"),o=i("ce4e"),s=i("8925"),c=i("69f3"),l=c.get,u=c.enforce,h=String(String).split("String");(t.exports=function(t,e,i,s){var c=!!s&&!!s.unsafe,l=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof i&&("string"!=typeof e||a(i,"name")||r(i,"name",e),u(i).source=h.join("string"==typeof e?e:"")),t!==n?(c?!d&&t[e]&&(l=!0):delete t[e],l?t[e]=i:r(t,e,i)):l?t[e]=i:o(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},"6f53":function(t,e,i){var n=i("83ab"),r=i("df75"),a=i("fc6a"),o=i("d1e7").f,s=function(t){return function(e){var i,s=a(e),c=r(s),l=c.length,u=0,h=[];while(l>u)i=c[u++],n&&!o.call(s,i)||h.push(t?[i,s[i]]:s[i]);return h}};t.exports={entries:s(!0),values:s(!1)}},7156:function(t,e,i){var n=i("861d"),r=i("d2bb");t.exports=function(t,e,i){var a,o;return r&&"function"==typeof(a=e.constructor)&&a!==i&&n(o=a.prototype)&&o!==i.prototype&&r(t,o),t}},7418:function(t,e){e.f=Object.getOwnPropertySymbols},"746f":function(t,e,i){var n=i("428f"),r=i("5135"),a=i("e538"),o=i("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});r(e,t)||o(e,t,{value:a.f(t)})}},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(t,e,i){var n=i("1d80");t.exports=function(t){return Object(n(t))}},"7c73":function(t,e,i){var n,r=i("825a"),a=i("37e8"),o=i("7839"),s=i("d012"),c=i("1be4"),l=i("cc12"),u=i("f772"),h=">",d="<",p="prototype",f="script",m=u("IE_PROTO"),v=function(){},g=function(t){return d+f+h+t+d+"/"+f+h},y=function(t){t.write(g("")),t.close();var e=t.parentWindow.Object;return t=null,e},_=function(){var t,e=l("iframe"),i="java"+f+":";return e.style.display="none",c.appendChild(e),e.src=String(i),t=e.contentWindow.document,t.open(),t.write(g("document.F=Object")),t.close(),t.F},x=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}x=n?y(n):_();var t=o.length;while(t--)delete x[p][o[t]];return x()};s[m]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(v[p]=r(t),i=new v,v[p]=null,i[m]=t):i=x(),void 0===e?i:a(i,e)}},"7dd0":function(t,e,i){"use strict";var n=i("23e7"),r=i("9ed3"),a=i("e163"),o=i("d2bb"),s=i("d44e"),c=i("9112"),l=i("6eeb"),u=i("b622"),h=i("c430"),d=i("3f8c"),p=i("ae93"),f=p.IteratorPrototype,m=p.BUGGY_SAFARI_ITERATORS,v=u("iterator"),g="keys",y="values",_="entries",x=function(){return this};t.exports=function(t,e,i,u,p,b,w){r(i,e,u);var M,E,S,A=function(t){if(t===p&&P)return P;if(!m&&t in L)return L[t];switch(t){case g:return function(){return new i(this,t)};case y:return function(){return new i(this,t)};case _:return function(){return new i(this,t)}}return function(){return new i(this)}},T=e+" Iterator",C=!1,L=t.prototype,R=L[v]||L["@@iterator"]||p&&L[p],P=!m&&R||A(p),I="Array"==e&&L.entries||R;if(I&&(M=a(I.call(new t)),f!==Object.prototype&&M.next&&(h||a(M)===f||(o?o(M,f):"function"!=typeof M[v]&&c(M,v,x)),s(M,T,!0,!0),h&&(d[T]=x))),p==y&&R&&R.name!==y&&(C=!0,P=function(){return R.call(this)}),h&&!w||L[v]===P||c(L,v,P),d[e]=P,p)if(E={values:A(y),keys:b?P:A(g),entries:A(_)},w)for(S in E)(m||C||!(S in L))&&l(L,S,E[S]);else n({target:e,proto:!0,forced:m||C},E);return E}},"7f9a":function(t,e,i){var n=i("da84"),r=i("8925"),a=n.WeakMap;t.exports="function"===typeof a&&/native code/.test(r(a))},"825a":function(t,e,i){var n=i("861d");t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},"83ab":function(t,e,i){var n=i("d039");t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(t,e,i){"use strict";var n=i("c04e"),r=i("9bf2"),a=i("5c6c");t.exports=function(t,e,i){var o=n(e);o in t?r.f(t,o,a(0,i)):t[o]=i}},"861d":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},"88bc":function(t,e,i){(function(e){var i=1/0,n=9007199254740991,r="[object Arguments]",a="[object Function]",o="[object GeneratorFunction]",s="[object Symbol]",c="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,u=c||l||Function("return this")();function h(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function d(t,e){var i=-1,n=t?t.length:0,r=Array(n);while(++i<n)r[i]=e(t[i],i,t);return r}function p(t,e){var i=-1,n=e.length,r=t.length;while(++i<n)t[r+i]=e[i];return t}var f=Object.prototype,m=f.hasOwnProperty,v=f.toString,g=u.Symbol,y=f.propertyIsEnumerable,_=g?g.isConcatSpreadable:void 0,x=Math.max;function b(t,e,i,n,r){var a=-1,o=t.length;i||(i=S),r||(r=[]);while(++a<o){var s=t[a];e>0&&i(s)?e>1?b(s,e-1,i,n,r):p(r,s):n||(r[r.length]=s)}return r}function w(t,e){return t=Object(t),M(t,e,(function(e,i){return i in t}))}function M(t,e,i){var n=-1,r=e.length,a={};while(++n<r){var o=e[n],s=t[o];i(s,o)&&(a[o]=s)}return a}function E(t,e){return e=x(void 0===e?t.length-1:e,0),function(){var i=arguments,n=-1,r=x(i.length-e,0),a=Array(r);while(++n<r)a[n]=i[e+n];n=-1;var o=Array(e+1);while(++n<e)o[n]=i[n];return o[e]=a,h(t,this,o)}}function S(t){return C(t)||T(t)||!!(_&&t&&t[_])}function A(t){if("string"==typeof t||D(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}function T(t){return R(t)&&m.call(t,"callee")&&(!y.call(t,"callee")||v.call(t)==r)}var C=Array.isArray;function L(t){return null!=t&&I(t.length)&&!P(t)}function R(t){return U(t)&&L(t)}function P(t){var e=O(t)?v.call(t):"";return e==a||e==o}function I(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}function O(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function U(t){return!!t&&"object"==typeof t}function D(t){return"symbol"==typeof t||U(t)&&v.call(t)==s}var N=E((function(t,e){return null==t?{}:w(t,d(b(e,1),A))}));t.exports=N}).call(this,i("c8ba"))},"890c":function(t,e,i){},8925:function(t,e,i){var n=i("c6cd"),r=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return r.call(t)}),t.exports=n.inspectSource},"8aa5":function(t,e,i){"use strict";var n=i("6547").charAt;t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},"8e95":function(t,e,i){var n=i("c195");t.exports=new n},9020:function(t,e){function i(t){this.options=t,!t.deferSetup&&this.setup()}i.prototype={constructor:i,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(t){return this.options===t||this.options.match===t}},t.exports=i},"90e3":function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++i+n).toString(36)}},9112:function(t,e,i){var n=i("83ab"),r=i("9bf2"),a=i("5c6c");t.exports=n?function(t,e,i){return r.f(t,e,a(1,i))}:function(t,e,i){return t[e]=i,t}},9263:function(t,e,i){"use strict";var n=i("ad6d"),r=i("9f7f"),a=RegExp.prototype.exec,o=String.prototype.replace,s=a,c=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=r.UNSUPPORTED_Y||r.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],h=c||u||l;h&&(s=function(t){var e,i,r,s,h=this,d=l&&h.sticky,p=n.call(h),f=h.source,m=0,v=t;return d&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),v=String(t).slice(h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==t[h.lastIndex-1])&&(f="(?: "+f+")",v=" "+v,m++),i=new RegExp("^(?:"+f+")",p)),u&&(i=new RegExp("^"+f+"$(?!\\s)",p)),c&&(e=h.lastIndex),r=a.call(d?i:h,v),d?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=h.lastIndex,h.lastIndex+=r[0].length):h.lastIndex=0:c&&r&&(h.lastIndex=h.global?r.index+r[0].length:e),u&&r&&r.length>1&&o.call(r[0],i,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(r[s]=void 0)})),r}),t.exports=s},"94ca":function(t,e,i){var n=i("d039"),r=/#|\.prototype\./,a=function(t,e){var i=s[o(t)];return i==l||i!=c&&("function"==typeof e?n(e):!!e)},o=a.normalize=function(t){return String(t).replace(r,".").toLowerCase()},s=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},"99af":function(t,e,i){"use strict";var n=i("23e7"),r=i("d039"),a=i("e8b5"),o=i("861d"),s=i("7b0b"),c=i("50c4"),l=i("8418"),u=i("65f0"),h=i("1dde"),d=i("b622"),p=i("2d00"),f=d("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",g=p>=51||!r((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),y=h("concat"),_=function(t){if(!o(t))return!1;var e=t[f];return void 0!==e?!!e:a(t)},x=!g||!y;n({target:"Array",proto:!0,forced:x},{concat:function(t){var e,i,n,r,a,o=s(this),h=u(o,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(a=-1===e?o:arguments[e],_(a)){if(r=c(a.length),d+r>m)throw TypeError(v);for(i=0;i<r;i++,d++)i in a&&l(h,d,a[i])}else{if(d>=m)throw TypeError(v);l(h,d++,a)}return h.length=d,h}})},"9bdd":function(t,e,i){var n=i("825a");t.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(o){var a=t["return"];throw void 0!==a&&n(a.call(t)),o}}},"9bf2":function(t,e,i){var n=i("83ab"),r=i("0cfb"),a=i("825a"),o=i("c04e"),s=Object.defineProperty;e.f=n?s:function(t,e,i){if(a(t),e=o(e,!0),a(i),r)try{return s(t,e,i)}catch(n){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},"9ed3":function(t,e,i){"use strict";var n=i("ae93").IteratorPrototype,r=i("7c73"),a=i("5c6c"),o=i("d44e"),s=i("3f8c"),c=function(){return this};t.exports=function(t,e,i){var l=e+" Iterator";return t.prototype=r(n,{next:a(1,i)}),o(t,l,!1,!0),s[l]=c,t}},"9f7f":function(t,e,i){"use strict";var n=i("d039");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a15b:function(t,e,i){"use strict";var n=i("23e7"),r=i("44ad"),a=i("fc6a"),o=i("a640"),s=[].join,c=r!=Object,l=o("join",",");n({target:"Array",proto:!0,forced:c||!l},{join:function(t){return s.call(a(this),void 0===t?",":t)}})},a48b:function(t,e,i){var n=i("0497"),r=function(t){var e=/[height|width]$/;return e.test(t)},a=function(t){var e="",i=Object.keys(t);return i.forEach((function(a,o){var s=t[a];a=n(a),r(a)&&"number"===typeof s&&(s+="px"),e+=!0===s?a:!1===s?"not "+a:"("+a+": "+s+")",o<i.length-1&&(e+=" and ")})),e},o=function(t){var e="";return"string"===typeof t?t:t instanceof Array?(t.forEach((function(i,n){e+=a(i),n<t.length-1&&(e+=", ")})),e):a(t)};t.exports=o},a4d3:function(t,e,i){"use strict";var n=i("23e7"),r=i("da84"),a=i("d066"),o=i("c430"),s=i("83ab"),c=i("4930"),l=i("fdbf"),u=i("d039"),h=i("5135"),d=i("e8b5"),p=i("861d"),f=i("825a"),m=i("7b0b"),v=i("fc6a"),g=i("c04e"),y=i("5c6c"),_=i("7c73"),x=i("df75"),b=i("241c"),w=i("057f"),M=i("7418"),E=i("06cf"),S=i("9bf2"),A=i("d1e7"),T=i("9112"),C=i("6eeb"),L=i("5692"),R=i("f772"),P=i("d012"),I=i("90e3"),O=i("b622"),U=i("e538"),D=i("746f"),N=i("d44e"),z=i("69f3"),F=i("b727").forEach,B=R("hidden"),G="Symbol",k="prototype",H=O("toPrimitive"),V=z.set,j=z.getterFor(G),W=Object[k],X=r.Symbol,Y=a("JSON","stringify"),Z=E.f,q=S.f,J=w.f,Q=A.f,K=L("symbols"),$=L("op-symbols"),tt=L("string-to-symbol-registry"),et=L("symbol-to-string-registry"),it=L("wks"),nt=r.QObject,rt=!nt||!nt[k]||!nt[k].findChild,at=s&&u((function(){return 7!=_(q({},"a",{get:function(){return q(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=Z(W,e);n&&delete W[e],q(t,e,i),n&&t!==W&&q(W,e,n)}:q,ot=function(t,e){var i=K[t]=_(X[k]);return V(i,{type:G,tag:t,description:e}),s||(i.description=e),i},st=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof X},ct=function(t,e,i){t===W&&ct($,e,i),f(t);var n=g(e,!0);return f(i),h(K,n)?(i.enumerable?(h(t,B)&&t[B][n]&&(t[B][n]=!1),i=_(i,{enumerable:y(0,!1)})):(h(t,B)||q(t,B,y(1,{})),t[B][n]=!0),at(t,n,i)):q(t,n,i)},lt=function(t,e){f(t);var i=v(e),n=x(i).concat(ft(i));return F(n,(function(e){s&&!ht.call(i,e)||ct(t,e,i[e])})),t},ut=function(t,e){return void 0===e?_(t):lt(_(t),e)},ht=function(t){var e=g(t,!0),i=Q.call(this,e);return!(this===W&&h(K,e)&&!h($,e))&&(!(i||!h(this,e)||!h(K,e)||h(this,B)&&this[B][e])||i)},dt=function(t,e){var i=v(t),n=g(e,!0);if(i!==W||!h(K,n)||h($,n)){var r=Z(i,n);return!r||!h(K,n)||h(i,B)&&i[B][n]||(r.enumerable=!0),r}},pt=function(t){var e=J(v(t)),i=[];return F(e,(function(t){h(K,t)||h(P,t)||i.push(t)})),i},ft=function(t){var e=t===W,i=J(e?$:v(t)),n=[];return F(i,(function(t){!h(K,t)||e&&!h(W,t)||n.push(K[t])})),n};if(c||(X=function(){if(this instanceof X)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=I(t),i=function(t){this===W&&i.call($,t),h(this,B)&&h(this[B],e)&&(this[B][e]=!1),at(this,e,y(1,t))};return s&&rt&&at(W,e,{configurable:!0,set:i}),ot(e,t)},C(X[k],"toString",(function(){return j(this).tag})),C(X,"withoutSetter",(function(t){return ot(I(t),t)})),A.f=ht,S.f=ct,E.f=dt,b.f=w.f=pt,M.f=ft,U.f=function(t){return ot(O(t),t)},s&&(q(X[k],"description",{configurable:!0,get:function(){return j(this).description}}),o||C(W,"propertyIsEnumerable",ht,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:X}),F(x(it),(function(t){D(t)})),n({target:G,stat:!0,forced:!c},{for:function(t){var e=String(t);if(h(tt,e))return tt[e];var i=X(e);return tt[e]=i,et[i]=e,i},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(h(et,t))return et[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),n({target:"Object",stat:!0,forced:!c,sham:!s},{create:ut,defineProperty:ct,defineProperties:lt,getOwnPropertyDescriptor:dt}),n({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:pt,getOwnPropertySymbols:ft}),n({target:"Object",stat:!0,forced:u((function(){M.f(1)}))},{getOwnPropertySymbols:function(t){return M.f(m(t))}}),Y){var mt=!c||u((function(){var t=X();return"[null]"!=Y([t])||"{}"!=Y({a:t})||"{}"!=Y(Object(t))}));n({target:"JSON",stat:!0,forced:mt},{stringify:function(t,e,i){var n,r=[t],a=1;while(arguments.length>a)r.push(arguments[a++]);if(n=e,(p(e)||void 0!==t)&&!st(t))return d(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!st(e))return e}),r[1]=e,Y.apply(null,r)}})}X[k][H]||T(X[k],H,X[k].valueOf),N(X,G),P[B]=!0},a623:function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").every,a=i("a640"),o=i("ae40"),s=a("every"),c=o("every");n({target:"Array",proto:!0,forced:!s||!c},{every:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},a630:function(t,e,i){var n=i("23e7"),r=i("4df4"),a=i("1c7e"),o=!a((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:o},{from:r})},a640:function(t,e,i){"use strict";var n=i("d039");t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){throw 1},1)}))}},a691:function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},a9e3:function(t,e,i){"use strict";var n=i("83ab"),r=i("da84"),a=i("94ca"),o=i("6eeb"),s=i("5135"),c=i("c6b6"),l=i("7156"),u=i("c04e"),h=i("d039"),d=i("7c73"),p=i("241c").f,f=i("06cf").f,m=i("9bf2").f,v=i("58a8").trim,g="Number",y=r[g],_=y.prototype,x=c(d(_))==g,b=function(t){var e,i,n,r,a,o,s,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=v(l),e=l.charCodeAt(0),43===e||45===e){if(i=l.charCodeAt(2),88===i||120===i)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+l}for(a=l.slice(2),o=a.length,s=0;s<o;s++)if(c=a.charCodeAt(s),c<48||c>r)return NaN;return parseInt(a,n)}return+l};if(a(g,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var w,M=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof M&&(x?h((function(){_.valueOf.call(i)})):c(i)!=g)?l(new y(b(e)),i,M):b(e)},E=n?p(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;E.length>S;S++)s(y,w=E[S])&&!s(M,w)&&m(M,w,f(y,w));M.prototype=_,_.constructor=M,o(r,g,M)}},ac1f:function(t,e,i){"use strict";var n=i("23e7"),r=i("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,i){"use strict";var n=i("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ae40:function(t,e,i){var n=i("83ab"),r=i("d039"),a=i("5135"),o=Object.defineProperty,s={},c=function(t){throw t};t.exports=function(t,e){if(a(s,t))return s[t];e||(e={});var i=[][t],l=!!a(e,"ACCESSORS")&&e.ACCESSORS,u=a(e,0)?e[0]:c,h=a(e,1)?e[1]:void 0;return s[t]=!!i&&!r((function(){if(l&&!n)return!0;var t={length:-1};l?o(t,1,{enumerable:!0,get:c}):t[1]=1,i.call(t,u,h)}))}},ae93:function(t,e,i){"use strict";var n,r,a,o=i("e163"),s=i("9112"),c=i("5135"),l=i("b622"),u=i("c430"),h=l("iterator"),d=!1,p=function(){return this};[].keys&&(a=[].keys(),"next"in a?(r=o(o(a)),r!==Object.prototype&&(n=r)):d=!0),void 0==n&&(n={}),u||c(n,h)||s(n,h,p),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},b041:function(t,e,i){"use strict";var n=i("00ee"),r=i("f5df");t.exports=n?{}.toString:function(){return"[object "+r(this)+"]"}},b0c0:function(t,e,i){var n=i("83ab"),r=i("9bf2").f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/,c="name";n&&!(c in a)&&r(a,c,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},b622:function(t,e,i){var n=i("da84"),r=i("5692"),a=i("5135"),o=i("90e3"),s=i("4930"),c=i("fdbf"),l=r("wks"),u=n.Symbol,h=c?u:u&&u.withoutSetter||o;t.exports=function(t){return a(l,t)||(s&&a(u,t)?l[t]=u[t]:l[t]=h("Symbol."+t)),l[t]}},b64b:function(t,e,i){var n=i("23e7"),r=i("7b0b"),a=i("df75"),o=i("d039"),s=o((function(){a(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(t){return a(r(t))}})},b727:function(t,e,i){var n=i("0366"),r=i("44ad"),a=i("7b0b"),o=i("50c4"),s=i("65f0"),c=[].push,l=function(t){var e=1==t,i=2==t,l=3==t,u=4==t,h=6==t,d=5==t||h;return function(p,f,m,v){for(var g,y,_=a(p),x=r(_),b=n(f,m,3),w=o(x.length),M=0,E=v||s,S=e?E(p,w):i?E(p,0):void 0;w>M;M++)if((d||M in x)&&(g=x[M],y=b(g,M,_),t))if(e)S[M]=y;else if(y)switch(t){case 3:return!0;case 5:return g;case 6:return M;case 2:c.call(S,g)}else if(u)return!1;return h?-1:l||u?u:S}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},bcf7:function(t,e,i){var n=i("9020"),r=i("217d").each;function a(t,e){this.query=t,this.isUnconditional=e,this.handlers=[],this.mql=window.matchMedia(t);var i=this;this.listener=function(t){i.mql=t.currentTarget||t,i.assess()},this.mql.addListener(this.listener)}a.prototype={constuctor:a,addHandler:function(t){var e=new n(t);this.handlers.push(e),this.matches()&&e.on()},removeHandler:function(t){var e=this.handlers;r(e,(function(i,n){if(i.equals(t))return i.destroy(),!e.splice(n,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){r(this.handlers,(function(t){t.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var t=this.matches()?"on":"off";r(this.handlers,(function(e){e[t]()}))}},t.exports=a},c04e:function(t,e,i){var n=i("861d");t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},c195:function(t,e,i){var n=i("bcf7"),r=i("217d"),a=r.each,o=r.isFunction,s=r.isArray;function c(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}c.prototype={constructor:c,register:function(t,e,i){var r=this.queries,c=i&&this.browserIsIncapable;return r[t]||(r[t]=new n(t,c)),o(e)&&(e={match:e}),s(e)||(e=[e]),a(e,(function(e){o(e)&&(e={match:e}),r[t].addHandler(e)})),this},unregister:function(t,e){var i=this.queries[t];return i&&(e?i.removeHandler(e):(i.clear(),delete this.queries[t])),this}},t.exports=c},c430:function(t,e){t.exports=!1},c6b6:function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},c6cd:function(t,e,i){var n=i("da84"),r=i("ce4e"),a="__core-js_shared__",o=n[a]||r(a,{});t.exports=o},c832:function(t,e,i){(function(e){var i="Expected a function",n="__lodash_hash_undefined__",r=1/0,a="[object Function]",o="[object GeneratorFunction]",s="[object Symbol]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,u=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/[\\^$.*+?()[\]{}|]/g,p=/\\(\\)?/g,f=/^\[object .+?Constructor\]$/,m="object"==typeof e&&e&&e.Object===Object&&e,v="object"==typeof self&&self&&self.Object===Object&&self,g=m||v||Function("return this")();function y(t,e){return null==t?void 0:t[e]}function _(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(i){}return e}var x=Array.prototype,b=Function.prototype,w=Object.prototype,M=g["__core-js_shared__"],E=function(){var t=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),S=b.toString,A=w.hasOwnProperty,T=w.toString,C=RegExp("^"+S.call(A).replace(d,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=g.Symbol,R=x.splice,P=at(g,"Map"),I=at(Object,"create"),O=L?L.prototype:void 0,U=O?O.toString:void 0;function D(t){var e=-1,i=t?t.length:0;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}function N(){this.__data__=I?I(null):{}}function z(t){return this.has(t)&&delete this.__data__[t]}function F(t){var e=this.__data__;if(I){var i=e[t];return i===n?void 0:i}return A.call(e,t)?e[t]:void 0}function B(t){var e=this.__data__;return I?void 0!==e[t]:A.call(e,t)}function G(t,e){var i=this.__data__;return i[t]=I&&void 0===e?n:e,this}function k(t){var e=-1,i=t?t.length:0;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}function H(){this.__data__=[]}function V(t){var e=this.__data__,i=$(e,t);if(i<0)return!1;var n=e.length-1;return i==n?e.pop():R.call(e,i,1),!0}function j(t){var e=this.__data__,i=$(e,t);return i<0?void 0:e[i][1]}function W(t){return $(this.__data__,t)>-1}function X(t,e){var i=this.__data__,n=$(i,t);return n<0?i.push([t,e]):i[n][1]=e,this}function Y(t){var e=-1,i=t?t.length:0;this.clear();while(++e<i){var n=t[e];this.set(n[0],n[1])}}function Z(){this.__data__={hash:new D,map:new(P||k),string:new D}}function q(t){return rt(this,t)["delete"](t)}function J(t){return rt(this,t).get(t)}function Q(t){return rt(this,t).has(t)}function K(t,e){return rt(this,t).set(t,e),this}function $(t,e){var i=t.length;while(i--)if(pt(t[i][0],e))return i;return-1}function tt(t,e){e=ot(e,t)?[e]:nt(e);var i=0,n=e.length;while(null!=t&&i<n)t=t[ut(e[i++])];return i&&i==n?t:void 0}function et(t){if(!vt(t)||ct(t))return!1;var e=mt(t)||_(t)?C:f;return e.test(ht(t))}function it(t){if("string"==typeof t)return t;if(yt(t))return U?U.call(t):"";var e=t+"";return"0"==e&&1/t==-r?"-0":e}function nt(t){return ft(t)?t:lt(t)}function rt(t,e){var i=t.__data__;return st(e)?i["string"==typeof e?"string":"hash"]:i.map}function at(t,e){var i=y(t,e);return et(i)?i:void 0}function ot(t,e){if(ft(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!yt(t))||(l.test(t)||!c.test(t)||null!=e&&t in Object(e))}function st(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function ct(t){return!!E&&E in t}D.prototype.clear=N,D.prototype["delete"]=z,D.prototype.get=F,D.prototype.has=B,D.prototype.set=G,k.prototype.clear=H,k.prototype["delete"]=V,k.prototype.get=j,k.prototype.has=W,k.prototype.set=X,Y.prototype.clear=Z,Y.prototype["delete"]=q,Y.prototype.get=J,Y.prototype.has=Q,Y.prototype.set=K;var lt=dt((function(t){t=_t(t);var e=[];return u.test(t)&&e.push(""),t.replace(h,(function(t,i,n,r){e.push(n?r.replace(p,"$1"):i||t)})),e}));function ut(t){if("string"==typeof t||yt(t))return t;var e=t+"";return"0"==e&&1/t==-r?"-0":e}function ht(t){if(null!=t){try{return S.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function dt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var o=t.apply(this,i);return n.cache=a.set(r,o),o};return n.cache=new(dt.Cache||Y),n}function pt(t,e){return t===e||t!==t&&e!==e}dt.Cache=Y;var ft=Array.isArray;function mt(t){var e=vt(t)?T.call(t):"";return e==a||e==o}function vt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function gt(t){return!!t&&"object"==typeof t}function yt(t){return"symbol"==typeof t||gt(t)&&T.call(t)==s}function _t(t){return null==t?"":it(t)}function xt(t,e,i){var n=null==t?void 0:tt(t,e);return void 0===n?i:n}t.exports=xt}).call(this,i("c8ba"))},c8ba:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(n){"object"===typeof window&&(i=window)}t.exports=i},c975:function(t,e,i){"use strict";var n=i("23e7"),r=i("4d64").indexOf,a=i("a640"),o=i("ae40"),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,l=a("indexOf"),u=o("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:c||!l||!u},{indexOf:function(t){return c?s.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},ca84:function(t,e,i){var n=i("5135"),r=i("fc6a"),a=i("4d64").indexOf,o=i("d012");t.exports=function(t,e){var i,s=r(t),c=0,l=[];for(i in s)!n(o,i)&&n(s,i)&&l.push(i);while(e.length>c)n(s,i=e[c++])&&(~a(l,i)||l.push(i));return l}},cc12:function(t,e,i){var n=i("da84"),r=i("861d"),a=n.document,o=r(a)&&r(a.createElement);t.exports=function(t){return o?a.createElement(t):{}}},cca6:function(t,e,i){var n=i("23e7"),r=i("60da");n({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},ce4e:function(t,e,i){var n=i("da84"),r=i("9112");t.exports=function(t,e){try{r(n,t,e)}catch(i){n[t]=e}return e}},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,i){var n=i("428f"),r=i("da84"),a=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?a(n[t])||a(r[t]):n[t]&&n[t][e]||r[t]&&r[t][e]}},d1e7:function(t,e,i){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,a=r&&!n.call({1:2},1);e.f=a?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},d28b:function(t,e,i){var n=i("746f");n("iterator")},d2bb:function(t,e,i){var n=i("825a"),r=i("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(i,[]),e=i instanceof Array}catch(a){}return function(i,a){return n(i),r(a),e?t.call(i,a):i.__proto__=a,i}}():void 0)},d3b7:function(t,e,i){var n=i("00ee"),r=i("6eeb"),a=i("b041");n||r(Object.prototype,"toString",a,{unsafe:!0})},d44e:function(t,e,i){var n=i("9bf2").f,r=i("5135"),a=i("b622"),o=a("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},d58f:function(t,e,i){var n=i("1c0b"),r=i("7b0b"),a=i("44ad"),o=i("50c4"),s=function(t){return function(e,i,s,c){n(i);var l=r(e),u=a(l),h=o(l.length),d=t?h-1:0,p=t?-1:1;if(s<2)while(1){if(d in u){c=u[d],d+=p;break}if(d+=p,t?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;t?d>=0:h>d;d+=p)d in u&&(c=i(c,u[d],d,l));return c}};t.exports={left:s(!1),right:s(!0)}},d784:function(t,e,i){"use strict";i("ac1f");var n=i("6eeb"),r=i("d039"),a=i("b622"),o=i("9263"),s=i("9112"),c=a("species"),l=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),h=a("replace"),d=function(){return!!/./[h]&&""===/./[h]("a","$0")}(),p=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));t.exports=function(t,e,i,h){var f=a(t),m=!r((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),v=m&&!r((function(){var e=!1,i=/a/;return"split"===t&&(i={},i.constructor={},i.constructor[c]=function(){return i},i.flags="",i[f]=/./[f]),i.exec=function(){return e=!0,null},i[f](""),!e}));if(!m||!v||"replace"===t&&(!l||!u||d)||"split"===t&&!p){var g=/./[f],y=i(f,""[t],(function(t,e,i,n,r){return e.exec===o?m&&!r?{done:!0,value:g.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),_=y[0],x=y[1];n(String.prototype,t,_),n(RegExp.prototype,f,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)})}h&&s(RegExp.prototype[f],"sham",!0)}},d81d:function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").map,a=i("1dde"),o=i("ae40"),s=a("map"),c=o("map");n({target:"Array",proto:!0,forced:!s||!c},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},da84:function(t,e,i){(function(e){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||Function("return this")()}).call(this,i("c8ba"))},dbb4:function(t,e,i){var n=i("23e7"),r=i("83ab"),a=i("56ef"),o=i("fc6a"),s=i("06cf"),c=i("8418");n({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){var e,i,n=o(t),r=s.f,l=a(n),u={},h=0;while(l.length>h)i=r(n,e=l[h++]),void 0!==i&&c(u,e,i);return u}})},ddb0:function(t,e,i){var n=i("da84"),r=i("fdbc"),a=i("e260"),o=i("9112"),s=i("b622"),c=s("iterator"),l=s("toStringTag"),u=a.values;for(var h in r){var d=n[h],p=d&&d.prototype;if(p){if(p[c]!==u)try{o(p,c,u)}catch(m){p[c]=u}if(p[l]||o(p,l,h),r[h])for(var f in a)if(p[f]!==a[f])try{o(p,f,a[f])}catch(m){p[f]=a[f]}}}},df75:function(t,e,i){var n=i("ca84"),r=i("7839");t.exports=Object.keys||function(t){return n(t,r)}},e01a:function(t,e,i){"use strict";var n=i("23e7"),r=i("83ab"),a=i("da84"),o=i("5135"),s=i("861d"),c=i("9bf2").f,l=i("e893"),u=a.Symbol;if(r&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var h={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new u(t):void 0===t?u():u(t);return""===t&&(h[e]=!0),e};l(d,u);var p=d.prototype=u.prototype;p.constructor=d;var f=p.toString,m="Symbol(test)"==String(u("test")),v=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=f.call(t);if(o(h,t))return"";var i=m?e.slice(7,-1):e.replace(v,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:d})}},e163:function(t,e,i){var n=i("5135"),r=i("7b0b"),a=i("f772"),o=i("e177"),s=a("IE_PROTO"),c=Object.prototype;t.exports=o?Object.getPrototypeOf:function(t){return t=r(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},e177:function(t,e,i){var n=i("d039");t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e260:function(t,e,i){"use strict";var n=i("fc6a"),r=i("44d2"),a=i("3f8c"),o=i("69f3"),s=i("7dd0"),c="Array Iterator",l=o.set,u=o.getterFor(c);t.exports=s(Array,"Array",(function(t,e){l(this,{type:c,target:n(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},e439:function(t,e,i){var n=i("23e7"),r=i("d039"),a=i("fc6a"),o=i("06cf").f,s=i("83ab"),c=r((function(){o(1)})),l=!s||c;n({target:"Object",stat:!0,forced:l,sham:!s},{getOwnPropertyDescriptor:function(t,e){return o(a(t),e)}})},e538:function(t,e,i){var n=i("b622");e.f=n},e893:function(t,e,i){var n=i("5135"),r=i("56ef"),a=i("06cf"),o=i("9bf2");t.exports=function(t,e){for(var i=r(e),s=o.f,c=a.f,l=0;l<i.length;l++){var u=i[l];n(t,u)||s(t,u,c(e,u))}}},e8b5:function(t,e,i){var n=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},e95a:function(t,e,i){var n=i("b622"),r=i("3f8c"),a=n("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[a]===t)}},eaf9:function(t,e,i){"use strict";var n=i("3b81"),r=i.n(n);r.a},f013:function(t,e,i){"use strict";var n=i("fdb2"),r=i.n(n);r.a},f5df:function(t,e,i){var n=i("00ee"),r=i("c6b6"),a=i("b622"),o=a("toStringTag"),s="Arguments"==r(function(){return arguments}()),c=function(t,e){try{return t[e]}catch(i){}};t.exports=n?r:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=c(e=Object(t),o))?i:s?r(e):"Object"==(n=r(e))&&"function"==typeof e.callee?"Arguments":n}},f6fd:function(t,e){(function(t){var e="currentScript",i=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(n){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(n.stack)||[!1])[1];for(t in i)if(i[t].src==e||"interactive"==i[t].readyState)return i[t];return null}}})})(document)},f772:function(t,e,i){var n=i("5692"),r=i("90e3"),a=n("keys");t.exports=function(t){return a[t]||(a[t]=r(t))}},f7fe:function(t,e,i){(function(e){var i="Expected a function",n=NaN,r="[object Symbol]",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,u="object"==typeof e&&e&&e.Object===Object&&e,h="object"==typeof self&&self&&self.Object===Object&&self,d=u||h||Function("return this")(),p=Object.prototype,f=p.toString,m=Math.max,v=Math.min,g=function(){return d.Date.now()};function y(t,e,n){var r,a,o,s,c,l,u=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw new TypeError(i);function f(e){var i=r,n=a;return r=a=void 0,u=e,s=t.apply(n,i),s}function y(t){return u=t,c=setTimeout(M,e),h?f(t):s}function x(t){var i=t-l,n=t-u,r=e-i;return d?v(r,o-n):r}function b(t){var i=t-l,n=t-u;return void 0===l||i>=e||i<0||d&&n>=o}function M(){var t=g();if(b(t))return E(t);c=setTimeout(M,x(t))}function E(t){return c=void 0,p&&r?f(t):(r=a=void 0,s)}function S(){void 0!==c&&clearTimeout(c),u=0,r=l=a=c=void 0}function A(){return void 0===c?s:E(g())}function T(){var t=g(),i=b(t);if(r=arguments,a=this,l=t,i){if(void 0===c)return y(l);if(d)return c=setTimeout(M,e),f(l)}return void 0===c&&(c=setTimeout(M,e)),s}return e=w(e)||0,_(n)&&(h=!!n.leading,d="maxWait"in n,o=d?m(w(n.maxWait)||0,e):o,p="trailing"in n?!!n.trailing:p),T.cancel=S,T.flush=A,T}function _(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function x(t){return!!t&&"object"==typeof t}function b(t){return"symbol"==typeof t||x(t)&&f.call(t)==r}function w(t){if("number"==typeof t)return t;if(b(t))return n;if(_(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=_(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var i=s.test(t);return i||c.test(t)?l(t.slice(2),i?2:8):o.test(t)?n:+t}t.exports=y}).call(this,i("c8ba"))},fb15:function(t,e,i){"use strict";var n;(i.r(e),"undefined"!==typeof window)&&(i("f6fd"),(n=window.document.currentScript)&&(n=n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(i.p=n[1]));i("4de4"),i("4160"),i("a15b"),i("d81d"),i("fb6a"),i("07ac"),i("159b"),i("a4d3"),i("e439"),i("dbb4"),i("b64b");function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var s,c,l=i("a48b"),u=i.n(l),h={computed:{isPropsUpdated:function(){var t=this;return Object.keys(this.$props).forEach((function(e){return t[e]})),this.updateSwitch=!this.updateSwitch}},watch:{isPropsUpdated:function(){"function"===typeof this.onPropsUpdated&&this.onPropsUpdated()}}},d=h;function p(t,e,i,n,r,a,o,s){var c,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),n&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=c):r&&(c=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:l}}var f=p(d,s,c,!1,null,null,null),m=f.exports,v=i("88bc"),g=i.n(v),y=i("42a0"),_=i.n(y),x=i("c832"),b=i.n(x),w=function(t,e,i){t&&(t.data=t.data||{},t.data[e]=o({},t.data[e],{},i))},M=function(t,e,i){t&&(t.data=t.data||{},t.data[e]=i)},E=["class","staticClass","style","attrs","props","domProps","on","nativeOn","directives","scopesSlots","slot","ref","key"];function S(t){return t+"-cloned-cid"}function A(t,e){var i=g()(t.data,E);if(e){var n=t.componentOptions;_()(i,{props:n.propsData,on:n.listeners})}return i.key&&(i.key=S(i.key)),i}var T=function t(e){var i=e.context&&e.context.$createElement,n=!!e.componentOptions,r=!e.tag,a=n?e.componentOptions.children:e.children;if(r)return e.text;var o=A(e,n),s=n?e.componentOptions.Ctor:e.tag,c=a?a.map((function(e){return t(e)})):void 0;return i(s,o,c)},C=function(t,e,i){if(t){var n=t.data||{};return"undefined"===typeof e?n:b()(n,e,i)}},L=function(t){return o({},C(t,"staticStyle",{}),{},C(t,"style",{}))},R=(i("99af"),i("a623"),i("a630"),i("c975"),i("13d5"),i("a9e3"),i("ac1f"),i("3ca3"),i("466d"),function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}),P=function(t){return t.unslick||!t.infinite?0:t.variableWidth?t.slideCount:t.slidesToShow+(t.centerMode?1:0)},I=function(t){return t.unslick||!t.infinite?0:t.slideCount},O=function(t,e,i){return t.target.tagName.match("TEXTAREA|INPUT|SELECT")||!e?"":37===t.keyCode?i?"next":"previous":39===t.keyCode?i?"previous":"next":""},U=function(t){return t.targetSlide>t.currentSlide?t.targetSlide>t.currentSlide+D(t)?"left":"right":t.targetSlide<t.currentSlide-N(t)?"right":"left"},D=function(t){var e=t.slidesToShow,i=t.centerMode,n=t.rtl,r=t.centerPadding;if(i){var a=(e-1)/2+1;return parseInt(r)>0&&(a+=1),n&&e%2===0&&(a+=1),a}return n?0:e-1},N=function(t){var e=t.slidesToShow,i=t.centerMode,n=t.rtl,r=t.centerPadding;if(i){var a=(e-1)/2+1;return parseInt(r)>0&&(a+=1),n||e%2!==0||(a+=1),a}return n?e-1:0},z=function(t){return t.currentSlide-B(t)},F=function(t){return t.currentSlide+G(t)},B=function(t){return t.centerMode?Math.floor(t.slidesToShow/2)+(parseInt(t.centerPadding)>0?1:0):0},G=function(t){return t.centerMode?Math.floor((t.slidesToShow-1)/2)+1+(parseInt(t.centerPadding)>0?1:0):t.slidesToShow},k=function(t){for(var e=[],i=z(t),n=F(t),r=i;r<n;r++)t.lazyLoadedList.indexOf(r)<0&&e.push(r);return e},H=function(t,e){var i,n,r,a,s,c=t.slidesToScroll,l=t.slidesToShow,u=t.slideCount,h=t.currentSlide,d=t.lazyLoad,p=t.infinite;if(a=u%c!==0,i=a?0:(u-h)%c,"previous"===e.message)r=0===i?c:l-i,s=h-r,d&&!p&&(n=h-r,s=-1===n?u-1:n);else if("next"===e.message)r=0===i?c:i,s=h+r,d&&!p&&(s=(h+c)%u+i);else if("dots"===e.message){if(s=e.index*e.slidesToScroll,s===e.currentSlide)return null}else if("children"===e.message){if(s=e.index,s===e.currentSlide)return null;if(p){var f=U(o({},t,{targetSlide:s}));s>e.currentSlide&&"left"===f?s-=u:s<e.currentSlide&&"right"===f&&(s+=u)}}else if("index"===e.message&&(s=Number(e.index),s===e.currentSlide))return null;return s},V=function(t){return Object.keys(t).filter((function(e){return void 0!==t[e]})).reduce((function(e,i){return e[i]=t[i],e}),{})},j=function(t){return Object.keys(t).filter((function(e){return void 0!==t[e]&&null!==t[e]})).reduce((function(e,i){return e[i]=t[i],e}),{})},W=function(t,e,i){return!e||!i&&-1!==t.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:t.touches?t.touches[0].pageX:t.clientX,startY:t.touches?t.touches[0].pageY:t.clientY,curX:t.touches?t.touches[0].pageX:t.clientX,curY:t.touches?t.touches[0].pageY:t.clientY}}},X=function(t,e){var i=e.scrolling,n=e.animating,r=e.vertical,a=e.swipeToSlide,s=e.verticalSwiping,c=e.rtl,l=e.currentSlide,u=e.edgeFriction,h=e.edgeDragged,d=e.onEdge,p=e.swiped,f=e.swiping,m=e.slideCount,v=e.slidesToScroll,g=e.infinite,y=e.touchObject,_=e.swipeEvent,x=e.listHeight,b=e.listWidth;if(!i){if(n)return t.preventDefault();r&&a&&s&&t.preventDefault();var w,M={},E=at(e);y.curX=t.touches?t.touches[0].pageX:t.clientX,y.curY=t.touches?t.touches[0].pageY:t.clientY,y.swipeLength=Math.round(Math.sqrt(Math.pow(y.curX-y.startX,2)));var S=Math.round(Math.sqrt(Math.pow(y.curY-y.startY,2)));if(!s&&!f&&S>10)return{scrolling:!0};s&&(y.swipeLength=S);var A=(c?-1:1)*(y.curX>y.startX?1:-1);s&&(A=y.curY>y.startY?1:-1);var T=Math.ceil(m/v),C=nt(e.touchObject,s),L=y.swipeLength;return g||(0===l&&"right"===C||l+1>=T&&"left"===C||!$(e)&&"left"===C)&&(L=y.swipeLength*u,!1===h&&d&&(d(C),M["edgeDragged"]=!0)),!p&&_&&(_(C),M["swiped"]=!0),w=r?E+L*(x/b)*A:c?E-L*A:E+L*A,s&&(w=E+L*A),M=o({},M,{touchObject:y,swipeLeft:w,trackStyle:ct(o({},e,{left:w}))}),Math.abs(y.curX-y.startX)<.8*Math.abs(y.curY-y.startY)?M:(y.swipeLength>10&&(M["swiping"]=!0,t.preventDefault()),M)}},Y=function(t,e){var i=e.dragging,n=e.swipe,r=e.touchObject,a=e.listWidth,s=e.touchThreshold,c=e.verticalSwiping,l=e.listHeight,u=e.currentSlide,h=e.swipeToSlide,d=e.scrolling,p=e.onSwipe;if(!i)return n&&t.preventDefault(),{};var f=c?l/s:a/s,m=nt(r,c),v={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(d)return v;if(!r.swipeLength)return v;if(r.swipeLength>f){var g,y;switch(t.preventDefault(),p&&p(m),m){case"left":case"up":y=u+J(e),g=h?q(e,y):y,v["currentDirection"]=0;break;case"right":case"down":y=u-J(e),g=h?q(e,y):y,v["currentDirection"]=1;break;default:g=u}v["triggerSlideHandler"]=g}else{var _=at(e);v["trackStyle"]=lt(o({},e,{left:_}))}return v},Z=function(t){var e=t.infinite?2*t.slideCount:t.slideCount,i=t.infinite?-1*t.slidesToShow:0,n=t.infinite?-1*t.slidesToShow:0,r=[];while(i<e)r.push(i),i=n+t.slidesToScroll,n+=Math.min(t.slidesToScroll,t.slidesToShow);return r},q=function(t,e){var i=Z(t),n=0;if(e>i[i.length-1])e=i[i.length-1];else for(var r in i){if(e<i[r]){e=n;break}n=i[r]}return e},J=function(t){var e=t.centerMode?t.slideWidth*Math.floor(t.slidesToShow/2):0;if(t.swipeToSlide){var i,n=t.listRef,r=n.querySelectorAll(".slick-slide");if(Array.from(r).every((function(n){if(t.vertical){if(n.offsetTop+it(n)/2>-1*t.swipeLeft)return i=n,!1}else if(n.offsetLeft-e+et(n)/2>-1*t.swipeLeft)return i=n,!1;return!0})),!i)return 0;var a=!0===t.rtl?t.slideCount-t.currentSlide:t.currentSlide,o=Math.abs(i.dataset.index-a)||1;return o}return t.slidesToScroll},Q=function(t,e){var i={};return e.forEach((function(e){return i[e]=t[e]})),i},K={TRACK:["fade","cssEase","speed","infinite","centerMode","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding"],DOT:["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","children","customPaging","infinite"],ARROW:["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]},$=function(t){var e=!0;return t.infinite||(t.centerMode&&t.currentSlide>=t.slideCount-1||t.slideCount<=t.slidesToShow||t.currentSlide>=t.slideCount-t.slidesToShow)&&(e=!1),e},tt=function(t){var e=t.waitForAnimate,i=t.animating,n=t.fade,r=t.infinite,a=t.index,s=t.slideCount,c=t.lazyLoadedList,l=t.lazyLoad,u=t.currentSlide,h=t.centerMode,d=t.slidesToScroll,p=t.slidesToShow,f=t.useCSS;if(e&&i)return{};var m,v,g,y=a,_={},x={};if(n){if(!r&&(a<0||a>=s))return{};a<0?y=a+s:a>=s&&(y=a-s),l&&c.indexOf(y)<0&&c.push(y),_={animating:!0,currentSlide:y,lazyLoadedList:c},x={animating:!1}}else m=y,y<0?(m=y+s,r?s%d!==0&&(m=s-s%d):m=0):!$(t)&&y>u?y=m=u:h&&y>=s?(y=r?s:s-1,m=r?0:s-1):y>=s&&(m=y-s,r?s%d!==0&&(m=0):m=s-p),v=at(o({},t,{slideIndex:y})),g=at(o({},t,{slideIndex:m})),r||(v===g&&(y=m),v=g),l&&c.concat(k(o({},t,{currentSlide:y}))),f?(_={animating:!0,currentSlide:m,trackStyle:lt(o({},t,{left:v})),lazyLoadedList:c},x={animating:!1,currentSlide:m,trackStyle:ct(o({},t,{left:g})),swipeLeft:null}):_={currentSlide:m,trackStyle:ct(o({},t,{left:g})),lazyLoadedList:c};return{state:_,nextState:x}},et=function(t){return t&&t.offsetWidth||0},it=function(t){return t&&t.offsetHeight||0},nt=function(t){var e,i,n,r,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=t.startX-t.curX,i=t.startY-t.curY,n=Math.atan2(i,e),r=Math.round(180*n/Math.PI),r<0&&(r=360-Math.abs(r)),r<=45&&r>=0||r<=360&&r>=315?"left":r>=135&&r<=225?"right":!0===a?r>=35&&r<=135?"up":"down":"vertical"},rt=function(t){var e,i=t.children.length,n=Math.ceil(et(t.listRef)),r=Math.ceil(et(t.trackRef));if(t.vertical)e=n;else{var a=t.centerMode&&2*parseInt(t.centerPadding);"string"===typeof t.centerPadding&&"%"===t.centerPadding.slice(-1)&&(a*=n/100),e=Math.ceil((n-a)/t.slidesToShow)}var o=t.listRef&&it(t.listRef.querySelector('[data-index="0"]')),s=o*t.slidesToShow,c=void 0===t.currentSlide?t.initialSlide:t.currentSlide;t.rtl&&void 0===t.currentSlide&&(c=i-1-t.initialSlide);var l=t.lazyLoadedList||[],u=k({currentSlide:c,lazyLoadedList:l},t);l.concat(u);var h={slideCount:i,slideWidth:e,listWidth:n,trackWidth:r,currentSlide:c,slideHeight:o,listHeight:s,lazyLoadedList:l};return null===t.autoplaying&&t.autoplay&&(h["autoplaying"]="playing"),h},at=function(t){if(t.unslick)return 0;st(t,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var e,i,n=t.slideIndex,r=t.trackRef,a=t.infinite,o=t.centerMode,s=t.slideCount,c=t.slidesToShow,l=t.slidesToScroll,u=t.slideWidth,h=t.listWidth,d=t.variableWidth,p=t.slideHeight,f=t.fade,m=t.vertical,v=0,g=0;if(f||1===t.slideCount)return 0;var y=0;if(a?(y=-P(t),s%l!==0&&n+l>s&&(y=-(n>s?c-(n-s):s%l)),o&&(y+=parseInt(c/2))):(s%l!==0&&n+l>s&&(y=c-s%l),o&&(y=parseInt(c/2))),v=y*u,g=y*p,e=m?n*p*-1+g:n*u*-1+v,!0===d){var _,x=r.$el;if(_=n+P(t),i=x&&x.childNodes[_],e=i?-1*i.offsetLeft:0,!0===o){_=a?n+P(t):n,i=x&&x.children[_],e=0;for(var b=0;b<_;b++)e-=x&&x.children[b]&&x.children[b].offsetWidth;e-=parseInt(t.centerPadding),e+=i&&(h-i.offsetWidth)/2}}return e},ot=function(t){return 1===t.slideCount?1:P(t)+t.slideCount+I(t)},st=function(t,e){return e.reduce((function(e,i){return e&&t.hasOwnProperty(i)}),!0)?null:console.error("Keys Missing:",t)},ct=function(t){var e,i;st(t,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n=t.slideCount+2*t.slidesToShow;t.vertical?i=n*t.slideHeight:e=ot(t)*t.slideWidth;var r={opacity:1,transition:"",WebkitTransition:""};if(t.useTransform){var a=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",s=t.vertical?"translate3d(0px, "+t.left+"px, 0px)":"translate3d("+t.left+"px, 0px, 0px)",c=t.vertical?"translateY("+t.left+"px)":"translateX("+t.left+"px)";r=o({},r,{WebkitTransform:a,transform:s,msTransform:c})}else t.vertical?r["top"]=t.left:r["left"]=t.left;return t.fade&&(r={opacity:1}),e&&(r.width=e+"px"),i&&(r.height=i+"px"),window&&!window.addEventListener&&window.attachEvent&&(t.vertical?r.marginTop=t.left+"px":r.marginLeft=t.left+"px"),r},lt=function(t){st(t,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var e=ct(t);return t.useTransform?(e.WebkitTransition="-webkit-transform "+t.speed+"ms "+t.cssEase,e.transition="transform "+t.speed+"ms "+t.cssEase):t.vertical?e.transition="top "+t.speed+"ms "+t.cssEase:e.transition="left "+t.speed+"ms "+t.cssEase,e},ut={accessibility:{type:Boolean,default:!0},adaptiveHeight:{type:Boolean,default:!1},arrows:{type:Boolean,default:!0},asNavFor:{type:Object,default:null},autoplay:{type:Boolean,default:!1},autoplaySpeed:{type:Number,default:3e3},centerMode:{type:Boolean,default:!1},centerPadding:{type:String,default:"50px"},cssEase:{type:String,default:"ease"},dots:{type:Boolean,default:!1},dotsClass:{type:String,default:"slick-dots"},draggable:{type:Boolean,default:!0},edgeFriction:{type:Number,default:.35},fade:{type:Boolean,default:!1},focusOnSelect:{type:Boolean,default:!1},infinite:{type:Boolean,default:!0},initialSlide:{type:Number,default:0},lazyLoad:{type:String,default:null},pauseOnDotsHover:{type:Boolean,default:!1},pauseOnFocus:{type:Boolean,default:!1},pauseOnHover:{type:Boolean,default:!0},responsive:{type:Array,default:null},rows:{type:Number,default:1},rtl:{type:Boolean,default:!1},slidesPerRow:{type:Number,default:1},slidesToScroll:{type:Number,default:1},slidesToShow:{type:Number,default:1},speed:{type:Number,default:500},swipe:{type:Boolean,default:!0},swipeToSlide:{type:Boolean,default:!1},touchMove:{type:Boolean,default:!0},touchThreshold:{type:Number,default:5},useCSS:{type:Boolean,default:!0},useTransform:{type:Boolean,default:!0},variableWidth:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},waitForAnimate:{type:Boolean,default:!0}},ht=Object.keys(ut).reduce((function(t,e){return t[e]=ut[e].default,t}),{});Object.keys(ut).reduce((function(t,e){return t[e]=ut[e].type,t}),{}),i("cca6");function dt(t,e){if(null==t)return{};var i,n,r={},a=Object.keys(t);for(n=0;n<a.length;n++)i=a[n],e.indexOf(i)>=0||(r[i]=t[i]);return r}function pt(t,e){if(null==t)return{};var i,n,r=dt(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)i=a[n],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}i("e01a"),i("d28b"),i("e260"),i("d3b7"),i("ddb0");function ft(t){return ft="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}var mt,vt,gt=i("6dd8"),yt=i("f7fe"),_t=i.n(yt),xt=function(t){var e,i,n,r,a;a=t.rtl?t.slideCount-1-t.index:t.index,n=a<0||a>=t.slideCount,t.centerMode?(r=Math.floor(t.slidesToShow/2),i=(a-t.currentSlide)%t.slideCount===0,a>t.currentSlide-r-1&&a<=t.currentSlide+r&&(e=!0)):e=t.currentSlide<=a&&a<t.currentSlide+t.slidesToShow;var o=a===t.currentSlide;return{"slick-slide":!0,"slick-active":e,"slick-center":i,"slick-cloned":n,"slick-current":o}},bt=function(t){var e={};return void 0!==t.variableWidth&&!1!==t.variableWidth||(e.width="number"===typeof t.slideWidth?"".concat(t.slideWidth,"px"):t.slideWidth),t.fade&&(e.position="relative",t.vertical?e.top="".concat(-t.index*parseInt(t.slideHeight),"px"):e.left="".concat(-t.index*parseInt(t.slideWidth),"px"),e.opacity=t.currentSlide===t.index?1:0,e.transition="opacity "+t.speed+"ms "+t.cssEase+", visibility "+t.speed+"ms "+t.cssEase),e},wt=function(t,e){return null!=t.key&&String(t.key)||e},Mt={name:"SliderTrack",props:K.TRACK,methods:{cloneSlide:function(t,e){var i=this,n=T(t);return n.key=e.key,w(n,"class",e.class),w(n,"attrs",e.attrs),w(n,"style",e.style),w(n,"on",{click:function(n){C(t,"on.click",(function(){}))(n),i.$emit("childClicked",e.childOnClickOptions)}}),n},renderSlides:function(t,e){var i,n=this,r=this.$createElement,a=[],s=[],c=[],l=e.length,u=z(t),h=F(t);return e.forEach((function(e,d){var p,f={message:"children",index:d,slidesToScroll:t.slidesToScroll,currentSlide:t.currentSlide};p=!t.lazyLoad||t.lazyLoad&&t.lazyLoadedList.indexOf(d)>=0?e:r("div");var m=bt(o({},t,{index:d})),v=xt(o({},t,{index:d}));if(a.push(n.cloneSlide(p,{key:"original"+wt(p,d),class:v,style:o({outline:"none"},m),attrs:{tabIndex:"-1","data-index":d,"aria-hidden":"".concat(!v["slick-active"])},childOnClickOptions:f})),t.infinite&&!1===t.fade&&l>t.slidesToShow){var g=l-d;g<=P(t)&&l!==t.slidesToShow&&(i=-g,i>=u&&(p=e),v=xt(o({},t,{index:i})),s.push(n.cloneSlide(p,{key:"precloned"+wt(p,i),class:v,style:m,attrs:{tabIndex:"-1","data-index":i,"aria-hidden":"".concat(!v["slick-active"])},childOnClickOptions:f}))),l!==t.slidesToShow&&(i=l+d,i<h&&(p=e),v=xt(o({},t,{index:i})),c.push(n.cloneSlide(p,{key:"postcloned"+wt(p,i),class:v,style:m,attrs:{tabIndex:"-1","data-index":i,"aria-hidden":"".concat(!v["slick-active"])},childOnClickOptions:f})))}}),this),t.rtl?s.concat(a,c).reverse():s.concat(a,c)}},render:function(){var t=arguments[0],e=this.renderSlides(this.$props,this.$slots.default);return t("div",{class:{"slick-track":!0,"slick-center":this.$props.centerMode},style:this.trackStyle},[e])}},Et=Mt,St=(i("6ea2"),p(Et,mt,vt,!1,null,"e4caeaf8",null)),At=St.exports;function Tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Ct(t){if(Array.isArray(t))return Tt(t)}function Lt(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}i("b0c0"),i("25f0");function Rt(t,e){if(t){if("string"===typeof t)return Tt(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Tt(t,e):void 0}}function Pt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function It(t){return Ct(t)||Lt(t)||Rt(t)||Pt()}var Ot,Ut,Dt,Nt,zt,Ft,Bt,Gt,kt={name:"SliderArrow",props:[].concat(It(K.ARROW),["type"]),render:function(){var t,e=this,i=arguments[0],n={"slick-arrow":!0},r=!0,a={currentSlide:this.currentSlide,slideCount:this.slideCount};return"previous"===this.type?(n["slick-prev"]=!0,!this.infinite&&(0===this.currentSlide||this.slideCount<=this.slidesToShow)&&(n["slick-disabled"]=!0,r=!1),a.key="0",t=this.prevArrow?this.prevArrow(a)[0]:i("button",{attrs:{type:"button","data-role":"none"},style:"display: block;"},["Previous"])):(n["slick-next"]=!0,$(this.$props)||(n["slick-disabled"]=!0,r=!1),a.key="1",t=this.nextArrow?this.nextArrow(a)[0]:i("button",{attrs:{type:"button","data-role":"none"},style:"display: block;"},["Next"])),M(t,"key",a.key),w(t,"class",n),w(t,"on",{click:function(){r&&e.$emit("arrowClicked",{message:e.type})}}),t}},Ht=kt,Vt=(i("f013"),p(Ht,Ot,Ut,!1,null,"21137603",null)),jt=Vt.exports,Wt=(i("1276"),function(t){var e;return e=t.infinite?Math.ceil(t.slideCount/t.slidesToScroll):Math.ceil((t.slideCount-t.slidesToShow)/t.slidesToScroll)+1,e}),Xt={name:"SliderDots",props:K.DOT,render:function(){var t=this,e=arguments[0],i=Wt({slideCount:this.slideCount,slidesToScroll:this.slidesToScroll,slidesToShow:this.slidesToShow,infinite:this.infinite}),n=Array.apply(null,Array(i+1).join("0").split("")).map((function(i,n){var r=n*t.slidesToScroll,a=n*t.slidesToScroll+(t.slidesToScroll-1),o={"slick-active":t.currentSlide>=r&&t.currentSlide<=a},s={message:"dots",index:n,slidesToScroll:t.slidesToScroll,currentSlide:t.currentSlide},c=t.customPaging?t.customPaging(n)[0]:e("button",[n+1]);return e("li",{key:n,class:o,on:{click:function(){return t.$emit("dotClicked",s)}}},[c])})),a={display:"block"},o=r({},this.dotsClass,!0);return e("ul",{style:a,class:o},[n])}},Yt=Xt,Zt=p(Yt,Dt,Nt,!1,null,null,null),qt=Zt.exports,Jt={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0},Qt={name:"InnerSlider",components:{SliderTrack:At,SliderArrow:jt,SliderDots:qt},mixins:[m],inheritAttrs:!1,props:o({},ut,{unslick:{type:Boolean,default:!1},prevArrow:Function,nextArrow:Function,customPaging:Function}),data:function(){return o({},Jt,{currentSlide:this.initialSlide})},computed:{slideCount:function(){return this.$slots.default.length},spec:function(){return o({},this.$props,{},this.$data,{slideCount:this.slideCount})}},created:function(){if(this.callbackTimers=[],this.clickable=!0,this.debouncedResize=null,this.ssrInit(),this.$parent.$emit("init"),this.lazyLoad){var t=k(this.spec);t.length>0&&(this.lazyLoadedList=this.lazyLoadedList.concat(t),this.$parent.$emit("lazyLoad",t))}},mounted:function(){var t=this,e=o({listRef:this.$refs.list,trackRef:this.$refs.track,children:this.$slots.default},this.$props);this.updateState(e,!0),this.adaptHeight(),this.autoPlay&&this.autoPlay("update"),"progressive"===this.lazyLoad&&(this.lazyLoadTimer=setInterval(this.progressiveLazyLoad,1e3)),this.ro=new gt["a"]((function(){t.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.speed))):t.onWindowResized()})),this.ro.observe(this.$refs.list),Array.prototype.forEach.call(this.$refs.list.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",this.onWindowResized):window.attachEvent("onresize",this.onWindowResized)},updated:function(){if(this.checkImagesLoad(),this.$parent.$emit("reInit"),this.lazyLoad){var t=k(o({},this.$props,{},this.$data));t.length>0&&(this.lazyLoadedList=this.lazyLoadedList.concat(t),this.$parent.$emit("lazyLoad",t))}this.adaptHeight()},beforeDestroy:function(){this.ro.unobserve(this.$refs.list),this.animationEndCallback&&clearTimeout(this.animationEndCallback),this.lazyLoadTimer&&clearInterval(this.lazyLoadTimer),this.callbackTimers.length&&(this.callbackTimers.forEach((function(t){return clearTimeout(t)})),this.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",this.onWindowResized):window.detachEvent("onresize",this.onWindowResized),this.autoplayTimer&&clearInterval(this.autoplayTimer)},methods:{onPropsUpdated:function(){for(var t=this.$props,e=o({listRef:this.$refs.list,trackRef:this.$refs.track,children:this.$slots.default},t,{},this.$data),i=!1,n=0,r=Object.keys(this.$props);n<r.length;n++){var a=r[n];if(!t.hasOwnProperty(a)){i=!0;break}if("object"!==ft(t[a])&&"function"!==typeof t[a]&&t[a]!==this.$props[a]){i=!0;break}}this.updateState(e,i),this.currentSlide>=this.slideCount&&this.changeSlide({message:"index",index:this.slideCount-t.slidesToShow,currentSlide:this.currentSlide}),t.autoplay?this.autoPlay("update"):this.pause("paused")},updateState:function(t,e){var i=rt(t);t=o({},t,{},i,{slideIndex:i.currentSlide});var n=at(t);t=o({},t,{left:n});var r=ct(t);(e||this.slideCount!==t.children.length)&&(i["trackStyle"]=r),Object.assign(this.$data,i)},adaptHeight:function(){if(this.adaptiveHeight&&this.$refs.list){var t=this.$refs.list.querySelector('[data-index="'.concat(this.currentSlide,'"]'));this.$refs.list.style.height=it(t)+"px"}},ssrInit:function(){var t=P(this.spec),e=I(this.spec);if(this.variableWidth){var i=[],n=[],r=[];this.$slots.default.forEach((function(t){var e=L(t),n=e.width;r.push(n),i.push(n)}));for(var a=0;a<t;a++)n.push(r[r.length-1-a]),i.push(r[r.length-1-a]);for(var o=0;o<e;o++)i.push(r[o]);for(var s=0;s<this.currentSlide;s++)n.push(r[s]);i=i.filter((function(t){return t})),n=n.filter((function(t){return t}));var c={width:"calc(".concat(i.join(" + "),")"),left:"calc(".concat(n.map((function(t){return"-".concat(t)})).join(" + "),")")};if(this.centerMode){var l=r[this.currentSlide];c.left="calc(".concat(n.map((function(t){return"-".concat(t)})).join(" + ")," + (100% - ").concat(l,") / 2 )")}this.trackStyle=c}else{var u=t+e+this.slideCount,h=100/this.slidesToShow*u,d=100/u,p=-d*(t+this.currentSlide)*h/100;this.centerMode&&(p+=(100-d*h/100)/2),this.slideWidth=d+"%",this.trackStyle={width:h+"%",left:p+"%"}}},slideHandler:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.asNavFor,r=this.speed,a=this.currentSlide,s=tt(o({index:t},this.$props,{},this.$data,{trackRef:this.$refs.track,useCSS:this.useCSS&&!i})),c=s.state,l=s.nextState;if(c){this.$parent.$emit("beforeChange",a,c.currentSlide);var u=c.lazyLoadedList.filter((function(t){return e.lazyLoadedList.indexOf(t)<0}));u.length&&this.$parent.$emit("lazyLoad",u),Object.assign(this.$data,c),n&&n.goTo(t),l&&(this.animationEndCallback=setTimeout((function(){var t=l.animating,i=pt(l,["animating"]);Object.assign(e.$data,i),e.callbackTimers.push(setTimeout((function(){e.animating=t}),10)),e.$parent.$emit("afterChange",c.currentSlide),e.animationEndCallback=void 0}),r))}},onWindowResized:function(t){var e=this;this.debouncedResize&&this.debouncedResize.cancel(),this.debouncedResize=_t()((function(){return e.resizeWindow(t)}),50),this.debouncedResize()},resizeWindow:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.$refs.track&&this.$refs.track.$el){var e=o({listRef:this.$refs.list,trackRef:this.$refs.track,children:this.$slots.default},this.$props,{},this.$data);this.updateState(e,t),this.autoplay?this.autoPlay("update"):this.pause("paused"),this.animating=!1,clearTimeout(this.animationEndCallback),this.animationEndCallback=void 0}},checkImagesLoad:function(){var t=this,e=this.$refs.list.querySelectorAll(".slick-slide img"),i=e.length,n=0;Array.prototype.forEach.call(e,(function(e){var r=function(){return++n&&n>=i&&t.onWindowResized()};if(e.onclick){var a=e.onclick;e.onclick=function(){a(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.speed))}:(e.onload=r,e.onerror=function(){r(),t.$parent.$emit("lazyLoadError")}))}))},progressiveLazyLoad:function(){for(var t=[],e=o({},this.$props,{},this.$data),i=this.currentSlide;i<this.slideCount+I(e);i++)if(this.lazyLoadedList.indexOf(i)<0){t.push(i);break}for(var n=this.currentSlide-1;n>=-P(e);n--)if(this.lazyLoadedList.indexOf(n)<0){t.push(n);break}t.length>0?(this.lazyLoadedList=this.lazyLoadedList.concat(t),this.$parent.$emit("lazyLoad",t)):this.lazyLoadTimer&&(clearInterval(this.lazyLoadTimer),this.lazyLoadTimer=void 0)},clickHandler:function(t){!1===this.clickable&&(t.stopPropagation(),t.preventDefault()),this.clickable=!0},keyHandler:function(t){var e=O(t,this.accessibility,this.rtl);""!==e&&this.changeSlide({message:e})},changeSlide:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=o({},this.$props,{},this.$data),n=H(i,t);(0===n||n)&&(!0===e?this.slideHandler(n,e):this.slideHandler(n))},swipeStart:function(t){this.verticalSwiping&&this.disableBodyScroll();var e=W(t,this.swipe,this.draggable);""!==e&&Object.assign(this.$data,e)},swipeMove:function(t){var e=this,i=X(t,o({},this.$props,{},this.$data,{trackRef:this.$refs.track,listRef:this.$refs.list,slideIndex:this.currentSlide,onEdge:function(t){return e.$parent.$emit("edge",t)},swipeEvent:function(t){return e.$parent.$emit("swipe",t)}}));i&&(i["swiping"]&&(this.clickable=!1),Object.assign(this.$data,i))},swipeEnd:function(t){var e=Y(t,o({},this.$props,{},this.$data,{trackRef:this.$refs.track,listRef:this.$refs.list,slideIndex:this.currentSlide}));if(e){var i=e["triggerSlideHandler"];this.triggerSlideHandler=void 0,Object.assign(this.$data,e),void 0!==i&&(this.slideHandler(i),this.verticalSwiping&&this.enableBodyScroll())}},prev:function(){var t=this;this.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))},next:function(){var t=this;this.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))},goTo:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t=Number(t),isNaN(t))return"";this.callbackTimers.push(setTimeout((function(){return e.changeSlide({message:"index",index:t,currentSlide:e.currentSlide},i)}),0))},play:function(){var t;if(this.rtl)t=this.currentSlide-this.slidesToScroll;else{if(!$(o({},this.$props,{},this.$data)))return!1;t=this.currentSlide+this.slidesToScroll}this.slideHandler(t)},autoPlay:function(t){this.autoplayTimer&&clearInterval(this.autoplayTimer);var e=this.autoplaying;if("update"===t){if("hovered"===e||"focused"===e||"paused"===e)return}else if("leave"===t){if("paused"===e||"focused"===e)return}else if("blur"===t&&("paused"===e||"hovered"===e))return;this.autoplayTimer=setInterval(this.play,this.autoplaySpeed+50),this.autoplaying="playing"},pause:function(t){this.autoplayTimer&&(clearInterval(this.autoplayTimer),this.autoplayTimer=null);var e=this.autoplaying;"paused"===t?this.autoplaying="paused":"focused"===t?"hovered"!==e&&"playing"!==e||(this.autoplaying="focused"):"playing"===e&&(this.autoplaying="hovered")},onDotsOver:function(){this.autoplay&&this.pause("hovered")},onDotsLeave:function(){this.autoplay&&"hovered"===this.autoplaying&&this.autoPlay("leave")},onTrackOver:function(){this.autoplay&&this.pause("hovered")},onTrackLeave:function(){this.autoplay&&"hovered"===this.autoplaying&&this.autoPlay("leave")},onSlideFocus:function(){this.autoplay&&this.pause("focused")},onSlideBlur:function(){this.autoplay&&"focused"===this.autoplaying&&this.autoPlay("blur")},selectHandler:function(t){this.focusOnSelect&&this.changeSlide(t)}},render:function(){var t=arguments[0],e={"slick-slider":!0,"slick-initialized":!0,"slick-vertical":this.vertical},i=Q(this.spec,K.TRACK);i=V(o({},i));var n,r,a,s=this.pauseOnHover,c=V({mouseenter:s?this.onTrackOver:void 0,mouseover:s?this.onTrackOver:void 0,mouseleave:s?this.onTrackLeave:void 0});if(!0===this.dots&&this.slideCount>=this.slidesToShow){var l=Q(this.spec,K.DOT),u=this.pauseOnDotsHover,h=V({mouseenter:u?this.onDotsLeave:void 0,mouseover:u?this.onDotsOver:void 0,mouseleave:u?this.onDotsLeave:void 0});n=t(qt,{props:o({},l),nativeOn:o({},h),on:{dotClicked:this.changeSlide}})}var d=Q(this.spec,K.ARROW);this.arrows&&(r=t(jt,{props:o({},o({},d,{type:"previous"})),on:{arrowClicked:this.changeSlide}}),a=t(jt,{props:o({},o({},d,{type:"next"})),on:{arrowClicked:this.changeSlide}}));var p={};this.vertical&&(p={height:"".concat(this.listHeight,"px")});var f={};!1===this.vertical?!0===this.centerMode&&(f={padding:"0px "+this.centerPadding}):!0===this.centerMode&&(f={padding:this.centerPadding+" 0px"});var m=o({},this.$parent.$vnode.data.style);this.unslick||(m=o({},m,{},j(p),{},f));var v=this.accessibility,g=this.dragging,y=this.touchMove,_=V({click:this.clickHandler,mousedown:y?this.swipeStart:void 0,mousemove:g&&y?this.swipeMove:void 0,mouseup:y?this.swipeEnd:void 0,mouseleave:g&&y?this.swipeEnd:void 0,touchstart:y?this.swipeStart:void 0,touchmove:g&&y?this.swipeMove:void 0,touchend:y?this.swipeEnd:void 0,touchcancel:g&&y?this.swipeEnd:void 0,keydown:v?this.keyHandler:void 0});return t("div",{class:e,attrs:{dir:!this.unslick&&"ltr"}},[this.unslick?"":r,t("div",{ref:"list",class:"slick-list",on:o({},_),style:m},[t(At,{ref:"track",props:o({},i),nativeOn:o({},c),on:{childClicked:this.selectHandler}},[this.$slots.default])]),this.unslick?"":a,this.unslick?"":n])}},Kt=Qt,$t=(i("eaf9"),p(Kt,zt,Ft,!1,null,"3d1a4f76",null)),te=$t.exports,ee=R()&&i("8e95"),ie={name:"VueSlickCarousel",components:{InnerSlider:te},mixins:[m],inheritAttrs:!1,props:ut,data:function(){return{breakpoint:null}},computed:{settings:function(){var t,e,i=this,n=V(this.$props);return this.breakpoint?(e=this.responsive.filter((function(t){return t.breakpoint===i.breakpoint})),t="unslick"===e[0].settings?"unslick":o({},ht,{},n,{},e[0].settings)):t=o({},ht,{},n),t.centerMode&&(t.slidesToScroll,t.slidesToScroll=1),t.fade&&(t.slidesToShow,t.slidesToScroll,t.slidesToShow=1,t.slidesToScroll=1),t.variableWidth&&(t.rows>1||t.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),t.variableWidth=!1),t}},created:function(){this.makeBreakpoints()},beforeDestroy:function(){this.clearBreakpoints()},methods:{prev:function(){this.$refs.innerSlider.prev()},next:function(){this.$refs.innerSlider.next()},goTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.$refs.innerSlider.goTo(t,e)},pause:function(){this.$refs.innerSlider.pause("paused")},play:function(){this.$refs.innerSlider.autoPlay("play")},onPropsUpdated:function(){this.clearBreakpoints(),this.makeBreakpoints()},clearBreakpoints:function(){this.responsiveMediaHandlers.forEach((function(t){return ee.unregister(t.query,t.handler)})),this.responsiveMediaHandlers=[]},media:function(t,e){R()&&(ee.register(t,e),this.responsiveMediaHandlers.push({query:t,handler:e}))},makeBreakpoints:function(){var t=this;if(this.breakpoint=null,this.responsiveMediaHandlers=[],this.responsive){var e=this.responsive.map((function(t){return t.breakpoint}));e.sort((function(t,e){return t-e})),e.forEach((function(i,n){var r=u()({minWidth:0===n?0:e[n-1]+1,maxWidth:i});t.media(r,(function(){t.breakpoint=i}))}));var i=u()({minWidth:e.slice(-1)[0]});this.media(i,(function(){t.breakpoint=null}))}}},render:function(){var t=arguments[0],e=this.settings,i=this.$slots.default||[];if("unslick"===e)return t("div",{class:"regular slider"},[i]);e.prevArrow=this.$scopedSlots.prevArrow,e.nextArrow=this.$scopedSlots.nextArrow,e.customPaging=this.$scopedSlots.customPaging,i=i.filter((function(t){return!!t.tag}));for(var n=[],r=null,a=0;a<i.length;a+=e.rows*e.slidesPerRow){for(var s=[],c=a;c<a+e.rows*e.slidesPerRow;c+=e.slidesPerRow){for(var l=[],u=c;u<c+e.slidesPerRow;u+=1){if(e.variableWidth&&L(i[u])&&(r=L(i[u]).width),u>=i.length)break;var h=T(i[u]);M(h,"key",100*a+10*c+u),w(h,"attrs",{tabIndex:-1}),w(h,"style",{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}),l.push(h)}s.push(t("div",{key:10*a+c},[l]))}e.variableWidth?n.push(t("div",{key:a,style:{width:r}},[s])):n.push(t("div",{key:a},[s]))}return n.length<=e.slidesToShow&&(e.unslick=!0),t(te,{ref:"innerSlider",props:o({},e),key:Object.values(e).join("")},[n])}},ne=ie,re=p(ne,Bt,Gt,!1,null,null,null),ae=re.exports;e["default"]=ae},fb6a:function(t,e,i){"use strict";var n=i("23e7"),r=i("861d"),a=i("e8b5"),o=i("23cb"),s=i("50c4"),c=i("fc6a"),l=i("8418"),u=i("b622"),h=i("1dde"),d=i("ae40"),p=h("slice"),f=d("slice",{ACCESSORS:!0,0:0,1:2}),m=u("species"),v=[].slice,g=Math.max;n({target:"Array",proto:!0,forced:!p||!f},{slice:function(t,e){var i,n,u,h=c(this),d=s(h.length),p=o(t,d),f=o(void 0===e?d:e,d);if(a(h)&&(i=h.constructor,"function"!=typeof i||i!==Array&&!a(i.prototype)?r(i)&&(i=i[m],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return v.call(h,p,f);for(n=new(void 0===i?Array:i)(g(f-p,0)),u=0;p<f;p++,u++)p in h&&l(n,u,h[p]);return n.length=u,n}})},fc6a:function(t,e,i){var n=i("44ad"),r=i("1d80");t.exports=function(t){return n(r(t))}},fdb2:function(t,e,i){},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(t,e,i){var n=i("4930");t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}})["default"]}))},a803:function(t,e,i){t.exports=i.p+"img/map.51a68491.svg"},aae3:function(t,e,i){t.exports=i.p+"img/2.ebb38246.png"},abb7:function(t,e,i){t.exports=i.p+"img/about1.d8d4332b.jpg"},ae33:function(t,e,i){t.exports=i.p+"img/2.300bf629.png"},aedb:function(t,e,i){t.exports=i.p+"img/cocktail.3cc24607.png"},be2e:function(t,e,i){t.exports=i.p+"img/instagram-square-brands.7cbcd31d.svg"},c5dc:function(t,e,i){"use strict";var n=i("4b4f"),r=i.n(n);r.a},c6d9:function(t,e,i){t.exports=i.p+"img/CloudAlphaMap.42d0b01d.jpg"},c6f2:function(t,e,i){},c7e8:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"go-surf"},[n("header",{staticClass:"header-gosurf"},[n("VueSlickCarousel",{ref:"c1",staticClass:"header-gosurf__slider",attrs:{arrows:!1,autoplay:!0,asNavFor:t.$refs.c2,dots:t.slider-t.dots,autoplaySpeed:5e3}},[n("div",{staticClass:"header-gosurf__slider-item slider-item bg"},[n("div",{staticClass:"slider-item__info  bg__nort"},[n("div",{staticClass:"slider-item__info-suptitle suptitle-left"},[t._v("Surf")]),n("div",{staticClass:"slider-item__info-title"},[t._v("Nort Shore")]),n("div",{staticClass:"slider-item__info-suptext suptitle-left"},[t._v("Condition")]),n("div",{staticClass:"slider-item__info-text"},[t._v("Radical")]),n("a",{staticClass:"slider-item__info-link",attrs:{href:"#"}},[n("img",{attrs:{src:i("1bb8"),alt:""}})])])]),n("div",{staticClass:"header-gosurf__slider-item slider-item bg__south"},[n("div",{staticClass:"slider-item__info"},[n("div",{staticClass:"slider-item__info-suptitle suptitle-left "},[t._v("Surf")]),n("div",{staticClass:"slider-item__info-title"},[t._v("South Shore")]),n("div",{staticClass:"slider-item__info-suptext suptitle-left"},[t._v("Condition")]),n("div",{staticClass:"slider-item__info-text"},[t._v("Radical")]),n("a",{staticClass:"slider-item__info-link",attrs:{href:"#"}},[n("img",{attrs:{src:i("1bb8"),alt:""}})])])]),n("div",{staticClass:"header-gosurf__slider-item slider-item bg__west"},[n("div",{staticClass:"slider-item__info"},[n("div",{staticClass:"slider-item__info-suptitle suptitle-left"},[t._v("Surf")]),n("div",{staticClass:"slider-item__info-title"},[t._v("West Shore")]),n("div",{staticClass:"slider-item__info-suptext suptitle-left"},[t._v("Condition")]),n("div",{staticClass:"slider-item__info-text"},[t._v("Radical")]),n("a",{staticClass:"slider-item__info-link",attrs:{href:"#"}},[n("img",{attrs:{src:i("1bb8"),alt:""}})])])]),n("div",{staticClass:"header-gosurf__slider-item slider-item bg__east"},[n("div",{staticClass:"slider-item__info"},[n("div",{staticClass:"slider-item__info-suptitle suptitle-left "},[t._v("Surf")]),n("div",{staticClass:"slider-item__info-title"},[t._v("East Shore")]),n("div",{staticClass:"slider-item__info-suptext suptitle-left"},[t._v("Condition")]),n("div",{staticClass:"slider-item__info-text"},[t._v("Radical")]),n("a",{staticClass:"slider-item__info-link",attrs:{href:"#"}},[n("img",{attrs:{src:i("1bb8"),alt:""}})])])])]),n("VueSlickCarousel",{ref:"c2",staticClass:"slider-dots",attrs:{asNavFor:t.$refs.c1,arrows:!1,slidesToShow:4}},[n("div",{staticClass:"slider-dots__item"},[n("div",{staticClass:"dots-box"},[n("div",{staticClass:"dots-box__number"},[t._v("01")]),n("div",{staticClass:"dots-box__name"},[t._v("North Shore")])])]),n("div",{staticClass:"slider-dots__item"},[n("div",{staticClass:"dots-box"},[n("div",{staticClass:"dots-box__number"},[t._v("02")]),n("div",{staticClass:"dots-box__name"},[t._v("South Shore")])])]),n("div",{staticClass:"slider-dots__item"},[n("div",{staticClass:"dots-box"},[n("div",{staticClass:"dots-box__number"},[t._v("03")]),n("div",{staticClass:"dots-box__name"},[t._v("West Shore")])])]),n("div",{staticClass:"slider-dots__item"},[n("div",{staticClass:"dots-box"},[n("div",{staticClass:"dots-box__number"},[t._v("04")]),n("div",{staticClass:"dots-box__name"},[t._v("East Shore")])])])]),t._m(0),t._m(1),n("div",{staticClass:"header-gosurf__map"},[n("div",{staticClass:"header-gosurf__map__img"},[n("svg",{attrs:{width:"1000",height:"488",viewBox:"0 0 1000 488",fill:"#fff",xmlns:"http://www.w3.org/2000/svg"}},[n("g",{attrs:{opacity:"0.29827"}},[n("path",{attrs:{d:"M1008.08 155.448L443.182 -364.858V-755.19L28.1096 -778C24.9043 -770.456 4.36709 -748.714 7.57176 -736.596C11.43 -722.102 30.8387 -726.735 36.4776 -717.409C43.0661 -706.42 31.7291 -661.749 28.3457 -648.86C21.8759 -624.445 7.09676 -604.665 2.82235 -580.25C-4.35982 -539.263 10.1824 -542.53 37.7242 -516.927C84.141 -473.742 46.9244 -428.952 58.6176 -378.223C68.1146 -336.878 109.605 -315.554 124.8 -274.211C136.553 -242.37 152.697 -234.233 177.746 -210.947C177.153 -225.084 164.51 -266.785 188.253 -263.102C211.817 -259.478 202.736 -224.669 207.247 -210.115C211.045 -197.997 237.933 -173.761 215.616 -162.593C208.196 -158.91 187.066 -173.582 178.577 -177.503C184.572 -158.791 180.774 -139.367 190.271 -121.487C201.608 -100.162 213.835 -108.359 228.853 -96.7754C244.344 -84.8355 242.683 -71.1137 235.797 -53.0554C228.615 -34.2247 221.196 -37.1352 232.592 -14.4434C240.843 1.95119 254.85 22.7421 266.9 35.2164C273.904 42.4634 281.502 44.1267 288.506 53.3932C294.323 61.1155 292.067 71.2142 299.012 78.1638C310.883 90.1037 331.006 90.282 340.384 105.904C350.831 123.309 338.96 136.437 369.706 134.833C371.309 169.643 377.897 201.185 377.541 235.994C394.695 242.825 422.414 234.687 440.399 231.063C458.266 255.18 481.355 238.429 501.774 251.558C510.678 257.26 508.837 271.517 514.239 276.506C525.339 286.723 533.529 280.308 547.301 283.872C557.51 286.486 565.404 293.97 575.138 296.703C584.338 299.257 599.475 293.258 606.301 301.396C614.492 311.138 600.78 328.958 613.127 336.799C623.395 343.333 638.115 327.77 648.088 330.027C659.721 332.7 693.079 363.174 701.271 373.212C710.59 384.677 719.969 406.062 725.25 420.793C733.501 443.841 732.373 455.127 749.408 471.998C760.27 482.75 749.942 483.522 767.63 486.67C779.204 488.749 794.518 480.374 806.212 479.067C830.549 476.394 855.122 481.027 879.102 476.453C901.421 472.176 922.729 465.166 945.64 461.899C965.465 459.048 1000.37 461.246 1017.94 451.801C1036.99 441.643 1038.71 418.654 1011.17 422.932C1008.97 408.26 1018.77 388.003 1007.85 377.847C1023.04 357.056 1028.56 342.384 1030.93 316.959C1032 305.792 1032.48 293.436 1038 284.05C1043.4 274.783 1058.59 269.259 1061.56 261.299C1066.13 248.943 1058.83 243.419 1053.25 236.528C1049.69 232.073 1039.54 234.212 1036.63 230.291C1031.23 223.103 1036.57 215.678 1033.6 208.431C1024.94 187.462 1014.61 179.205 1008.08 155.444C1008.26 159.424 1008.44 163.463 1008.2 167.384",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})]),n("path",{staticClass:"line-animation",attrs:{d:"M729.114 75.9394C720.546 99.3208 740.614 107.526 756.675 122.807C761.434 127.336 761.888 134.817 756.879 139.342C746.107 149.074 705.264 134.917 707.854 147.745C710.53 160.994 745.061 179.531 746.618 180.799C760.284 191.932 764.735 220.174 757.208 235.658C751.852 246.676 716.342 242.962 705.172 239.293C632.024 215.266 664.985 218.131 582.817 210.67C576.527 210.099 569.935 209.806 563.894 211.65C557.671 213.549 557.869 221.339 559.957 225.55C566.876 239.506 597.849 263.178 589.514 281.523C586.956 287.152 580.963 290.707 578.264 296.27C576.151 300.627 576.385 305.772 575.445 310.523",stroke:"white","stroke-width":"2"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M573.5 318C577.09 318 580 315.09 580 311.5C580 307.91 577.09 305 573.5 305C569.91 305 567 307.91 567 311.5C567 315.09 569.91 318 573.5 318Z",fill:"#4AF6CD"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M661 355C662.657 355 664 353.657 664 352C664 350.343 662.657 349 661 349C659.343 349 658 350.343 658 352C658 353.657 659.343 355 661 355Z",fill:"#4AF6CD"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M725 463C726.657 463 728 461.657 728 460C728 458.343 726.657 457 725 457C723.343 457 722 458.343 722 460C722 461.657 723.343 463 725 463Z",fill:"#4AF6CD"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M365 220C366.657 220 368 218.657 368 217C368 215.343 366.657 214 365 214C363.343 214 362 215.343 362 217C362 218.657 363.343 220 365 220Z",fill:"#4AF6CD"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M729.5 83C733.09 83 736 80.0899 736 76.5C736 72.9101 733.09 70 729.5 70C725.91 70 723 72.9101 723 76.5C723 80.0899 725.91 83 729.5 83Z",fill:"#4AF6CD"}}),n("path",{attrs:{d:"M398.41 302.976L396.17 314H394.218L392.186 304.768L390.138 314H388.234L385.994 302.976H387.482L389.258 312.672L391.386 302.976H393.002L395.178 312.672L397.018 302.976H398.41ZM406.544 309.536C406.544 309.781 406.534 310.032 406.512 310.288H401.136C401.2 311.216 401.435 311.899 401.84 312.336C402.246 312.773 402.768 312.992 403.408 312.992C403.814 312.992 404.187 312.933 404.528 312.816C404.87 312.699 405.227 312.512 405.6 312.256L406.24 313.136C405.344 313.84 404.363 314.192 403.296 314.192C402.123 314.192 401.206 313.808 400.544 313.04C399.894 312.272 399.568 311.216 399.568 309.872C399.568 308.997 399.707 308.224 399.984 307.552C400.272 306.869 400.678 306.336 401.2 305.952C401.734 305.568 402.358 305.376 403.072 305.376C404.192 305.376 405.051 305.744 405.648 306.48C406.246 307.216 406.544 308.235 406.544 309.536ZM405.088 309.104C405.088 308.272 404.923 307.637 404.592 307.2C404.262 306.763 403.766 306.544 403.104 306.544C401.899 306.544 401.243 307.429 401.136 309.2H405.088V309.104ZM411.183 305.376C411.759 305.376 412.276 305.456 412.735 305.616C413.194 305.776 413.631 306.016 414.047 306.336L413.423 307.264C413.039 307.019 412.671 306.837 412.319 306.72C411.978 306.603 411.615 306.544 411.231 306.544C410.751 306.544 410.372 306.645 410.095 306.848C409.818 307.04 409.679 307.307 409.679 307.648C409.679 307.989 409.807 308.256 410.063 308.448C410.33 308.64 410.804 308.827 411.487 309.008C412.426 309.243 413.124 309.563 413.583 309.968C414.052 310.373 414.287 310.928 414.287 311.632C414.287 312.464 413.962 313.099 413.311 313.536C412.671 313.973 411.887 314.192 410.959 314.192C409.679 314.192 408.618 313.824 407.775 313.088L408.559 312.192C409.274 312.736 410.063 313.008 410.927 313.008C411.482 313.008 411.919 312.896 412.239 312.672C412.57 312.437 412.735 312.123 412.735 311.728C412.735 311.44 412.676 311.211 412.559 311.04C412.442 310.859 412.239 310.704 411.951 310.576C411.663 310.437 411.242 310.293 410.687 310.144C409.791 309.909 409.14 309.595 408.735 309.2C408.34 308.805 408.143 308.304 408.143 307.696C408.143 307.259 408.271 306.864 408.527 306.512C408.794 306.149 409.156 305.872 409.615 305.68C410.084 305.477 410.607 305.376 411.183 305.376ZM420.62 313.616C420.065 314 419.436 314.192 418.732 314.192C418.017 314.192 417.457 313.989 417.052 313.584C416.657 313.168 416.46 312.571 416.46 311.792V306.704H414.988V305.568H416.46V303.664L417.932 303.488V305.568H419.932L419.772 306.704H417.932V311.728C417.932 312.165 418.006 312.485 418.156 312.688C418.316 312.88 418.577 312.976 418.94 312.976C419.27 312.976 419.644 312.864 420.06 312.64L420.62 313.616ZM429.179 302.784C429.915 302.784 430.545 302.891 431.067 303.104C431.59 303.307 432.097 303.627 432.587 304.064L431.755 304.992C431.339 304.661 430.929 304.421 430.523 304.272C430.129 304.112 429.702 304.032 429.243 304.032C428.667 304.032 428.193 304.165 427.819 304.432C427.446 304.699 427.259 305.088 427.259 305.6C427.259 305.92 427.323 306.192 427.451 306.416C427.579 306.629 427.814 306.827 428.155 307.008C428.507 307.189 429.014 307.381 429.675 307.584C430.369 307.797 430.945 308.027 431.403 308.272C431.862 308.517 432.23 308.859 432.507 309.296C432.795 309.723 432.939 310.267 432.939 310.928C432.939 311.568 432.779 312.133 432.459 312.624C432.15 313.115 431.697 313.499 431.099 313.776C430.513 314.053 429.814 314.192 429.003 314.192C427.478 314.192 426.23 313.717 425.259 312.768L426.091 311.84C426.539 312.203 426.993 312.48 427.451 312.672C427.91 312.853 428.422 312.944 428.987 312.944C429.67 312.944 430.235 312.779 430.683 312.448C431.131 312.107 431.355 311.616 431.355 310.976C431.355 310.613 431.286 310.315 431.147 310.08C431.009 309.835 430.769 309.616 430.427 309.424C430.097 309.232 429.611 309.04 428.971 308.848C427.841 308.507 427.014 308.096 426.491 307.616C425.969 307.136 425.707 306.485 425.707 305.664C425.707 305.109 425.851 304.613 426.139 304.176C426.438 303.739 426.849 303.397 427.371 303.152C427.905 302.907 428.507 302.784 429.179 302.784ZM439.066 305.376C439.834 305.376 440.431 305.605 440.858 306.064C441.295 306.523 441.514 307.152 441.514 307.952V314H440.042V308.16C440.042 307.563 439.925 307.141 439.69 306.896C439.466 306.651 439.135 306.528 438.698 306.528C438.261 306.528 437.871 306.656 437.53 306.912C437.189 307.168 436.869 307.531 436.57 308V314H435.098V302.192L436.57 302.032V306.736C437.231 305.829 438.063 305.376 439.066 305.376ZM447.641 305.376C448.825 305.376 449.742 305.771 450.393 306.56C451.054 307.349 451.385 308.421 451.385 309.776C451.385 310.651 451.236 311.424 450.937 312.096C450.638 312.757 450.206 313.275 449.641 313.648C449.076 314.011 448.404 314.192 447.625 314.192C446.441 314.192 445.518 313.797 444.857 313.008C444.196 312.219 443.865 311.147 443.865 309.792C443.865 308.917 444.014 308.149 444.313 307.488C444.612 306.816 445.044 306.299 445.609 305.936C446.174 305.563 446.852 305.376 447.641 305.376ZM447.641 306.56C446.18 306.56 445.449 307.637 445.449 309.792C445.449 311.936 446.174 313.008 447.625 313.008C449.076 313.008 449.801 311.931 449.801 309.776C449.801 307.632 449.081 306.56 447.641 306.56ZM457.481 305.376C457.78 305.376 458.057 305.408 458.313 305.472L458.041 306.912C457.785 306.848 457.54 306.816 457.305 306.816C456.782 306.816 456.361 307.008 456.041 307.392C455.721 307.776 455.47 308.373 455.289 309.184V314H453.817V305.568H455.081L455.225 307.28C455.449 306.651 455.753 306.176 456.137 305.856C456.521 305.536 456.969 305.376 457.481 305.376ZM465.872 309.536C465.872 309.781 465.862 310.032 465.84 310.288H460.464C460.528 311.216 460.763 311.899 461.168 312.336C461.574 312.773 462.096 312.992 462.736 312.992C463.142 312.992 463.515 312.933 463.856 312.816C464.198 312.699 464.555 312.512 464.928 312.256L465.568 313.136C464.672 313.84 463.691 314.192 462.624 314.192C461.451 314.192 460.534 313.808 459.872 313.04C459.222 312.272 458.896 311.216 458.896 309.872C458.896 308.997 459.035 308.224 459.312 307.552C459.6 306.869 460.006 306.336 460.528 305.952C461.062 305.568 461.686 305.376 462.4 305.376C463.52 305.376 464.379 305.744 464.976 306.48C465.574 307.216 465.872 308.235 465.872 309.536ZM464.416 309.104C464.416 308.272 464.251 307.637 463.92 307.2C463.59 306.763 463.094 306.544 462.432 306.544C461.227 306.544 460.571 307.429 460.464 309.2H464.416V309.104ZM474.41 301.184V315.568H474.058V301.184H474.41ZM493.237 314H491.765L491.381 309.024C491.221 307.072 491.131 305.573 491.109 304.528L488.725 312.752H487.301L484.789 304.512C484.789 305.845 484.72 307.387 484.581 309.136L484.213 314H482.773L483.685 302.976H485.733L488.053 310.992L490.261 302.976H492.325L493.237 314ZM501.434 312.032C501.434 312.373 501.493 312.629 501.61 312.8C501.728 312.96 501.904 313.083 502.138 313.168L501.802 314.192C501.365 314.139 501.013 314.016 500.746 313.824C500.48 313.632 500.282 313.333 500.154 312.928C499.589 313.771 498.752 314.192 497.642 314.192C496.81 314.192 496.154 313.957 495.674 313.488C495.194 313.019 494.954 312.405 494.954 311.648C494.954 310.752 495.274 310.064 495.914 309.584C496.565 309.104 497.482 308.864 498.666 308.864H499.962V308.24C499.962 307.643 499.818 307.216 499.53 306.96C499.242 306.704 498.8 306.576 498.202 306.576C497.584 306.576 496.826 306.725 495.93 307.024L495.562 305.952C496.608 305.568 497.578 305.376 498.474 305.376C499.466 305.376 500.208 305.621 500.698 306.112C501.189 306.592 501.434 307.28 501.434 308.176V312.032ZM497.978 313.088C498.821 313.088 499.482 312.651 499.962 311.776V309.84H498.858C497.301 309.84 496.522 310.416 496.522 311.568C496.522 312.069 496.645 312.448 496.89 312.704C497.136 312.96 497.498 313.088 497.978 313.088ZM505.981 314.192C505.437 314.192 505.005 314.032 504.685 313.712C504.376 313.381 504.221 312.923 504.221 312.336V302.176L505.693 302V312.304C505.693 312.539 505.731 312.709 505.805 312.816C505.891 312.923 506.029 312.976 506.221 312.976C506.424 312.976 506.605 312.944 506.765 312.88L507.149 313.904C506.797 314.096 506.408 314.192 505.981 314.192ZM510.461 305.568V314H508.989V305.568H510.461ZM509.709 301.52C510.018 301.52 510.269 301.616 510.461 301.808C510.653 302 510.749 302.24 510.749 302.528C510.749 302.816 510.653 303.056 510.461 303.248C510.269 303.429 510.018 303.52 509.709 303.52C509.41 303.52 509.165 303.429 508.973 303.248C508.781 303.056 508.685 302.816 508.685 302.528C508.685 302.24 508.781 302 508.973 301.808C509.165 301.616 509.41 301.52 509.709 301.52ZM517.36 305.376C518.32 305.376 519.083 305.765 519.648 306.544C520.214 307.312 520.496 308.389 520.496 309.776C520.496 310.651 520.363 311.424 520.096 312.096C519.83 312.757 519.446 313.275 518.944 313.648C518.443 314.011 517.856 314.192 517.184 314.192C516.299 314.192 515.552 313.819 514.944 313.072L514.8 314H513.504V302.176L514.976 302V306.624C515.584 305.792 516.379 305.376 517.36 305.376ZM516.832 313.024C517.483 313.024 517.99 312.763 518.352 312.24C518.726 311.707 518.912 310.885 518.912 309.776C518.912 308.635 518.742 307.813 518.4 307.312C518.059 306.8 517.574 306.544 516.944 306.544C516.198 306.544 515.542 306.981 514.976 307.856V311.888C515.2 312.24 515.472 312.517 515.792 312.72C516.123 312.923 516.47 313.024 516.832 313.024ZM529.276 314H528.012L527.9 312.688C527.58 313.211 527.212 313.595 526.796 313.84C526.38 314.075 525.874 314.192 525.276 314.192C524.54 314.192 523.964 313.968 523.548 313.52C523.132 313.072 522.924 312.437 522.924 311.616V305.568H524.396V311.456C524.396 312.032 524.498 312.443 524.7 312.688C524.903 312.923 525.234 313.04 525.692 313.04C526.514 313.04 527.218 312.555 527.804 311.584V305.568H529.276V314ZM532.701 311.968C533.021 311.968 533.288 312.075 533.501 312.288C533.714 312.501 533.821 312.763 533.821 313.072C533.821 313.403 533.725 313.781 533.533 314.208L532.461 316.656H531.405L532.045 314C531.906 313.893 531.794 313.76 531.709 313.6C531.634 313.44 531.597 313.264 531.597 313.072C531.597 312.763 531.704 312.501 531.917 312.288C532.13 312.075 532.392 311.968 532.701 311.968ZM544.331 302.784C544.992 302.784 545.547 302.869 545.995 303.04C546.454 303.211 546.918 303.488 547.387 303.872L546.555 304.848C545.883 304.304 545.174 304.032 544.427 304.032C543.51 304.032 542.768 304.384 542.203 305.088C541.648 305.792 541.371 306.923 541.371 308.48C541.371 309.995 541.648 311.115 542.203 311.84C542.758 312.555 543.494 312.912 544.411 312.912C544.88 312.912 545.291 312.832 545.643 312.672C545.995 312.512 546.368 312.288 546.763 312L547.515 312.96C547.174 313.312 546.736 313.605 546.203 313.84C545.67 314.075 545.056 314.192 544.363 314.192C543.467 314.192 542.667 313.973 541.963 313.536C541.27 313.088 540.726 312.437 540.331 311.584C539.947 310.72 539.755 309.685 539.755 308.48C539.755 307.275 539.958 306.245 540.363 305.392C540.768 304.528 541.318 303.877 542.011 303.44C542.704 303.003 543.478 302.784 544.331 302.784ZM555.3 314L554.468 311.232H550.292L549.46 314H547.924L551.46 302.976H553.38L556.9 314H555.3ZM550.66 310H554.1L552.388 304.24L550.66 310Z",fill:"white"}}),n("path",{attrs:{d:"M598.378 67.784C599.039 67.784 599.594 67.8693 600.042 68.04C600.501 68.2107 600.965 68.488 601.434 68.872L600.602 69.848C599.93 69.304 599.221 69.032 598.474 69.032C597.557 69.032 596.815 69.384 596.25 70.088C595.695 70.792 595.418 71.9227 595.418 73.48C595.418 74.9947 595.695 76.1147 596.25 76.84C596.805 77.5547 597.541 77.912 598.458 77.912C598.927 77.912 599.338 77.832 599.69 77.672C600.042 77.512 600.415 77.288 600.81 77L601.562 77.96C601.221 78.312 600.783 78.6053 600.25 78.84C599.717 79.0747 599.103 79.192 598.41 79.192C597.514 79.192 596.714 78.9733 596.01 78.536C595.317 78.088 594.773 77.4373 594.378 76.584C593.994 75.72 593.802 74.6853 593.802 73.48C593.802 72.2747 594.005 71.2453 594.41 70.392C594.815 69.528 595.365 68.8773 596.058 68.44C596.751 68.0027 597.525 67.784 598.378 67.784ZM609.401 79H608.137L608.025 77.688C607.705 78.2107 607.337 78.5947 606.921 78.84C606.505 79.0747 605.999 79.192 605.401 79.192C604.665 79.192 604.089 78.968 603.673 78.52C603.257 78.072 603.049 77.4373 603.049 76.616V70.568H604.521V76.456C604.521 77.032 604.623 77.4427 604.825 77.688C605.028 77.9227 605.359 78.04 605.817 78.04C606.639 78.04 607.343 77.5547 607.929 76.584V70.568H609.401V79ZM616.106 70.376C616.405 70.376 616.682 70.408 616.938 70.472L616.666 71.912C616.41 71.848 616.165 71.816 615.93 71.816C615.407 71.816 614.986 72.008 614.666 72.392C614.346 72.776 614.095 73.3733 613.914 74.184V79H612.442V70.568H613.706L613.85 72.28C614.074 71.6507 614.378 71.176 614.762 70.856C615.146 70.536 615.594 70.376 616.106 70.376ZM622.278 70.376C622.576 70.376 622.854 70.408 623.11 70.472L622.838 71.912C622.582 71.848 622.336 71.816 622.102 71.816C621.579 71.816 621.158 72.008 620.838 72.392C620.518 72.776 620.267 73.3733 620.086 74.184V79H618.614V70.568H619.878L620.022 72.28C620.246 71.6507 620.55 71.176 620.934 70.856C621.318 70.536 621.766 70.376 622.278 70.376ZM630.669 74.536C630.669 74.7813 630.659 75.032 630.637 75.288H625.261C625.325 76.216 625.56 76.8987 625.965 77.336C626.371 77.7733 626.893 77.992 627.533 77.992C627.939 77.992 628.312 77.9333 628.653 77.816C628.995 77.6987 629.352 77.512 629.725 77.256L630.365 78.136C629.469 78.84 628.488 79.192 627.421 79.192C626.248 79.192 625.331 78.808 624.669 78.04C624.019 77.272 623.693 76.216 623.693 74.872C623.693 73.9973 623.832 73.224 624.109 72.552C624.397 71.8693 624.803 71.336 625.325 70.952C625.859 70.568 626.483 70.376 627.197 70.376C628.317 70.376 629.176 70.744 629.773 71.48C630.371 72.216 630.669 73.2347 630.669 74.536ZM629.213 74.104C629.213 73.272 629.048 72.6373 628.717 72.2C628.387 71.7627 627.891 71.544 627.229 71.544C626.024 71.544 625.368 72.4293 625.261 74.2H629.213V74.104ZM636.988 70.376C637.756 70.376 638.353 70.6053 638.78 71.064C639.217 71.5227 639.436 72.152 639.436 72.952V79H637.964V73.16C637.964 72.5627 637.852 72.1413 637.628 71.896C637.404 71.6507 637.073 71.528 636.636 71.528C636.188 71.528 635.793 71.656 635.452 71.912C635.111 72.168 634.791 72.536 634.492 73.016V79H633.02V70.568H634.284L634.412 71.816C634.711 71.368 635.079 71.016 635.516 70.76C635.964 70.504 636.455 70.376 636.988 70.376ZM646.651 78.616C646.096 79 645.467 79.192 644.763 79.192C644.048 79.192 643.488 78.9893 643.083 78.584C642.688 78.168 642.491 77.5707 642.491 76.792V71.704H641.019V70.568H642.491V68.664L643.963 68.488V70.568H645.963L645.803 71.704H643.963V76.728C643.963 77.1653 644.038 77.4853 644.187 77.688C644.347 77.88 644.608 77.976 644.971 77.976C645.302 77.976 645.675 77.864 646.091 77.64L646.651 78.616ZM654.011 67.976V77.672H658.539L658.363 79H652.491V67.976H654.011ZM663.141 70.376C664.325 70.376 665.242 70.7707 665.893 71.56C666.554 72.3493 666.885 73.4213 666.885 74.776C666.885 75.6507 666.736 76.424 666.437 77.096C666.138 77.7573 665.706 78.2747 665.141 78.648C664.576 79.0107 663.904 79.192 663.125 79.192C661.941 79.192 661.018 78.7973 660.357 78.008C659.696 77.2187 659.365 76.1467 659.365 74.792C659.365 73.9173 659.514 73.1493 659.813 72.488C660.112 71.816 660.544 71.2987 661.109 70.936C661.674 70.5627 662.352 70.376 663.141 70.376ZM663.141 71.56C661.68 71.56 660.949 72.6373 660.949 74.792C660.949 76.936 661.674 78.008 663.125 78.008C664.576 78.008 665.301 76.9307 665.301 74.776C665.301 72.632 664.581 71.56 663.141 71.56ZM672.389 70.376C672.89 70.376 673.349 70.4507 673.765 70.6C674.181 70.7387 674.581 70.968 674.965 71.288L674.261 72.216C673.962 72.0027 673.669 71.848 673.381 71.752C673.104 71.6453 672.794 71.592 672.453 71.592C671.77 71.592 671.237 71.864 670.853 72.408C670.48 72.952 670.293 73.7573 670.293 74.824C670.293 75.8907 670.48 76.68 670.853 77.192C671.226 77.6933 671.76 77.944 672.453 77.944C672.784 77.944 673.088 77.896 673.365 77.8C673.642 77.6933 673.952 77.528 674.293 77.304L674.965 78.264C674.197 78.8827 673.338 79.192 672.389 79.192C671.248 79.192 670.346 78.808 669.685 78.04C669.034 77.272 668.709 76.2107 668.709 74.856C668.709 73.96 668.858 73.176 669.157 72.504C669.456 71.832 669.877 71.3093 670.421 70.936C670.976 70.5627 671.632 70.376 672.389 70.376ZM682.481 77.032C682.481 77.3733 682.54 77.6293 682.657 77.8C682.775 77.96 682.951 78.0827 683.185 78.168L682.849 79.192C682.412 79.1387 682.06 79.016 681.793 78.824C681.527 78.632 681.329 78.3333 681.201 77.928C680.636 78.7707 679.799 79.192 678.689 79.192C677.857 79.192 677.201 78.9573 676.721 78.488C676.241 78.0187 676.001 77.4053 676.001 76.648C676.001 75.752 676.321 75.064 676.961 74.584C677.612 74.104 678.529 73.864 679.713 73.864H681.009V73.24C681.009 72.6427 680.865 72.216 680.577 71.96C680.289 71.704 679.847 71.576 679.249 71.576C678.631 71.576 677.873 71.7253 676.977 72.024L676.609 70.952C677.655 70.568 678.625 70.376 679.521 70.376C680.513 70.376 681.255 70.6213 681.745 71.112C682.236 71.592 682.481 72.28 682.481 73.176V77.032ZM679.025 78.088C679.868 78.088 680.529 77.6507 681.009 76.776V74.84H679.905C678.348 74.84 677.569 75.416 677.569 76.568C677.569 77.0693 677.692 77.448 677.937 77.704C678.183 77.96 678.545 78.088 679.025 78.088ZM689.76 78.616C689.206 79 688.576 79.192 687.872 79.192C687.158 79.192 686.598 78.9893 686.192 78.584C685.798 78.168 685.6 77.5707 685.6 76.792V71.704H684.128V70.568H685.6V68.664L687.072 68.488V70.568H689.072L688.912 71.704H687.072V76.728C687.072 77.1653 687.147 77.4853 687.296 77.688C687.456 77.88 687.718 77.976 688.08 77.976C688.411 77.976 688.784 77.864 689.2 77.64L689.76 78.616ZM692.758 70.568V79H691.286V70.568H692.758ZM692.006 66.52C692.315 66.52 692.566 66.616 692.758 66.808C692.95 67 693.046 67.24 693.046 67.528C693.046 67.816 692.95 68.056 692.758 68.248C692.566 68.4293 692.315 68.52 692.006 68.52C691.707 68.52 691.462 68.4293 691.27 68.248C691.078 68.056 690.982 67.816 690.982 67.528C690.982 67.24 691.078 67 691.27 66.808C691.462 66.616 691.707 66.52 692.006 66.52ZM698.969 70.376C700.153 70.376 701.071 70.7707 701.721 71.56C702.383 72.3493 702.713 73.4213 702.713 74.776C702.713 75.6507 702.564 76.424 702.265 77.096C701.967 77.7573 701.535 78.2747 700.969 78.648C700.404 79.0107 699.732 79.192 698.953 79.192C697.769 79.192 696.847 78.7973 696.185 78.008C695.524 77.2187 695.193 76.1467 695.193 74.792C695.193 73.9173 695.343 73.1493 695.641 72.488C695.94 71.816 696.372 71.2987 696.937 70.936C697.503 70.5627 698.18 70.376 698.969 70.376ZM698.969 71.56C697.508 71.56 696.777 72.6373 696.777 74.792C696.777 76.936 697.503 78.008 698.953 78.008C700.404 78.008 701.129 76.9307 701.129 74.776C701.129 72.632 700.409 71.56 698.969 71.56ZM709.113 70.376C709.881 70.376 710.478 70.6053 710.905 71.064C711.342 71.5227 711.561 72.152 711.561 72.952V79H710.089V73.16C710.089 72.5627 709.977 72.1413 709.753 71.896C709.529 71.6507 709.198 71.528 708.761 71.528C708.313 71.528 707.918 71.656 707.577 71.912C707.236 72.168 706.916 72.536 706.617 73.016V79H705.145V70.568H706.409L706.537 71.816C706.836 71.368 707.204 71.016 707.641 70.76C708.089 70.504 708.58 70.376 709.113 70.376Z",fill:"white"}})])])])],1),t._m(2),n("section",{staticClass:"beaches"},[n("VueSlickCarousel",{ref:"c2",staticClass:"beaches__slider slider",attrs:{arrows:!1,slidesToShow:5,slidesToScroll:5,asNavFor:t.$refs.c1,focusOnSelect:!0}},[n("div",{staticClass:"beaches__slider__inner slider__1"},[n("div",{staticClass:"cart__title"},[t._v("Malibu Beach")]),n("div",{staticClass:"cart__location"},[t._v("California | USA")]),n("div",{staticClass:"cart__btn"},[n("div",{staticClass:"cart__btn__view"},[t._v("VIEW")]),n("span",{staticClass:"cart__btn__span"},[t._v(" - ")]),n("div",{staticClass:"cart__btn__surf"},[t._v("SURF")]),n("a",{staticClass:"cart-btn__link",attrs:{href:"#"}},[n("img",{attrs:{src:i("1bb8"),alt:""}})])])]),n("div",{staticClass:"beaches__slider__inner slider__2"},[n("div",{staticClass:"cart__title"},[t._v("Airlie Beach")]),n("div",{staticClass:"cart__location"},[t._v("Queensland | Australia")]),n("div",{staticClass:"cart__btn"},[n("div",{staticClass:"cart__btn__view"},[t._v("VIEW")]),n("span",{staticClass:"cart__btn__span"},[t._v(" - ")]),n("div",{staticClass:"cart__btn__surf"},[t._v("SURF")]),n("a",{staticClass:"cart-btn__link",attrs:{href:"#"}},[n("img",{attrs:{src:i("1bb8"),alt:""}})])])]),n("div",{staticClass:"beaches__slider__inner slider__3"},[n("div",{staticClass:"cart__title"},[t._v("Cloud Nine")]),n("div",{staticClass:"cart__location"},[t._v("Siargao | Philippines")]),n("div",{staticClass:"cart__btn"},[n("div",{staticClass:"cart__btn__view"},[t._v("VIEW")]),n("span",{staticClass:"cart__btn__span"},[t._v(" - ")]),n("div",{staticClass:"cart__btn__surf"},[t._v("SURF")]),n("a",{staticClass:"cart-btn__link",attrs:{href:"#"}},[n("img",{attrs:{src:i("1bb8"),alt:""}})])])]),n("div",{staticClass:"beaches__slider__inner slider__4"},[n("div",{staticClass:"cart__title"},[t._v("Vieux Boucau")]),n("div",{staticClass:"cart__location"},[t._v("Hossegor | France")]),n("div",{staticClass:"cart__btn"},[n("div",{staticClass:"cart__btn__view"},[t._v("VIEW")]),n("span",{staticClass:"cart__btn__span"},[t._v(" - ")]),n("div",{staticClass:"cart__btn__surf"},[t._v("SURF")]),n("a",{staticClass:"cart-btn__link",attrs:{href:"#"}},[n("img",{attrs:{src:i("1bb8"),alt:""}})])])]),n("div",{staticClass:"beaches__slider__inner slider__5"},[n("div",{staticClass:"cart__title"},[t._v("Malibu Beach")]),n("div",{staticClass:"cart__location"},[t._v("California | USA")]),n("div",{staticClass:"cart__btn"},[n("div",{staticClass:"cart__btn__view"},[t._v("VIEW")]),n("span",{staticClass:"cart__btn__span"},[t._v(" - ")]),n("div",{staticClass:"cart__btn__surf"},[t._v("SURF")]),n("a",{staticClass:"cart-btn__link",attrs:{href:"#"}},[n("img",{attrs:{src:i("1bb8"),alt:""}})])])]),n("div",{staticClass:"beaches__slider__inner slider__6"},[n("div",{staticClass:"cart__title"},[t._v("Airlie Beach")]),n("div",{staticClass:"cart__location"},[t._v("Queensland | Australia")]),n("div",{staticClass:"cart__btn"},[n("div",{staticClass:"cart__btn__view"},[t._v("VIEW")]),n("span",{staticClass:"cart__btn__span"},[t._v(" - ")]),n("div",{staticClass:"cart__btn__surf"},[t._v("SURF")]),n("a",{staticClass:"cart-btn__link",attrs:{href:"#"}},[n("img",{attrs:{src:i("1bb8"),alt:""}})])])]),n("div",{staticClass:"beaches__slider__inner slider__7"},[n("div",{staticClass:"cart__title"},[t._v("Cloud Nine")]),n("div",{staticClass:"cart__location"},[t._v("Siargao | Philippines")]),n("div",{staticClass:"cart__btn"},[n("div",{staticClass:"cart__btn__view"},[t._v("VIEW")]),n("span",{staticClass:"cart__btn__span"},[t._v(" - ")]),n("div",{staticClass:"cart__btn__surf"},[t._v("SURF")]),n("a",{staticClass:"cart-btn__link",attrs:{href:"#"}},[n("img",{attrs:{src:i("1bb8"),alt:""}})])])]),n("div",{staticClass:"beaches__slider__inner slider__8"},[n("div",{staticClass:"cart__title"},[t._v("Vieux Boucau")]),n("div",{staticClass:"cart__location"},[t._v("Hossegor | France")]),n("div",{staticClass:"cart__btn"},[n("div",{staticClass:"cart__btn__view"},[t._v("VIEW")]),n("span",{staticClass:"cart__btn__span"},[t._v(" - ")]),n("div",{staticClass:"cart__btn__surf"},[t._v("SURF")]),n("a",{staticClass:"cart-btn__link",attrs:{href:"#"}},[n("img",{attrs:{src:i("1bb8"),alt:""}})])])])])],1),t._m(3),t._m(4),t._m(5)])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav-bar"},[n("img",{staticClass:"nav-bar__bg_logo",attrs:{src:i("15ee"),alt:""}}),n("div",{staticClass:"nav-bar__menu"},[n("img",{staticClass:"nav-bar__logo",attrs:{src:i("4f02"),alt:""}}),n("div",{staticClass:"nav-bar__menu__inner"},[n("img",{staticClass:"nav-bar__icon",attrs:{src:i("7ed6"),alt:"",id:"surf"}}),n("div",{staticClass:"nav-bar__title"},[t._v("Surf")])]),n("div",{staticClass:"nav-bar__menu__inner"},[n("img",{staticClass:"nav-bar__icon",attrs:{src:i("e5a1"),alt:""}}),n("div",{staticClass:"nav-bar__title"},[t._v("Travel")])]),n("div",{staticClass:"nav-bar__menu__inner"},[n("img",{staticClass:"nav-bar__icon",attrs:{src:i("5428"),alt:""}}),n("div",{staticClass:"nav-bar__title"},[t._v("Sleep")])]),n("div",{staticClass:"nav-bar__menu__inner"},[n("img",{staticClass:"nav-bar__icon",attrs:{src:i("db63"),alt:""}}),n("div",{staticClass:"nav-bar__title"},[t._v("Shop")])]),n("div",{staticClass:"nav-bar__menu__inner search"},[n("img",{staticClass:"nav-bar__icon",attrs:{src:i("f66c"),alt:""}})]),n("div",{staticClass:"nav-bar__menu__inner"},[n("div",{staticClass:"nav-bar__title__day"},[t._v("20")]),n("div",{staticClass:"nav-bar__title__mounth_and_year"},[t._v(" 06 | 2019 ")])]),n("div",{staticClass:"nav-bar__menu__inner map"},[n("img",{staticClass:"map__icon",attrs:{src:i("a803"),alt:""}}),n("div",{staticClass:"map__title"},[t._v(" California ")])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header_down_arrows animate__animated animate__bounce animate__faster"},[n("a",{attrs:{href:"#"}},[n("img",{attrs:{src:i("fb19"),alt:""}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"current_location"},[n("div",{staticClass:"current_location__text text-mod__name-section"},[t._v("surf")]),n("img",{staticClass:"current_location__text-bg text-mod__name-section-bg",attrs:{src:i("04ab"),alt:""}}),n("div",{staticClass:"current_location__cl mod-location-position"},[n("div",{staticClass:"current_location__cl__subtitle text-mod__subtitle"},[t._v("Current location")]),n("div",{staticClass:"current_location__cl__title text-mod__title"},[t._v("California | USA")])]),n("div",{staticClass:"current_location__map-point content"},[n("div",{staticClass:"current_location__map-point-green point__1 "},[n("div",{staticClass:"point__content  "},[n("div",{staticClass:"point__content__row"},[n("div",{staticClass:"point__content__row__name"},[n("div",{staticClass:"point__content__row__name__title"},[t._v("Airlie Beach")]),n("div",{staticClass:"point__content__row__name__subtitle"},[t._v("Australia")])]),n("img",{staticClass:"point__content__row__name__arrows_right",attrs:{src:i("1bb8"),alt:""}})]),n("div",{staticClass:"point__content__row"},[n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("57aa"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("9 - 13")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Surf (FT)")])]),n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("03ed"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("+2.3")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Tide (FT)")])]),n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("e4e9"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("9 - 13")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Wind (KTS)")])])])])]),n("div",{staticClass:"current_location__map-point-green point__2"},[n("div",{staticClass:"point__content  "},[n("div",{staticClass:"point__content__row"},[n("div",{staticClass:"point__content__row__name"},[n("div",{staticClass:"point__content__row__name__title"},[t._v("Airlie Beach")]),n("div",{staticClass:"point__content__row__name__subtitle"},[t._v("Australia")])]),n("img",{staticClass:"point__content__row__name__arrows_right",attrs:{src:i("1bb8"),alt:""}})]),n("div",{staticClass:"point__content__row"},[n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("57aa"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("9 - 13")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Surf (FT)")])]),n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("03ed"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("+2.3")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Tide (FT)")])]),n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("e4e9"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("9 - 13")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Wind (KTS)")])])])])]),n("div",{staticClass:"current_location__map-point-green point__3"},[n("div",{staticClass:"point__content  "},[n("div",{staticClass:"point__content__row"},[n("div",{staticClass:"point__content__row__name"},[n("div",{staticClass:"point__content__row__name__title"},[t._v("Airlie Beach")]),n("div",{staticClass:"point__content__row__name__subtitle"},[t._v("Australia")])]),n("img",{staticClass:"point__content__row__name__arrows_right",attrs:{src:i("1bb8"),alt:""}})]),n("div",{staticClass:"point__content__row"},[n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("57aa"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("9 - 13")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Surf (FT)")])]),n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("03ed"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("+2.3")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Tide (FT)")])]),n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("e4e9"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("9 - 13")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Wind (KTS)")])])])])]),n("div",{staticClass:"current_location__map-point-green point__4"},[n("div",{staticClass:"point__content  "},[n("div",{staticClass:"point__content__row"},[n("div",{staticClass:"point__content__row__name"},[n("div",{staticClass:"point__content__row__name__title"},[t._v("Airlie Beach")]),n("div",{staticClass:"point__content__row__name__subtitle"},[t._v("Australia")])]),n("img",{staticClass:"point__content__row__name__arrows_right",attrs:{src:i("1bb8"),alt:""}})]),n("div",{staticClass:"point__content__row"},[n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("57aa"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("9 - 13")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Surf (FT)")])]),n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("03ed"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("+2.3")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Tide (FT)")])]),n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("e4e9"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("9 - 13")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Wind (KTS)")])])])])]),n("div",{staticClass:"current_location__map-point-green point__5"},[n("div",{staticClass:"point__content  "},[n("div",{staticClass:"point__content__row"},[n("div",{staticClass:"point__content__row__name"},[n("div",{staticClass:"point__content__row__name__title"},[t._v("Airlie Beach")]),n("div",{staticClass:"point__content__row__name__subtitle"},[t._v("Australia")])]),n("img",{staticClass:"point__content__row__name__arrows_right",attrs:{src:i("1bb8"),alt:""}})]),n("div",{staticClass:"point__content__row"},[n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("57aa"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("9 - 13")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Surf (FT)")])]),n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("03ed"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("+2.3")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Tide (FT)")])]),n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("e4e9"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("9 - 13")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Wind (KTS)")])])])])]),n("div",{staticClass:"current_location__map-point-green point__6"},[n("div",{staticClass:"point__content  "},[n("div",{staticClass:"point__content__row"},[n("div",{staticClass:"point__content__row__name"},[n("div",{staticClass:"point__content__row__name__title"},[t._v("Airlie Beach")]),n("div",{staticClass:"point__content__row__name__subtitle"},[t._v("Australia")])]),n("img",{staticClass:"point__content__row__name__arrows_right",attrs:{src:i("1bb8"),alt:""}})]),n("div",{staticClass:"point__content__row"},[n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("57aa"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("9 - 13")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Surf (FT)")])]),n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("03ed"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("+2.3")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Tide (FT)")])]),n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("e4e9"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("9 - 13")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Wind (KTS)")])])])])]),n("div",{staticClass:"current_location__map-point-green point__7"},[n("div",{staticClass:"point__content  "},[n("div",{staticClass:"point__content__row"},[n("div",{staticClass:"point__content__row__name"},[n("div",{staticClass:"point__content__row__name__title"},[t._v("Airlie Beach")]),n("div",{staticClass:"point__content__row__name__subtitle"},[t._v("Australia")])]),n("img",{staticClass:"point__content__row__name__arrows_right",attrs:{src:i("1bb8"),alt:""}})]),n("div",{staticClass:"point__content__row"},[n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("57aa"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("9 - 13")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Surf (FT)")])]),n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("03ed"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("+2.3")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Tide (FT)")])]),n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("e4e9"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("9 - 13")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Wind (KTS)")])])])])]),n("div",{staticClass:"current_location__map-point-green point__8"},[n("div",{staticClass:"point__content  "},[n("div",{staticClass:"point__content__row"},[n("div",{staticClass:"point__content__row__name"},[n("div",{staticClass:"point__content__row__name__title"},[t._v("Airlie Beach")]),n("div",{staticClass:"point__content__row__name__subtitle"},[t._v("Australia")])]),n("img",{staticClass:"point__content__row__name__arrows_right",attrs:{src:i("1bb8"),alt:""}})]),n("div",{staticClass:"point__content__row"},[n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("57aa"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("9 - 13")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Surf (FT)")])]),n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("03ed"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("+2.3")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Tide (FT)")])]),n("div",{staticClass:"point__content__row__inner"},[n("img",{staticClass:"point__content__row__inner__icon",attrs:{src:i("e4e9"),alt:""}}),n("div",{staticClass:"point__content__row__inner__number"},[t._v("9 - 13")]),n("div",{staticClass:"point__content__row__inner__title"},[t._v("Wind (KTS)")])])])])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"travel"},[n("div",{staticClass:"travel__slider"},[n("div",{staticClass:"travel__slider__inner",staticStyle:{"background-image":"url(../../assets/My-works/sites/Beach/travel/travel.png)"}},[n("div",{staticClass:"travel__slider__text text-mod__name-section"},[t._v("Travel")]),n("img",{staticClass:"travel__slider__text__bg text-mod__name-section-bg",attrs:{src:i("a111"),alt:""}}),n("div",{staticClass:"travel__shore mod-location-position"},[n("div",{staticClass:"travel__shore__subtitle text-mod__subtitle "},[t._v("Shore")]),n("div",{staticClass:"travel__shore__title text-mod__title "},[t._v("Airlie Beach | Australia")])]),n("div",{staticClass:"travel__airline "},[n("div",{staticClass:"travel__airline__subtitle text-mod__subtitle"},[t._v("Airline")]),n("div",{staticClass:"travel__airline__title text-mod__title"},[t._v("Virgin Australia")]),n("img",{staticClass:"travel__airline__logo-airline",attrs:{src:i("4474"),alt:""}})]),n("img",{staticClass:"travel__airline__plane",attrs:{src:i("4a6a"),alt:""}}),n("div",{staticClass:"travel__price"},[n("div",{staticClass:"travel__price__inner"},[n("div",{staticClass:"travel__price__inner__subtitle Destination text-mod__subtitle"}),n("div",{staticClass:"travel__price__inner__title  text-mod__title"},[t._v("Queensland Australia")])]),n("div",{staticClass:"travel__price__inner"},[n("div",{staticClass:"travel__price__inner__subtitle Distance text-mod__subtitle"}),n("div",{staticClass:"travel__price__inner__title  text-mod__title"},[t._v("7,065 Miles")])]),n("div",{staticClass:"travel__price__inner"},[n("div",{staticClass:"travel__price__inner__subtitle TravelTime text-mod__subtitle"}),n("div",{staticClass:"travel__price__inner__title  text-mod__title"},[t._v("23 Hours 5 Minutes")])]),n("div",{staticClass:"travel__price__inner"},[n("div",{staticClass:"travel__price__inner__subtitle Pricing text-mod__subtitle"}),n("div",{staticClass:"travel__price__inner__title  text-mod__title"},[t._v("$1,976 USD")]),n("span",{staticClass:"travel__price__inner__suptitle"},[t._v("Round Trip")])])]),n("a",{staticClass:"travel__btn ",attrs:{href:"#"}},[n("div",{staticClass:"travel__btn__book"},[t._v("book")]),n("span",{staticClass:"travel__btn__span"},[t._v(" - ")]),n("div",{staticClass:"travel__btn__flight"},[t._v("Flight")]),n("img",{attrs:{src:i("1bb8"),alt:""}})]),n("img",{staticClass:"travel__slider__cocktail",attrs:{src:i("aedb"),alt:""}})])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"sleep"},[n("div",{staticClass:"sleep__slider"},[n("div",{staticClass:"sleep__slider__inner",staticStyle:{"background-image":"url(../../assets/My-works/sites/Beach/sleep/sleep.png)"}},[n("div",{staticClass:"sleep__slider__text text-mod__name-section"},[t._v("Sleep")]),n("img",{staticClass:"sleep__slider__text__bg text-mod__name-section-bg",attrs:{src:i("ce9f"),alt:""}}),n("div",{staticClass:"sleep__shore mod-location-position"},[n("div",{staticClass:"sleep__shore__subtitle text-mod__subtitle "},[t._v("Resorts")]),n("div",{staticClass:"sleep__shore__title text-mod__title "},[t._v("Auberge | Australia")])]),n("div",{staticClass:"sleep__airline "},[n("div",{staticClass:"sleep__airline__subtitle text-mod__subtitle"},[t._v("Rating")]),n("div",{staticClass:"sleep__airline__title text-mod__title"},[t._v("Excellent")])]),n("img",{staticClass:"sleep__airline__plane",attrs:{src:i("7c24"),alt:""}}),n("div",{staticClass:"sleep__price"},[n("div",{staticClass:"sleep__price__inner"},[n("div",{staticClass:"travel__price__inner__subtitle Destination text-mod__subtitle"},[t._v("Resort")]),n("div",{staticClass:"travel__price__inner__title  text-mod__title"},[t._v("Auberge Australia")])]),n("div",{staticClass:"sleep__price__inner"},[n("div",{staticClass:"travel__price__inner__subtitle Distance text-mod__subtitle"},[t._v("# of Nights")]),n("div",{staticClass:"travel__price__inner__title  text-mod__title"},[t._v("5 Nights")])]),n("div",{staticClass:"sleep__price__inner"},[n("div",{staticClass:"travel__price__inner__subtitle TravelTime text-mod__subtitle"},[t._v("# of Guests")]),n("div",{staticClass:"travel__price__inner__title  text-mod__title"},[t._v("4 Guests")])]),n("div",{staticClass:"sleep__price__inner"},[n("div",{staticClass:"sleep__price__inner__subtitle Pricing text-mod__subtitle"},[t._v("Pricing")]),n("div",{staticClass:"sleep__price__inner__title  text-mod__title"},[t._v("$349 USD")]),n("span",{staticClass:"sleep__price__inner__suptitle"},[t._v("Per Night")])])]),n("a",{staticClass:"travel__btn ",attrs:{href:"#"}},[n("div",{staticClass:"travel__btn__book"},[t._v("book")]),n("span",{staticClass:"travel__btn__span"},[t._v(" - ")]),n("div",{staticClass:"travel__btn__flight"},[t._v("Flight")]),n("img",{attrs:{src:i("1bb8"),alt:""}})])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"shop"},[n("div",{staticClass:"shop__slider"},[n("div",{staticClass:"shop__slider__inner",staticStyle:{"background-image":"url(../../assets/My-works/sites/Beach/shop/shop_bg.png)"}},[n("div",{staticClass:"shop__slider__text text-mod__name-section"},[t._v("Shop")]),n("img",{staticClass:"shop__slider__text__bg text-mod__name-section-bg",attrs:{src:i("34cd"),alt:""}}),n("div",{staticClass:"shop__style"},[n("div",{staticClass:"shop__style__subtitle text-mod__subtitle"},[t._v("Style")]),n("div",{staticClass:"shop__style__title text-mod__title"},[t._v("North Nugget TT Surfboard")]),n("div",{staticClass:"shop__style__star"},[t._v("5 star")]),n("div",{staticClass:"shop__style__cost text-mod__title"},[t._v("$799.99")]),n("div",{staticClass:"shop__btn modificator-btn"},[n("div",{staticClass:"shop__btn__book"},[t._v("drop")]),n("span",{staticClass:"shop__btn__span"},[t._v(" - ")]),n("div",{staticClass:"shop__btn__flight"},[t._v("In")]),n("a",{staticClass:"shop__btn____link",attrs:{href:"#"}},[n("img",{attrs:{src:i("1bb8"),alt:""}})])])]),n("div",{staticClass:"shop__btn modificator-btn"},[n("div",{staticClass:"shop__btn__book"},[t._v("Go")]),n("span",{staticClass:"shop__btn__span"},[t._v(" - ")]),n("div",{staticClass:"shop__btn__flight"},[t._v("Surf")]),n("a",{staticClass:"shop__btn____link",attrs:{href:"#"}},[n("img",{attrs:{src:i("1bb8"),alt:""}})])])])])])}],a=i("a7ab"),o=i.n(a),s=(i("7b8d"),i("6a2c"),{components:{VueSlickCarousel:o.a},data:function(){return{}}}),c=s,l=(i("c5dc"),i("2877")),u=Object(l["a"])(c,n,r,!1,null,null,null);e["default"]=u.exports},c879:function(t,e,i){t.exports=i.p+"img/4.7587983a.png"},cde2:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEcAAAA9CAMAAADI14SKAAAAh1BMVEUAAADoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUUhyN5sAAAALHRSTlMA+grp9eUVBvDRrG4mEAQ3LyshdOC9gWZOyrefG9mai0HDsFxUR4amfGOUTOkMquoAAAJ4SURBVFjDzZXpjpswFIWvsQ02S9gJS8i+Tea8//OVdDqqptPkAlGlfv8Qxx9X+ICJIYqrthB3ZFlt3QXNYREGPQAj7xgA+hrOMK2uCijaqg7TNA3rYTBAVdlUzckCzTWk34R5A+ijN8XiVECRf1sSWGDtTNBcgDah77gXwI/Garw9cH5wLxdox060gcjpEQeFy7htq4GKHhMA+agNL7B/uilrqHTEy9mgcJ+33GLN736i1BsTOSiRsOOcUS64TMm3yNUiII6lUi4T2aJ3WY/bo2a74xOPjw2T2Ikx5cjFjklocyKek9FMAjIknlCCSQiZEk8qBefR2X/lGfd+Mg0mYUxMPLHh5rFiSTxL0TOJDh3xdFgziSOsx2o8iwP3NzTqyHreDTLuUR38EZ/p3iGGLUzNRST4jzC6YOc9H3mHSzSiGwqbxfNflIppBAEQPO3OcHsMTgcsH2uAzqFxIh94dPa8Af6gGS9aPprmrpkiOv6t7dM0g6iFTL6ftRKlQ5NwLazzp9zCrmgiiUHwtUaLACahyZyFjr42XYszTSfUcH/2uyw3dXT3QIczPKviw3MEYPrmdtyiWM3wZAVSGnDivBUAlIT15syjkTgfCx03CXwtTE4zWOwgmi5IXOfj0gnDBc1ha6UAIPbVKRtk81mky64pDAbs+i3OInqBVV3tG40B47vzFFnyuTBersteyXCex6rd+RCvPq31O82jxYBobsEppFdw34NbqTDQ+9UhcV5xRfHbtdUY0OWVXiNK67zrAcztz3qfb3+VxsviejvXA0DacnNI6TVO550AoLT1g8R7QeS5WRzsJQAhG4dew3HTw61RMqJ/zQ8QHDZt5tZk2AAAAABJRU5ErkJggg=="},ce81:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE8AAAA8CAMAAAAQXBfbAAAAllBMVEUAAADoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUVQMXzHAAAAMXRSTlMA+d3rYe8CgCjzsjtSTGwQC9jJz6t0LiwI4JUYFLiln1ocBOSZfUUkwJFm04k0u4Q/ly/7FAAAAxhJREFUWMOtmOmSqjAQhTvGMBAWWUVQQQV3Rz3v/3K3XOrOQobgDOdnV/OluzkdS0ij1UFGYDfhKPfOdEJ/04jD4g9ZAJhcTI2/8FaL0+LdTNPUHDtv8VEA3JtRX1pt8iND5RrUm0ZJAJbPqEfi3sLRpB7lDBC8BjTGw6SM4+IyfCeFtseXgBOn4HgqK11FxmyHaNsVNy0YkNXrw2JdHgFWL5s5aYDC74YzA7DC3Rr3vpduDIRpM2sjkGhRz5Mrx/jUvGchUgzrDSzt4oZdY9SbDGeF4c7IO2zzEPza6I3hpHCNBVtfXqB61EOl8M0cpbZAB5XibS5DZYGCLXU+3iNWxT2EikdDJIaGFzFPFR9X2DSja+w0HlwJSzljf45FM/rO2VSzaT/wjBhDRTSA086bWUK9lqWKRxJv7Tzf4qTUm5J3YYWhmd9LPIcFvfLeLbFquafcpGSsLONDZ56ArA+m8g3a5ZHhIdmVZwsAyKTbvPQkA6r5OvGu143ZlTflzDsNADb/tt5DC5DuctSYbjuPuDCMqS2BL2s12QOhrWLpeav7rEJgP/m0h9irFlHPi55+8ff4uF0XQEL0K57/v4wEeLacWsipC69dOXC9H1Eg9HvgGTvMRzcPQTjUA482HC7RpIakXngUQ/o0ZdaiJ54rsCUXgd8TjyIcqEbckuElq2+80eXwY3aNgiLW5r0M9fQLbxsj/DH7wAZkCbuFlzDMp594ZoiWcduCEeMmtcgD5rMHT4sjk994Y2rTQmBnPnl2hGzTkjt+8LQuCOw7z6mQ2aTlpXpbZTMPzphj0IqjtEt99zZ3Z8gI51uqpr7I0m+vGeGm3VKTN2QRxbiQVtsQuBlHoxwxeTiTXrPS2uvXMoRHJiqT+pEjYJIvkffEKyB9IheDbS84V8B9/HUq+sAZ4eO+Jxts2AMvB572XEPrQb3WHz+6Iwnx1wovQD2hDyDLR3+gbeeA/AQYxUCwnv2Stsw5cDK+frbhYJn07PQlcxtmek1kBQzcxiFrATDB+eAFZZwLBmTDkeKsmVOHFntV1vm0mXz0+g+fe1LERa8HjQAAAABJRU5ErkJggg=="},ce9f:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfIAAACTCAYAAAB1TpubAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAmLSURBVHgB7d0JdtpIFAVQiZD9L7gxan0iOQpmEKChhnvPoY3ttEMs4NWvsW16Xde1zV/37k91d+43bdt2DQCwibYP8d/N8qZhfo7PBTwALO/YrGNayf+K//QNhsuH4WvCHQAWsFaQ3zMG/Bju38Heh/q5AQBeslbX+rsi2JMP9WFOwdaNoGeih+PUENcnrk3bsJbTJ71pib5+itJfn/+aD/TX6NAMBVchugdf66bfz7GnOLUXU7zAf/VPongCRZifdb8DvMR75k/tzK9lOQyccqs4WoSHoftd1zskQuOaClwPA18+DF9LLtxz6N4aq/QIdoEO+xLi6fMeuY5bc7zGQnPX10VO41QCHeA5ja1ttMPtsHeo5zjhZBroX7r5YFNeb/DTj1Dvs+mr2cihyddl5uswMQ7YhiBPnOJmd2Og/94qn0pYAnIYlrPobof1CQmY7zAZDl6tQs+5Ip+aLlsDVqLaS57rk6ZVK/TSNmUYq3Nj5wCkZpUe5FIq8ilj57AOjeP0GV5M3+I9yCUG+eggzIHKaGzlIzLqeHWM+Hs/qCnbYdh3G/icag+WtUgPculBHlphDotQ7SXO3KBsfdSDXEOQB2EOQMre7kGuJciBD6n2kuf65O+torOWII8n+Gbb5QHAm14O8xqC/BLiqgn4iNdP+kxGLEf7yph5DUG++xFzABvwPleW2RPgSg9y+6/DMryOYHuHOevMSw7y85bHyEHhVHuJ0/NYrKfj5aUGuRAHoAjPJr+VGOTRKtUNCAtS7SXP9Slb+6iL/V7Kn68+/vlJVy/mqx/cDrfr+1syQx2okfe88sXEt9Otb0yDPEI7ngzd3CC8+nO3Qv76tjYhDsvzmkqfa1S+y5K0W8PGEeSrVLHDz/v+mUOwH5r1uvOFOFAr7311iPy8GeSbBODwd3z1gR6V/xjqS1XplpmRulND6lyjtH29+j7/YPg32/lh/b/pcP17OG5dxU4q9XM8oObzQDdDnSzoMUpa5/qU597w76SgHIvKnMTj/TfImx0NrYpPAr0T4gC8Yjr0O4T6msO+S7vMYJ82UpJ44BHo/S26tSKU57aKHYQCwEciEIeCMDIol16Zw91P9jZU6PELfTYOYpkZAIsZ53E1eexDkm6Qh0nr6FF1LsQBWNQkf5IP8+lEvmTHBB5U504zA2A1mYR5+kEerqrzYIY6AFtIPcgPP+6kbKjOT0IcgC1MxsxTlUdFPqU7HYAtjUukm0SN4+Qln0cOAJ9KvogU5ABwR+Lbf6vIAWCGVMNckAPADKl2rwtyAJgh6XFyQQ4ADyS8akpFDgAzJVuVH4YjRAGA+9IN8v72qw/zXw0AkJXYFOY43B8rc3uZA0BGjlefH4Yt3zqBDgDpO974WgR5O1bojWNDASBZxyffjzCPKj2CXJUOAAmJQvtZkH//2eZvlR6hfk58/1kAqMLcIJ+KUB9nugt1AGqQ7FLtd4J8SqgDwD4u89c+DfIpoQ5AcYbVXMlaMsinhDoApagyyKemoW45GwC5STXIF+9an8NyNqqVevdc7Q3s1K9PUATtRpDfYNMZarPXa222/vX4VfEQWLwn5XCNTt4rtzU08AT5E9Mq3Vg6AClJdtnZ2KhL6QGOY+lHR6sCkIhU8+i7ZybFByjQAdhdLkd8pxyU34HeAMCGhkIy5Yz8HobOoeKNSXG/c2kZAVCE1PPxu2s9p2p3PCvdhDgAVjP0BKe8HLGbrl7IbQx6urkMACwqgxAP/yxBzHX8eazOv6ypBOBTkzHx5DcGaibj4yHniWSXDRz6X/7ZDnEAvGMoCqOXN4cAD911AVvCjPBLdd47NQDwxBDeY/WdS4CPfswRK2VpV8xsPwpzgGK1H+yH3zb/hnZu4T31Yzi5pDXawhygXKmv697CzXNJSvultDaQAaBQN5del9i6EeYAlObuKaGldlMIcwBKcTkd9N43Sx5vaG0cA0ABzo/2TCl94sDhg1mOALC37tm25DXMAFSVA5CjqMKfbnhWQ5DrYgcgR+c525DXsiav9rWHAORl9kmf1QScWewAZOKlM0RqqlRbE98ASNzDpWa31NblrIsdgFRdJre9ejy3IAeA/b0V4iHGjaOEr2ms/DB3AgEsyGE+6XON2Etk0vmdEA9xWthXH27xQ8Yj3orfJKZ5cfwBlvDui5RNdK4PO3lpYtstl5ncwxP48iSuINRNeANgb293pV/7sSSrhlCP2eta3wDs5KOu9GsP11bfCPVSDnaPf8NHXRkA8KLFqvCp2ZukDH/xdDz90OTbTa17HYCtjGvDV5mL8fJuZ5Mq/RwzwJs8A12QA7C2VQN89NG2pcMyrjHQszqYxDg5ACvZJMBHi+w/HoHeB2M82Ahz1S4ANbqEd7PxcsbFDhIZHvQpo+rchDcAPrVp9X3L4ieCDdV53HUGOACl6aa3FIZoVznacwjz1NeeGwIA4Jnkgvvammd0V7WHOwBZ+t4v5dbnOUyKXi3I4x/fizFoXewAfOrcLHhORkmrltasyEPKvyhd6wD5cLDNHat2fU+3eAUAlrfFGLYgB4CVCHIAyJhZ5QCQMRU5AGSs5opcAwOA7G0R5JZ5AcBKBDkAZEzXOgBkbIsgT7WxIMgByN6qITucTZ4qQQ5A9tYO2mSD3J69AJRgtaDtq/E49SzViW5CHIAirBLkQ5e6bnUAWNlax5imPht+sTNtExIHwK99LO0evgyDANy36Bt/HyTRlZ5yl/pFwcFQ3Jp9IQ7w2GJBPoyJ57AuvcRqnAwMDd3sldq4cn3I1cdBPpnUlsuLQJDno6Q3pFKGPeKanJryxPtXEdeof08+CfO6vPXEHVquUX3nFOCh8wTPimsF8MRxZndSe3XLlWo8L4Ic4IljU06X3zNdIxhy43oBPFHToSm61QEoTi1BHgGuWz0zGl4Az9US5GehAECJagjy6FJXjedHwwtghhqC/KsBgEKVHuT26c6XXhSAGUoO8rMu9axpgAHMUGqQm6UOQBVKDPIIcV3qmXP9AOYpLciFOABVKSnIhXg5XEOAmUoJciEOQJVKODAlJrXZua0sJioCzJR7kEeA2/AFgGrlGuSX5WXWiRdL7wrATDkGua50ABjkFOSq8EpopAHMl0OQj7u0dd7gq+AaA7wg5SAX4ADwRIpBLsDr5poDvCClIL+EdyPAa+faA7xg7yBXfXPN8wDgBW3Xdb+bbam8AWAha1fkXfO3wrosGxPeALCcpYK8u/ootAFgAxHk073K2zt/rrtz/8//JLABYBf/AysLxaQ2MK6bAAAAAElFTkSuQmCC"},d71a:function(t,e,i){t.exports=i.p+"img/6.56da8072.png"},da06:function(t,e,i){t.exports=i.p+"img/Frame 1.daa84b1e.svg"},db63:function(t,e,i){t.exports=i.p+"img/Shop.828074fd.svg"},dbf0:function(t,e,i){},dbf8:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAiCAYAAAA+stv/AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmNjY3YjExZC0xMjlhLWJkNDAtYjY0ZS1lMzJhNWU5ODM1ZTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDIyOUMyMzBFOTI0MTFFOTg5QzBCRDk4NENEQ0VEMDQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDIyOUMyMkZFOTI0MTFFOTg5QzBCRDk4NENEQ0VEMDQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OWYyOWNhMDgtMDFlNC0yYzQyLWFiYzItZTYxMmUxMWYzZmEyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmY2NjdiMTFkLTEyOWEtYmQ0MC1iNjRlLWUzMmE1ZTk4MzVlOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pq7J33wAAAExSURBVHja7JjLCoJAFIYdG1r1VL1F20poFS2CalHZIigIgqA2ScteqF6gXsFWRdgRTmQyo3PNRQ78HC+j3yfqOEiiKHKKbHR3PaseSyANrEeI0pVQDXgAaeJ6HdJWkXANwB1cDnCfVQEWXEvC1YQfMDyJOSTEqiXAg3sYnsQAUoP0dR7CLPgY170EPFkrWKuqAnlwP7GdJ6H8GsrAfY6EsoAMXFSCsMYJagguIhGwBitqEJ4n8a5fEtQwXFqCWoBLSVAcjPYMeNxhoggXlogF1pbgIhJhLNCxCM+TaMUCK0gX4T0LcJbEDS90Q7aXU7LT1BI8LTLjfQ3T8AW+IemMGCcW7evrzoiMtlKgFMibEQ0x5S34H4HnD5j3LIFluoPh9sCP32caVvT/gcKfgZcAAwBJk2cJSVpGZQAAAABJRU5ErkJggg=="},dd0c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA9CAMAAADGfvrlAAAAkFBMVEUAAADoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUVg7Nl1AAAAL3RSTlMAP+U7+R7ABXDpuyESGhcKw6THc2b2ykcO4O2TzpnwtoB6azOrbWAo3YbXsI1OVpfXVQ0AAAPfSURBVEjHrdZpk6IwEAbggAEWEASV02NEVDzGef//v9uQg3C4bG3V9hcdmKe6Jd0k5D+FtUuoZ5CZcG4Fvd8+3QkjJCXMOb0BStDzR+ve6jWKZs7u6hi4jm8Ea560KZBaM5aQ1VRb3LJYMO1/tL+4lXpsF+KrUWK9mrGEOEz/6tXMrYwfIF59sgdCtL72rMusiivTzue8Ux2m2mo9tkdVjfrdZ267vNXFl/+rtLZAPNKUaUtbQBXwDcS5thQXduXS1znXO5iGsg8FVgeg6lkvJ7upPpIkEc16YpaVqnWykb3B7JIsPTCd9ys3QXA0Otu/tQPdOCLv15IEHqidDHRdUvJCFBCH2ZMznKAdXIs4G24tZs/5o1+5cceaGCa8oNJW6+3WcTboLLvCn1pn04Z9uCjpsSKfQlobCbNMP46yckOMANeIZ6zP7FZeeQGXZWe5NvE0xLfMmbWZCabD2sSeWaXFYr8Bf9BXHqs5Au1siWcM2E/se0O/2Ldj9aZ4LT/Ym7ZFTU4U3Oqw9iiqEl+rvrXZ+kaAymuUfHAXibZa637W1h5ag9l7Z3X4KZCNbDi0bmtN/pwneo/nomdDEnrAWVkXUVtz0T3nUeUpzEU3R0ObMWuJvKrmqS6agb1qa/s8r7Sfda1mMOjbcsZ2EfqOmMGpFbPgk9nQM9jZIzxLzOC8Hc6gtpO88zPYtwGfI7MmS2fO6jmaWNYijb35Vxt2Y5cBIz0zgwMr3or4NW/1DN60lY070jMzuAXszso4aD219tAGvJ/dzmo9teHQRtrO6S3fu4PeHN2omKNiZIkz1nUCrDfZRdutsIHIO9a0ryu0UQJXZRNEPrNR2xvjWA10GOFUn74GNg65NYWd6q5bDJQ1cZZr9dY+JzjkzNrSTvVO597g1Xa8J/GZ4rBSdpWLvdxy+trhO7A8DZ3aTxuWPM8cHGXzr8Jo7YVmZKhlIy5wzATOmqaRp6ZQPKvlF4oFyV9IDFnxwlfrbYtFtnltKXjQg7LyfX7PYhx/ZMYHXuqoErUleXiIY4nNgh+OxDm2e58D9zcR8VBTaZhcNbykLvbYqHOs3olO2lZia3SxDttGRLQaNEyszrFaP43PNrfxPWhVeldWa1HICTgpm7aWNDgOOsGgmPSzxUe66tl1IMYHa6frHKOKC2111C6eh86ayq5sdRjOf76jEsB+Vw+gSgZUnbXkSiB5t4WdLykFEFWZr8BYH0O5RpG0ZIs9WZy8JwB6udXhlOkd2gu4vTfqWgw3bUsyv7Mm/6NUKeubi0I/kRIs0qoOHPK3eCcoE9x7a1OU8dbPOzmvU5rEjf77N90wkm3jDSgbAAAAAElFTkSuQmCC"},ddce:function(t,e,i){t.exports=i.p+"img/2.a72a72af.png"},e02c:function(t,e,i){t.exports=i.p+"img/3.4506d7bb.png"},e39f:function(t,e,i){t.exports=i.p+"img/4.f74fb852.png"},e4e9:function(t,e,i){t.exports=i.p+"img/icon_wind.7728ecc0.svg"},e5a1:function(t,e,i){t.exports=i.p+"img/Travel.9cda8fef.svg"},e721:function(t,e,i){t.exports=i.p+"img/twitter-square-brands.eab44233.svg"},e75c:function(t,e,i){t.exports=i.p+"img/1.44d8efaa.png"},e859:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"earthСontainer",staticClass:"earthСontainer"},[i("audio")])},r=[];void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),"name"in Function.prototype===!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(void 0!==n&&null!==n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});var a="116",o=0,s=1,c=2,l=1,u=2,h=3,d=0,p=1,f=2,m=1,v=0,g=1,y=2,_=3,x=4,b=5,w=100,M=101,E=102,S=103,A=104,T=200,C=201,L=202,R=203,P=204,I=205,O=206,U=207,D=208,N=209,z=210,F=0,B=1,G=2,k=3,H=4,V=5,j=6,W=7,X=0,Y=1,Z=2,q=0,J=1,Q=2,K=3,$=4,tt=5,et=300,it=301,nt=302,rt=303,at=304,ot=305,st=306,ct=307,lt=1e3,ut=1001,ht=1002,dt=1003,pt=1004,ft=1005,mt=1006,vt=1007,gt=1008,yt=1009,_t=1010,xt=1011,bt=1012,wt=1013,Mt=1014,Et=1015,St=1016,At=1017,Tt=1018,Ct=1019,Lt=1020,Rt=1021,Pt=1022,It=1023,Ot=1024,Ut=1025,Dt=It,Nt=1026,zt=1027,Ft=1028,Bt=1029,Gt=1030,kt=1031,Ht=1032,Vt=1033,jt=33776,Wt=33777,Xt=33778,Yt=33779,Zt=35840,qt=35841,Jt=35842,Qt=35843,Kt=36196,$t=37492,te=37496,ee=37808,ie=37809,ne=37810,re=37811,ae=37812,oe=37813,se=37814,ce=37815,le=37816,ue=37817,he=37818,de=37819,pe=37820,fe=37821,me=36492,ve=37840,ge=37841,ye=37842,_e=37843,xe=37844,be=37845,we=37846,Me=37847,Ee=37848,Se=37849,Ae=37850,Te=37851,Ce=37852,Le=37853,Re=2200,Pe=2201,Ie=2202,Oe=2300,Ue=2301,De=2302,Ne=2400,ze=2401,Fe=2402,Be=2500,Ge=2501,ke=0,He=3e3,Ve=3001,je=3007,We=3002,Xe=3003,Ye=3004,Ze=3005,qe=3006,Je=3200,Qe=3201,Ke=0,$e=1,ti=7680,ei=519,ii=35044,ni=35048;function ri(){}Object.assign(ri.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var i=this._listeners,n=i[t];if(void 0!==n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,i=e[t.type];if(void 0!==i){t.target=this;for(var n=i.slice(0),r=0,a=n.length;r<a;r++)n[r].call(this,t)}}}});for(var ai=[],oi=0;oi<256;oi++)ai[oi]=(oi<16?"0":"")+oi.toString(16);var si,ci={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=ai[255&t]+ai[t>>8&255]+ai[t>>16&255]+ai[t>>24&255]+"-"+ai[255&e]+ai[e>>8&255]+"-"+ai[e>>16&15|64]+ai[e>>24&255]+"-"+ai[63&i|128]+ai[i>>8&255]+"-"+ai[i>>16&255]+ai[i>>24&255]+ai[255&n]+ai[n>>8&255]+ai[n>>16&255]+ai[n>>24&255];return r.toUpperCase()},clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,i,n,r){return n+(t-e)*(r-n)/(i-e)},lerp:function(t,e,i){return(1-i)*t+i*e},smoothstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e),t*t*(3-2*t))},smootherstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e),t*t*t*(t*(6*t-15)+10))},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*ci.DEG2RAD},radToDeg:function(t){return t*ci.RAD2DEG},isPowerOfTwo:function(t){return 0===(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,i,n,r){var a=Math.cos,o=Math.sin,s=a(i/2),c=o(i/2),l=a((e+n)/2),u=o((e+n)/2),h=a((e-n)/2),d=o((e-n)/2),p=a((n-e)/2),f=o((n-e)/2);switch(r){case"XYX":t.set(s*u,c*h,c*d,s*l);break;case"YZY":t.set(c*d,s*u,c*h,s*l);break;case"ZXZ":t.set(c*h,c*d,s*u,s*l);break;case"XZX":t.set(s*u,c*f,c*p,s*l);break;case"YXY":t.set(c*p,s*u,c*f,s*l);break;case"ZYZ":t.set(c*f,c*p,s*u,s*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}};function li(t,e){this.x=t||0,this.y=e||0}function ui(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(li.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(li.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,i=this.y,n=t.elements;return this.x=n[0]*e+n[3]*i+n[6],this.y=n[1]*e+n[4]*i+n[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(-this.y,-this.x)+Math.PI;return t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,i){return void 0!==i&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var i=Math.cos(e),n=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*i-a*n+t.x,this.y=r*n+a*i+t.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}}),Object.assign(ui.prototype,{isMatrix3:!0,set:function(t,e,i,n,r,a,o,s,c){var l=this.elements;return l[0]=t,l[1]=n,l[2]=o,l[3]=e,l[4]=r,l[5]=s,l[6]=i,l[7]=a,l[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this},extractBasis:function(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,n=e.elements,r=this.elements,a=i[0],o=i[3],s=i[6],c=i[1],l=i[4],u=i[7],h=i[2],d=i[5],p=i[8],f=n[0],m=n[3],v=n[6],g=n[1],y=n[4],_=n[7],x=n[2],b=n[5],w=n[8];return r[0]=a*f+o*g+s*x,r[3]=a*m+o*y+s*b,r[6]=a*v+o*_+s*w,r[1]=c*f+l*g+u*x,r[4]=c*m+l*y+u*b,r[7]=c*v+l*_+u*w,r[2]=h*f+d*g+p*x,r[5]=h*m+d*y+p*b,r[8]=h*v+d*_+p*w,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],a=t[4],o=t[5],s=t[6],c=t[7],l=t[8];return e*a*l-e*o*c-i*r*l+i*o*s+n*r*c-n*a*s},getInverse:function(t,e){void 0!==e&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var i=t.elements,n=this.elements,r=i[0],a=i[1],o=i[2],s=i[3],c=i[4],l=i[5],u=i[6],h=i[7],d=i[8],p=d*c-l*h,f=l*u-d*s,m=h*s-c*u,v=r*p+a*f+o*m;if(0===v)return this.set(0,0,0,0,0,0,0,0,0);var g=1/v;return n[0]=p*g,n[1]=(o*h-d*a)*g,n[2]=(l*a-o*c)*g,n[3]=f*g,n[4]=(d*r-o*u)*g,n[5]=(o*s-l*r)*g,n[6]=m*g,n[7]=(a*u-h*r)*g,n[8]=(c*r-a*s)*g,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,i,n,r,a,o){var s=Math.cos(r),c=Math.sin(r);this.set(i*s,i*c,-i*(s*a+c*o)+a+t,-n*c,n*s,-n*(-c*a+s*o)+o+e,0,0,1)},scale:function(t,e){var i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=e,i[4]*=e,i[7]*=e,this},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=this.elements,r=n[0],a=n[3],o=n[6],s=n[1],c=n[4],l=n[7];return n[0]=e*r+i*s,n[3]=e*a+i*c,n[6]=e*o+i*l,n[1]=-i*r+e*s,n[4]=-i*a+e*c,n[7]=-i*o+e*l,this},translate:function(t,e){var i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=e*i[2],i[4]+=e*i[5],i[7]+=e*i[8],this},equals:function(t){for(var e=this.elements,i=t.elements,n=0;n<9;n++)if(e[n]!==i[n])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<9;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}});var hi={getDataURL:function(t){var e;if("undefined"==typeof HTMLCanvasElement)return t.src;if(t instanceof HTMLCanvasElement)e=t;else{void 0===si&&(si=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),si.width=t.width,si.height=t.height;var i=si.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=si}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},di=0;function pi(t,e,i,n,r,a,o,s,c,l){Object.defineProperty(this,"id",{value:di++}),this.uuid=ci.generateUUID(),this.name="",this.image=void 0!==t?t:pi.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:pi.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:ut,this.wrapT=void 0!==n?n:ut,this.magFilter=void 0!==r?r:mt,this.minFilter=void 0!==a?a:gt,this.anisotropy=void 0!==c?c:1,this.format=void 0!==o?o:It,this.internalFormat=null,this.type=void 0!==s?s:yt,this.offset=new li(0,0),this.repeat=new li(1,1),this.center=new li(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ui,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:He,this.version=0,this.onUpdate=null}function fi(t,e,i,n){this.x=t||0,this.y=e||0,this.z=i||0,this.w=void 0!==n?n:1}function mi(t,e,i){this.width=t,this.height=e,this.scissor=new fi(0,0,t,e),this.scissorTest=!1,this.viewport=new fi(0,0,t,e),i=i||{},this.texture=new pi(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:mt,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null}function vi(t,e,i){mi.call(this,t,e,i),this.samples=4}function gi(t,e,i,n){this._x=t||0,this._y=e||0,this._z=i||0,this._w=void 0!==n?n:1}pi.DEFAULT_IMAGE=void 0,pi.DEFAULT_MAPPING=et,pi.prototype=Object.assign(Object.create(ri.prototype),{constructor:pi,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"===typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var n=this.image;if(void 0===n.uuid&&(n.uuid=ci.generateUUID()),!e&&void 0===t.images[n.uuid]){var r;if(Array.isArray(n)){r=[];for(var a=0,o=n.length;a<o;a++)r.push(hi.getDataURL(n[a]))}else r=hi.getDataURL(n);t.images[n.uuid]={uuid:n.uuid,url:r}}i.image=n.uuid}return e||(t.textures[this.uuid]=i),i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping!==et)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case lt:t.x=t.x-Math.floor(t.x);break;case ut:t.x=t.x<0?0:1;break;case ht:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case lt:t.y=t.y-Math.floor(t.y);break;case ut:t.y=t.y<0?0:1;break;case ht:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(pi.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.defineProperties(fi.prototype,{width:{get:function(){return this.z},set:function(t){this.z=t}},height:{get:function(){return this.w},set:function(t){this.w=t}}}),Object.assign(fi.prototype,{isVector4:!0,set:function(t,e,i,n){return this.x=t,this.y=e,this.z=i,this.w=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,i=this.y,n=this.z,r=this.w,a=t.elements;return this.x=a[0]*e+a[4]*i+a[8]*n+a[12]*r,this.y=a[1]*e+a[5]*i+a[9]*n+a[13]*r,this.z=a[2]*e+a[6]*i+a[10]*n+a[14]*r,this.w=a[3]*e+a[7]*i+a[11]*n+a[15]*r,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,i,n,r,a=.01,o=.1,s=t.elements,c=s[0],l=s[4],u=s[8],h=s[1],d=s[5],p=s[9],f=s[2],m=s[6],v=s[10];if(Math.abs(l-h)<a&&Math.abs(u-f)<a&&Math.abs(p-m)<a){if(Math.abs(l+h)<o&&Math.abs(u+f)<o&&Math.abs(p+m)<o&&Math.abs(c+d+v-3)<o)return this.set(1,0,0,0),this;e=Math.PI;var g=(c+1)/2,y=(d+1)/2,_=(v+1)/2,x=(l+h)/4,b=(u+f)/4,w=(p+m)/4;return g>y&&g>_?g<a?(i=0,n=.707106781,r=.707106781):(i=Math.sqrt(g),n=x/i,r=b/i):y>_?y<a?(i=.707106781,n=0,r=.707106781):(n=Math.sqrt(y),i=x/n,r=w/n):_<a?(i=.707106781,n=.707106781,r=0):(r=Math.sqrt(_),i=b/r,n=w/r),this.set(i,n,r,e),this}var M=Math.sqrt((m-p)*(m-p)+(u-f)*(u-f)+(h-l)*(h-l));return Math.abs(M)<.001&&(M=1),this.x=(m-p)/M,this.y=(u-f)/M,this.z=(h-l)/M,this.w=Math.acos((c+d+v-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,i){return void 0!==i&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}),mi.prototype=Object.assign(Object.create(ri.prototype),{constructor:mi,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),vi.prototype=Object.assign(Object.create(mi.prototype),{constructor:vi,isWebGLMultisampleRenderTarget:!0,copy:function(t){return mi.prototype.copy.call(this,t),this.samples=t.samples,this}}),Object.assign(gi,{slerp:function(t,e,i,n){return i.copy(t).slerp(e,n)},slerpFlat:function(t,e,i,n,r,a,o){var s=i[n+0],c=i[n+1],l=i[n+2],u=i[n+3],h=r[a+0],d=r[a+1],p=r[a+2],f=r[a+3];if(u!==f||s!==h||c!==d||l!==p){var m=1-o,v=s*h+c*d+l*p+u*f,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var _=Math.sqrt(y),x=Math.atan2(_,v*g);m=Math.sin(m*x)/_,o=Math.sin(o*x)/_}var b=o*g;if(s=s*m+h*b,c=c*m+d*b,l=l*m+p*b,u=u*m+f*b,m===1-o){var w=1/Math.sqrt(s*s+c*c+l*l+u*u);s*=w,c*=w,l*=w,u*=w}}t[e]=s,t[e+1]=c,t[e+2]=l,t[e+3]=u},multiplyQuaternionsFlat:function(t,e,i,n,r,a){var o=i[n],s=i[n+1],c=i[n+2],l=i[n+3],u=r[a],h=r[a+1],d=r[a+2],p=r[a+3];return t[e]=o*p+l*u+s*d-c*h,t[e+1]=s*p+l*h+c*u-o*d,t[e+2]=c*p+l*d+o*h-s*u,t[e+3]=l*p-o*u-s*h-c*d,t}}),Object.defineProperties(gi.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}}}),Object.assign(gi.prototype,{isQuaternion:!0,set:function(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._w=n,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=t._x,n=t._y,r=t._z,a=t.order,o=Math.cos,s=Math.sin,c=o(i/2),l=o(n/2),u=o(r/2),h=s(i/2),d=s(n/2),p=s(r/2);switch(a){case"XYZ":this._x=h*l*u+c*d*p,this._y=c*d*u-h*l*p,this._z=c*l*p+h*d*u,this._w=c*l*u-h*d*p;break;case"YXZ":this._x=h*l*u+c*d*p,this._y=c*d*u-h*l*p,this._z=c*l*p-h*d*u,this._w=c*l*u+h*d*p;break;case"ZXY":this._x=h*l*u-c*d*p,this._y=c*d*u+h*l*p,this._z=c*l*p+h*d*u,this._w=c*l*u-h*d*p;break;case"ZYX":this._x=h*l*u-c*d*p,this._y=c*d*u+h*l*p,this._z=c*l*p-h*d*u,this._w=c*l*u+h*d*p;break;case"YZX":this._x=h*l*u+c*d*p,this._y=c*d*u+h*l*p,this._z=c*l*p-h*d*u,this._w=c*l*u-h*d*p;break;case"XZY":this._x=h*l*u-c*d*p,this._y=c*d*u-h*l*p,this._z=c*l*p+h*d*u,this._w=c*l*u+h*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==e&&this._onChangeCallback(),this},setFromAxisAngle:function(t,e){var i=e/2,n=Math.sin(i);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(i),this._onChangeCallback(),this},setFromRotationMatrix:function(t){var e,i=t.elements,n=i[0],r=i[4],a=i[8],o=i[1],s=i[5],c=i[9],l=i[2],u=i[6],h=i[10],d=n+s+h;return d>0?(e=.5/Math.sqrt(d+1),this._w=.25/e,this._x=(u-c)*e,this._y=(a-l)*e,this._z=(o-r)*e):n>s&&n>h?(e=2*Math.sqrt(1+n-s-h),this._w=(u-c)/e,this._x=.25*e,this._y=(r+o)/e,this._z=(a+l)/e):s>h?(e=2*Math.sqrt(1+s-n-h),this._w=(a-l)/e,this._x=(r+o)/e,this._y=.25*e,this._z=(c+u)/e):(e=2*Math.sqrt(1+h-n-s),this._w=(o-r)/e,this._x=(a+l)/e,this._y=(c+u)/e,this._z=.25*e),this._onChangeCallback(),this},setFromUnitVectors:function(t,e){var i=1e-6,n=t.dot(e)+1;return n<i?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()},angleTo:function(t){return 2*Math.acos(Math.abs(ci.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){var i=this.angleTo(t);if(0===i)return this;var n=Math.min(1,e/i);return this.slerp(t,n),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var i=t._x,n=t._y,r=t._z,a=t._w,o=e._x,s=e._y,c=e._z,l=e._w;return this._x=i*l+a*o+n*c-r*s,this._y=n*l+a*s+r*o-i*c,this._z=r*l+a*c+i*s-n*o,this._w=a*l-i*o-n*s-r*c,this._onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var i=this._x,n=this._y,r=this._z,a=this._w,o=a*t._w+i*t._x+n*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=i,this._y=n,this._z=r,this;var s=1-o*o;if(s<=Number.EPSILON){var c=1-e;return this._w=c*a+e*this._w,this._x=c*i+e*this._x,this._y=c*n+e*this._y,this._z=c*r+e*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(s),u=Math.atan2(l,o),h=Math.sin((1-e)*u)/l,d=Math.sin(e*u)/l;return this._w=a*h+this._w*d,this._x=i*h+this._x*d,this._y=n*h+this._y*d,this._z=r*h+this._z*d,this._onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},fromBufferAttribute:function(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){}});var yi=new xi,_i=new gi;function xi(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0}Object.assign(xi.prototype,{isVector3:!0,set:function(t,e,i){return this.x=t,this.y=e,this.z=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(_i.setFromEuler(t))},applyAxisAngle:function(t,e){return this.applyQuaternion(_i.setFromAxisAngle(t,e))},applyMatrix3:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6]*n,this.y=r[1]*e+r[4]*i+r[7]*n,this.z=r[2]*e+r[5]*i+r[8]*n,this},applyNormalMatrix:function(t){return this.applyMatrix3(t).normalize()},applyMatrix4:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements,a=1/(r[3]*e+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*e+r[4]*i+r[8]*n+r[12])*a,this.y=(r[1]*e+r[5]*i+r[9]*n+r[13])*a,this.z=(r[2]*e+r[6]*i+r[10]*n+r[14])*a,this},applyQuaternion:function(t){var e=this.x,i=this.y,n=this.z,r=t.x,a=t.y,o=t.z,s=t.w,c=s*e+a*n-o*i,l=s*i+o*e-r*n,u=s*n+r*i-a*e,h=-r*e-a*i-o*n;return this.x=c*s+h*-r+l*-o-u*-a,this.y=l*s+h*-a+u*-r-c*-o,this.z=u*s+h*-o+c*-a-l*-r,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},transformDirection:function(t){var e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*n,this.y=r[1]*e+r[5]*i+r[9]*n,this.z=r[2]*e+r[6]*i+r[10]*n,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},cross:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},crossVectors:function(t,e){var i=t.x,n=t.y,r=t.z,a=e.x,o=e.y,s=e.z;return this.x=n*s-r*o,this.y=r*a-i*s,this.z=i*o-n*a,this},projectOnVector:function(t){var e=t.lengthSq();if(0===e)return this.set(0,0,0);var i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)},projectOnPlane:function(t){return yi.copy(this).projectOnVector(t),this.sub(yi)},reflect:function(t){return this.sub(yi.copy(t).multiplyScalar(2*this.dot(t)))},angleTo:function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;var i=this.dot(t)/e;return Math.acos(ci.clamp(i,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return e*e+i*i+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,e,i){var n=Math.sin(e)*t;return this.x=n*Math.sin(i),this.y=Math.cos(e)*t,this.z=n*Math.cos(i),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=n,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},setFromMatrix3Column:function(t,e){return this.fromArray(t.elements,3*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,i){return void 0!==i&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});var bi=new xi,wi=new Ci,Mi=new xi(0,0,0),Ei=new xi(1,1,1),Si=new xi,Ai=new xi,Ti=new xi;function Ci(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Ci.prototype,{isMatrix4:!0,set:function(t,e,i,n,r,a,o,s,c,l,u,h,d,p,f,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=i,v[12]=n,v[1]=r,v[5]=a,v[9]=o,v[13]=s,v[2]=c,v[6]=l,v[10]=u,v[14]=h,v[3]=d,v[7]=p,v[11]=f,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Ci).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this},copyPosition:function(t){var e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this},extractBasis:function(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this},extractRotation:function(t){var e=this.elements,i=t.elements,n=1/bi.setFromMatrixColumn(t,0).length(),r=1/bi.setFromMatrixColumn(t,1).length(),a=1/bi.setFromMatrixColumn(t,2).length();return e[0]=i[0]*n,e[1]=i[1]*n,e[2]=i[2]*n,e[3]=0,e[4]=i[4]*r,e[5]=i[5]*r,e[6]=i[6]*r,e[7]=0,e[8]=i[8]*a,e[9]=i[9]*a,e[10]=i[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,i=t.x,n=t.y,r=t.z,a=Math.cos(i),o=Math.sin(i),s=Math.cos(n),c=Math.sin(n),l=Math.cos(r),u=Math.sin(r);if("XYZ"===t.order){var h=a*l,d=a*u,p=o*l,f=o*u;e[0]=s*l,e[4]=-s*u,e[8]=c,e[1]=d+p*c,e[5]=h-f*c,e[9]=-o*s,e[2]=f-h*c,e[6]=p+d*c,e[10]=a*s}else if("YXZ"===t.order){var m=s*l,v=s*u,g=c*l,y=c*u;e[0]=m+y*o,e[4]=g*o-v,e[8]=a*c,e[1]=a*u,e[5]=a*l,e[9]=-o,e[2]=v*o-g,e[6]=y+m*o,e[10]=a*s}else if("ZXY"===t.order){m=s*l,v=s*u,g=c*l,y=c*u;e[0]=m-y*o,e[4]=-a*u,e[8]=g+v*o,e[1]=v+g*o,e[5]=a*l,e[9]=y-m*o,e[2]=-a*c,e[6]=o,e[10]=a*s}else if("ZYX"===t.order){h=a*l,d=a*u,p=o*l,f=o*u;e[0]=s*l,e[4]=p*c-d,e[8]=h*c+f,e[1]=s*u,e[5]=f*c+h,e[9]=d*c-p,e[2]=-c,e[6]=o*s,e[10]=a*s}else if("YZX"===t.order){var _=a*s,x=a*c,b=o*s,w=o*c;e[0]=s*l,e[4]=w-_*u,e[8]=b*u+x,e[1]=u,e[5]=a*l,e[9]=-o*l,e[2]=-c*l,e[6]=x*u+b,e[10]=_-w*u}else if("XZY"===t.order){_=a*s,x=a*c,b=o*s,w=o*c;e[0]=s*l,e[4]=-u,e[8]=c*l,e[1]=_*u+w,e[5]=a*l,e[9]=x*u-b,e[2]=b*u-x,e[6]=o*l,e[10]=w*u+_}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){return this.compose(Mi,t,Ei)},lookAt:function(t,e,i){var n=this.elements;return Ti.subVectors(t,e),0===Ti.lengthSq()&&(Ti.z=1),Ti.normalize(),Si.crossVectors(i,Ti),0===Si.lengthSq()&&(1===Math.abs(i.z)?Ti.x+=1e-4:Ti.z+=1e-4,Ti.normalize(),Si.crossVectors(i,Ti)),Si.normalize(),Ai.crossVectors(Ti,Si),n[0]=Si.x,n[4]=Ai.x,n[8]=Ti.x,n[1]=Si.y,n[5]=Ai.y,n[9]=Ti.y,n[2]=Si.z,n[6]=Ai.z,n[10]=Ti.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,n=e.elements,r=this.elements,a=i[0],o=i[4],s=i[8],c=i[12],l=i[1],u=i[5],h=i[9],d=i[13],p=i[2],f=i[6],m=i[10],v=i[14],g=i[3],y=i[7],_=i[11],x=i[15],b=n[0],w=n[4],M=n[8],E=n[12],S=n[1],A=n[5],T=n[9],C=n[13],L=n[2],R=n[6],P=n[10],I=n[14],O=n[3],U=n[7],D=n[11],N=n[15];return r[0]=a*b+o*S+s*L+c*O,r[4]=a*w+o*A+s*R+c*U,r[8]=a*M+o*T+s*P+c*D,r[12]=a*E+o*C+s*I+c*N,r[1]=l*b+u*S+h*L+d*O,r[5]=l*w+u*A+h*R+d*U,r[9]=l*M+u*T+h*P+d*D,r[13]=l*E+u*C+h*I+d*N,r[2]=p*b+f*S+m*L+v*O,r[6]=p*w+f*A+m*R+v*U,r[10]=p*M+f*T+m*P+v*D,r[14]=p*E+f*C+m*I+v*N,r[3]=g*b+y*S+_*L+x*O,r[7]=g*w+y*A+_*R+x*U,r[11]=g*M+y*T+_*P+x*D,r[15]=g*E+y*C+_*I+x*N,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},determinant:function(){var t=this.elements,e=t[0],i=t[4],n=t[8],r=t[12],a=t[1],o=t[5],s=t[9],c=t[13],l=t[2],u=t[6],h=t[10],d=t[14],p=t[3],f=t[7],m=t[11],v=t[15];return p*(+r*s*u-n*c*u-r*o*h+i*c*h+n*o*d-i*s*d)+f*(+e*s*d-e*c*h+r*a*h-n*a*d+n*c*l-r*s*l)+m*(+e*c*u-e*o*d-r*a*u+i*a*d+r*o*l-i*c*l)+v*(-n*o*l-e*s*u+e*o*h+n*a*u-i*a*h+i*s*l)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t,e,i){var n=this.elements;return t.isVector3?(n[12]=t.x,n[13]=t.y,n[14]=t.z):(n[12]=t,n[13]=e,n[14]=i),this},getInverse:function(t,e){void 0!==e&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");var i=this.elements,n=t.elements,r=n[0],a=n[1],o=n[2],s=n[3],c=n[4],l=n[5],u=n[6],h=n[7],d=n[8],p=n[9],f=n[10],m=n[11],v=n[12],g=n[13],y=n[14],_=n[15],x=p*y*h-g*f*h+g*u*m-l*y*m-p*u*_+l*f*_,b=v*f*h-d*y*h-v*u*m+c*y*m+d*u*_-c*f*_,w=d*g*h-v*p*h+v*l*m-c*g*m-d*l*_+c*p*_,M=v*p*u-d*g*u-v*l*f+c*g*f+d*l*y-c*p*y,E=r*x+a*b+o*w+s*M;if(0===E)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var S=1/E;return i[0]=x*S,i[1]=(g*f*s-p*y*s-g*o*m+a*y*m+p*o*_-a*f*_)*S,i[2]=(l*y*s-g*u*s+g*o*h-a*y*h-l*o*_+a*u*_)*S,i[3]=(p*u*s-l*f*s-p*o*h+a*f*h+l*o*m-a*u*m)*S,i[4]=b*S,i[5]=(d*y*s-v*f*s+v*o*m-r*y*m-d*o*_+r*f*_)*S,i[6]=(v*u*s-c*y*s-v*o*h+r*y*h+c*o*_-r*u*_)*S,i[7]=(c*f*s-d*u*s+d*o*h-r*f*h-c*o*m+r*u*m)*S,i[8]=w*S,i[9]=(v*p*s-d*g*s-v*a*m+r*g*m+d*a*_-r*p*_)*S,i[10]=(c*g*s-v*l*s+v*a*h-r*g*h-c*a*_+r*l*_)*S,i[11]=(d*l*s-c*p*s-d*a*h+r*p*h+c*a*m-r*l*m)*S,i[12]=M*S,i[13]=(d*g*o-v*p*o+v*a*f-r*g*f-d*a*y+r*p*y)*S,i[14]=(v*l*o-c*g*o-v*a*u+r*g*u+c*a*y-r*l*y)*S,i[15]=(c*p*o-d*l*o+d*a*u-r*p*u-c*a*f+r*l*f)*S,this},scale:function(t){var e=this.elements,i=t.x,n=t.y,r=t.z;return e[0]*=i,e[4]*=n,e[8]*=r,e[1]*=i,e[5]*=n,e[9]*=r,e[2]*=i,e[6]*=n,e[10]*=r,e[3]*=i,e[7]*=n,e[11]*=r,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,n))},makeTranslation:function(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var i=Math.cos(e),n=Math.sin(e),r=1-i,a=t.x,o=t.y,s=t.z,c=r*a,l=r*o;return this.set(c*a+i,c*o-n*s,c*s+n*o,0,c*o+n*s,l*o+i,l*s-n*a,0,c*s-n*o,l*s+n*a,r*s*s+i,0,0,0,0,1),this},makeScale:function(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this},makeShear:function(t,e,i){return this.set(1,e,i,0,t,1,i,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,i){var n=this.elements,r=e._x,a=e._y,o=e._z,s=e._w,c=r+r,l=a+a,u=o+o,h=r*c,d=r*l,p=r*u,f=a*l,m=a*u,v=o*u,g=s*c,y=s*l,_=s*u,x=i.x,b=i.y,w=i.z;return n[0]=(1-(f+v))*x,n[1]=(d+_)*x,n[2]=(p-y)*x,n[3]=0,n[4]=(d-_)*b,n[5]=(1-(h+v))*b,n[6]=(m+g)*b,n[7]=0,n[8]=(p+y)*w,n[9]=(m-g)*w,n[10]=(1-(h+f))*w,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this},decompose:function(t,e,i){var n=this.elements,r=bi.set(n[0],n[1],n[2]).length(),a=bi.set(n[4],n[5],n[6]).length(),o=bi.set(n[8],n[9],n[10]).length(),s=this.determinant();s<0&&(r=-r),t.x=n[12],t.y=n[13],t.z=n[14],wi.copy(this);var c=1/r,l=1/a,u=1/o;return wi.elements[0]*=c,wi.elements[1]*=c,wi.elements[2]*=c,wi.elements[4]*=l,wi.elements[5]*=l,wi.elements[6]*=l,wi.elements[8]*=u,wi.elements[9]*=u,wi.elements[10]*=u,e.setFromRotationMatrix(wi),i.x=r,i.y=a,i.z=o,this},makePerspective:function(t,e,i,n,r,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*r/(e-t),c=2*r/(i-n),l=(e+t)/(e-t),u=(i+n)/(i-n),h=-(a+r)/(a-r),d=-2*a*r/(a-r);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=c,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(t,e,i,n,r,a){var o=this.elements,s=1/(e-t),c=1/(i-n),l=1/(a-r),u=(e+t)*s,h=(i+n)*c,d=(a+r)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,i=t.elements,n=0;n<16;n++)if(e[n]!==i[n])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<16;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}});var Li=new Ci,Ri=new gi;function Pi(t,e,i,n){this._x=t||0,this._y=e||0,this._z=i||0,this._order=n||Pi.DefaultOrder}function Ii(){this.mask=1}Pi.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Pi.DefaultOrder="XYZ",Object.defineProperties(Pi.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}}}),Object.assign(Pi.prototype,{isEuler:!0,set:function(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._order=n||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this},setFromRotationMatrix:function(t,e,i){var n=ci.clamp,r=t.elements,a=r[0],o=r[4],s=r[8],c=r[1],l=r[5],u=r[9],h=r[2],d=r[6],p=r[10];switch(e=e||this._order,e){case"XYZ":this._y=Math.asin(n(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-n(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,p),this._z=Math.atan2(c,l)):(this._y=Math.atan2(-h,a),this._z=0);break;case"ZXY":this._x=Math.asin(n(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(c,a));break;case"ZYX":this._y=Math.asin(-n(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(n(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-h,a)):(this._x=0,this._y=Math.atan2(s,p));break;case"XZY":this._z=Math.asin(-n(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!1!==i&&this._onChangeCallback(),this},setFromQuaternion:function(t,e,i){return Li.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Li,e,i)},setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(t){return Ri.setFromEuler(this),this.setFromQuaternion(Ri,t)},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new xi(this._x,this._y,this._z)},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){}}),Object.assign(Ii.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},enableAll:function(){this.mask=-1},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},disableAll:function(){this.mask=0},test:function(t){return 0!==(this.mask&t.mask)}});var Oi=0,Ui=new xi,Di=new gi,Ni=new Ci,zi=new xi,Fi=new xi,Bi=new xi,Gi=new gi,ki=new xi(1,0,0),Hi=new xi(0,1,0),Vi=new xi(0,0,1),ji={type:"added"},Wi={type:"removed"};function Xi(){Object.defineProperty(this,"id",{value:Oi++}),this.uuid=ci.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Xi.DefaultUp.clone();var t=new xi,e=new Pi,i=new gi,n=new xi(1,1,1);function r(){i.setFromEuler(e,!1)}function a(){e.setFromQuaternion(i,void 0,!1)}e._onChange(r),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new Ci},normalMatrix:{value:new ui}}),this.matrix=new Ci,this.matrixWorld=new Ci,this.matrixAutoUpdate=Xi.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Ii,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function Yi(){Xi.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Xi.DefaultUp=new xi(0,1,0),Xi.DefaultMatrixAutoUpdate=!0,Xi.prototype=Object.assign(Object.create(ri.prototype),{constructor:Xi,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return Di.setFromAxisAngle(t,e),this.quaternion.multiply(Di),this},rotateOnWorldAxis:function(t,e){return Di.setFromAxisAngle(t,e),this.quaternion.premultiply(Di),this},rotateX:function(t){return this.rotateOnAxis(ki,t)},rotateY:function(t){return this.rotateOnAxis(Hi,t)},rotateZ:function(t){return this.rotateOnAxis(Vi,t)},translateOnAxis:function(t,e){return Ui.copy(t).applyQuaternion(this.quaternion),this.position.add(Ui.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(ki,t)},translateY:function(t){return this.translateOnAxis(Hi,t)},translateZ:function(t){return this.translateOnAxis(Vi,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(Ni.getInverse(this.matrixWorld))},lookAt:function(t,e,i){t.isVector3?zi.copy(t):zi.set(t,e,i);var n=this.parent;this.updateWorldMatrix(!0,!1),Fi.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ni.lookAt(Fi,zi,this.up):Ni.lookAt(zi,Fi,this.up),this.quaternion.setFromRotationMatrix(Ni),n&&(Ni.extractRotation(n.matrixWorld),Di.setFromRotationMatrix(Ni),this.quaternion.premultiply(Di.inverse()))},add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(ji)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var i=this.children.indexOf(t);return-1!==i&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(Wi)),this},attach:function(t){return this.updateWorldMatrix(!0,!1),Ni.getInverse(this.matrixWorld),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Ni.multiply(t.parent.matrixWorld)),t.applyMatrix4(Ni),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var i=0,n=this.children.length;i<n;i++){var r=this.children[i],a=r.getObjectByProperty(t,e);if(void 0!==a)return a}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new xi),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new gi),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Fi,t,Bi),t},getWorldScale:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new xi),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Fi,Gi,t),t},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new xi),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,i=0,n=e.length;i<n;i++)e[i].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var n=this.children,r=0,a=n.length;r<a;r++)n[r].updateWorldMatrix(!1,!0)},toJSON:function(t){var e=void 0===t||"string"===typeof t,i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var n={};function r(e,i){return void 0===e[i.uuid]&&(e[i.uuid]=i.toJSON(t)),i.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){n.geometry=r(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,c=o.length;s<c;s++){var l=o[s];r(t.shapes,l)}else r(t.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var u=[];for(s=0,c=this.material.length;s<c;s++)u.push(r(t.materials,this.material[s]));n.material=u}else n.material=r(t.materials,this.material);if(this.children.length>0){n.children=[];for(s=0;s<this.children.length;s++)n.children.push(this.children[s].toJSON(t).object)}if(e){var h=m(t.geometries),d=m(t.materials),p=m(t.textures),f=m(t.images);o=m(t.shapes);h.length>0&&(i.geometries=h),d.length>0&&(i.materials=d),p.length>0&&(i.textures=p),f.length>0&&(i.images=f),o.length>0&&(i.shapes=o)}return i.object=n,i;function m(t){var e=[];for(var i in t){var n=t[i];delete n.metadata,e.push(n)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var i=0;i<t.children.length;i++){var n=t.children[i];this.add(n.clone())}return this}}),Yi.prototype=Object.assign(Object.create(Xi.prototype),{constructor:Yi,isScene:!0,copy:function(t,e){return Xi.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=Xi.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.environment&&(e.object.environment=this.environment.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Zi=[new xi,new xi,new xi,new xi,new xi,new xi,new xi,new xi],qi=new xi,Ji=new cn,Qi=new xi,Ki=new xi,$i=new xi,tn=new xi,en=new xi,nn=new xi,rn=new xi,an=new xi,on=new xi,sn=new xi;function cn(t,e){this.min=void 0!==t?t:new xi(1/0,1/0,1/0),this.max=void 0!==e?e:new xi(-1/0,-1/0,-1/0)}function ln(t,e,i,n,r){var a,o;for(a=0,o=t.length-3;a<=o;a+=3){sn.fromArray(t,a);var s=r.x*Math.abs(sn.x)+r.y*Math.abs(sn.y)+r.z*Math.abs(sn.z),c=e.dot(sn),l=i.dot(sn),u=n.dot(sn);if(Math.max(-Math.max(c,l,u),Math.min(c,l,u))>s)return!1}return!0}Object.assign(cn.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,i=1/0,n=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,c=t.length;s<c;s+=3){var l=t[s],u=t[s+1],h=t[s+2];l<e&&(e=l),u<i&&(i=u),h<n&&(n=h),l>r&&(r=l),u>a&&(a=u),h>o&&(o=h)}return this.min.set(e,i,n),this.max.set(r,a,o),this},setFromBufferAttribute:function(t){for(var e=1/0,i=1/0,n=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,c=t.count;s<c;s++){var l=t.getX(s),u=t.getY(s),h=t.getZ(s);l<e&&(e=l),u<i&&(i=u),h<n&&(n=h),l>r&&(r=l),u>a&&(a=u),h>o&&(o=h)}return this.min.set(e,i,n),this.max.set(r,a,o),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(t,e){var i=qi.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this},setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new xi),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new xi),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(t){t.updateWorldMatrix(!1,!1);var e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),Ji.copy(e.boundingBox),Ji.applyMatrix4(t.matrixWorld),this.union(Ji));for(var i=t.children,n=0,r=i.length;n<r;n++)this.expandByObject(i[n]);return this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new xi),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(t){return this.clampPoint(t.center,qi),qi.distanceToSquared(t.center)<=t.radius*t.radius},intersectsPlane:function(t){var e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant},intersectsTriangle:function(t){if(this.isEmpty())return!1;this.getCenter(rn),an.subVectors(this.max,rn),Qi.subVectors(t.a,rn),Ki.subVectors(t.b,rn),$i.subVectors(t.c,rn),tn.subVectors(Ki,Qi),en.subVectors($i,Ki),nn.subVectors(Qi,$i);var e=[0,-tn.z,tn.y,0,-en.z,en.y,0,-nn.z,nn.y,tn.z,0,-tn.x,en.z,0,-en.x,nn.z,0,-nn.x,-tn.y,tn.x,0,-en.y,en.x,0,-nn.y,nn.x,0];return!!ln(e,Qi,Ki,$i,an)&&(e=[1,0,0,0,1,0,0,0,1],!!ln(e,Qi,Ki,$i,an)&&(on.crossVectors(tn,en),e=[on.x,on.y,on.z],ln(e,Qi,Ki,$i,an)))},clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new xi),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(t){var e=qi.copy(t).clamp(this.min,this.max);return e.sub(t).length()},getBoundingSphere:function(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(qi).length(),t},intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(t){return this.isEmpty()||(Zi[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Zi[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Zi[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Zi[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Zi[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Zi[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Zi[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Zi[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Zi)),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}});var un=new cn;function hn(t,e){this.center=void 0!==t?t:new xi,this.radius=void 0!==e?e:-1}Object.assign(hn.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(t,e){var i=this.center;void 0!==e?i.copy(e):un.setFromPoints(t).getCenter(i);for(var n=0,r=0,a=t.length;r<a;r++)n=Math.max(n,i.distanceToSquared(t[r]));return this.radius=Math.sqrt(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},isEmpty:function(){return this.radius<0},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var i=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new xi),e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new cn),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}});var dn=new xi,pn=new xi,fn=new xi,mn=new xi,vn=new xi,gn=new xi,yn=new xi;function _n(t,e){this.origin=void 0!==t?t:new xi,this.direction=void 0!==e?e:new xi(0,0,-1)}Object.assign(_n.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new xi),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(t){return this.origin.copy(this.at(t,dn)),this},closestPointToPoint:function(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new xi),e.subVectors(t,this.origin);var i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(t){var e=dn.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(dn.copy(this.direction).multiplyScalar(e).add(this.origin),dn.distanceToSquared(t))},distanceSqToSegment:function(t,e,i,n){pn.copy(t).add(e).multiplyScalar(.5),fn.copy(e).sub(t).normalize(),mn.copy(this.origin).sub(pn);var r,a,o,s,c=.5*t.distanceTo(e),l=-this.direction.dot(fn),u=mn.dot(this.direction),h=-mn.dot(fn),d=mn.lengthSq(),p=Math.abs(1-l*l);if(p>0)if(r=l*h-u,a=l*u-h,s=c*p,r>=0)if(a>=-s)if(a<=s){var f=1/p;r*=f,a*=f,o=r*(r+l*a+2*u)+a*(l*r+a+2*h)+d}else a=c,r=Math.max(0,-(l*a+u)),o=-r*r+a*(a+2*h)+d;else a=-c,r=Math.max(0,-(l*a+u)),o=-r*r+a*(a+2*h)+d;else a<=-s?(r=Math.max(0,-(-l*c+u)),a=r>0?-c:Math.min(Math.max(-c,-h),c),o=-r*r+a*(a+2*h)+d):a<=s?(r=0,a=Math.min(Math.max(-c,-h),c),o=a*(a+2*h)+d):(r=Math.max(0,-(l*c+u)),a=r>0?c:Math.min(Math.max(-c,-h),c),o=-r*r+a*(a+2*h)+d);else a=l>0?-c:c,r=Math.max(0,-(l*a+u)),o=-r*r+a*(a+2*h)+d;return i&&i.copy(this.direction).multiplyScalar(r).add(this.origin),n&&n.copy(fn).multiplyScalar(a).add(pn),o},intersectSphere:function(t,e){dn.subVectors(t.center,this.origin);var i=dn.dot(this.direction),n=dn.dot(dn)-i*i,r=t.radius*t.radius;if(n>r)return null;var a=Math.sqrt(r-n),o=i-a,s=i+a;return o<0&&s<0?null:o<0?this.at(s,e):this.at(o,e)},intersectsSphere:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null},intersectPlane:function(t,e){var i=this.distanceToPlane(t);return null===i?null:this.at(i,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);if(0===e)return!0;var i=t.normal.dot(this.direction);return i*e<0},intersectBox:function(t,e){var i,n,r,a,o,s,c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z,h=this.origin;return c>=0?(i=(t.min.x-h.x)*c,n=(t.max.x-h.x)*c):(i=(t.max.x-h.x)*c,n=(t.min.x-h.x)*c),l>=0?(r=(t.min.y-h.y)*l,a=(t.max.y-h.y)*l):(r=(t.max.y-h.y)*l,a=(t.min.y-h.y)*l),i>a||r>n?null:((r>i||i!==i)&&(i=r),(a<n||n!==n)&&(n=a),u>=0?(o=(t.min.z-h.z)*u,s=(t.max.z-h.z)*u):(o=(t.max.z-h.z)*u,s=(t.min.z-h.z)*u),i>s||o>n?null:((o>i||i!==i)&&(i=o),(s<n||n!==n)&&(n=s),n<0?null:this.at(i>=0?i:n,e)))},intersectsBox:function(t){return null!==this.intersectBox(t,dn)},intersectTriangle:function(t,e,i,n,r){vn.subVectors(e,t),gn.subVectors(i,t),yn.crossVectors(vn,gn);var a,o=this.direction.dot(yn);if(o>0){if(n)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}mn.subVectors(this.origin,t);var s=a*this.direction.dot(gn.crossVectors(mn,gn));if(s<0)return null;var c=a*this.direction.dot(vn.cross(mn));if(c<0)return null;if(s+c>o)return null;var l=-a*mn.dot(yn);return l<0?null:this.at(l/o,r)},applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}});var xn=new xi,bn=new xi,wn=new ui;function Mn(t,e){this.normal=void 0!==t?t:new xi(1,0,0),this.constant=void 0!==e?e:0}Object.assign(Mn.prototype,{isPlane:!0,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,i,n){return this.normal.set(t,e,i),this.constant=n,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(t,e,i){var n=xn.subVectors(i,e).cross(bn.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(n,t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new xi),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(t,e){void 0===e&&(console.warn("THREE.Plane: .intersectLine() target is now required"),e=new xi);var i=t.delta(xn),n=this.normal.dot(i);if(0===n)return 0===this.distanceToPoint(t.start)?e.copy(t.start):void 0;var r=-(t.start.dot(this.normal)+this.constant)/n;return r<0||r>1?void 0:e.copy(i).multiplyScalar(r).add(t.start)},intersectsLine:function(t){var e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new xi),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(t,e){var i=e||wn.getNormalMatrix(t),n=this.coplanarPoint(xn).applyMatrix4(t),r=this.normal.applyMatrix3(i).normalize();return this.constant=-n.dot(r),this},translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}});var En=new xi,Sn=new xi,An=new xi,Tn=new xi,Cn=new xi,Ln=new xi,Rn=new xi,Pn=new xi,In=new xi,On=new xi;function Un(t,e,i){this.a=void 0!==t?t:new xi,this.b=void 0!==e?e:new xi,this.c=void 0!==i?i:new xi}Object.assign(Un,{getNormal:function(t,e,i,n){void 0===n&&(console.warn("THREE.Triangle: .getNormal() target is now required"),n=new xi),n.subVectors(i,e),En.subVectors(t,e),n.cross(En);var r=n.lengthSq();return r>0?n.multiplyScalar(1/Math.sqrt(r)):n.set(0,0,0)},getBarycoord:function(t,e,i,n,r){En.subVectors(n,e),Sn.subVectors(i,e),An.subVectors(t,e);var a=En.dot(En),o=En.dot(Sn),s=En.dot(An),c=Sn.dot(Sn),l=Sn.dot(An),u=a*c-o*o;if(void 0===r&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new xi),0===u)return r.set(-2,-1,-1);var h=1/u,d=(c*s-o*l)*h,p=(a*l-o*s)*h;return r.set(1-d-p,p,d)},containsPoint:function(t,e,i,n){return Un.getBarycoord(t,e,i,n,Tn),Tn.x>=0&&Tn.y>=0&&Tn.x+Tn.y<=1},getUV:function(t,e,i,n,r,a,o,s){return this.getBarycoord(t,e,i,n,Tn),s.set(0,0),s.addScaledVector(r,Tn.x),s.addScaledVector(a,Tn.y),s.addScaledVector(o,Tn.z),s},isFrontFacing:function(t,e,i,n){return En.subVectors(i,e),Sn.subVectors(t,e),En.cross(Sn).dot(n)<0}}),Object.assign(Un.prototype,{set:function(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this},setFromPointsAndIndices:function(t,e,i,n){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){return En.subVectors(this.c,this.b),Sn.subVectors(this.a,this.b),.5*En.cross(Sn).length()},getMidpoint:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new xi),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return Un.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new Mn),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return Un.getBarycoord(t,this.a,this.b,this.c,e)},getUV:function(t,e,i,n,r){return Un.getUV(t,this.a,this.b,this.c,e,i,n,r)},containsPoint:function(t){return Un.containsPoint(t,this.a,this.b,this.c)},isFrontFacing:function(t){return Un.isFrontFacing(this.a,this.b,this.c,t)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:function(t,e){void 0===e&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),e=new xi);var i,n,r=this.a,a=this.b,o=this.c;Cn.subVectors(a,r),Ln.subVectors(o,r),Pn.subVectors(t,r);var s=Cn.dot(Pn),c=Ln.dot(Pn);if(s<=0&&c<=0)return e.copy(r);In.subVectors(t,a);var l=Cn.dot(In),u=Ln.dot(In);if(l>=0&&u<=l)return e.copy(a);var h=s*u-l*c;if(h<=0&&s>=0&&l<=0)return i=s/(s-l),e.copy(r).addScaledVector(Cn,i);On.subVectors(t,o);var d=Cn.dot(On),p=Ln.dot(On);if(p>=0&&d<=p)return e.copy(o);var f=d*c-s*p;if(f<=0&&c>=0&&p<=0)return n=c/(c-p),e.copy(r).addScaledVector(Ln,n);var m=l*p-d*u;if(m<=0&&u-l>=0&&d-p>=0)return Rn.subVectors(o,a),n=(u-l)/(u-l+(d-p)),e.copy(a).addScaledVector(Rn,n);var v=1/(m+f+h);return i=f*v,n=h*v,e.copy(r).addScaledVector(Cn,i).addScaledVector(Ln,n)},equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}});var Dn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Nn={h:0,s:0,l:0},zn={h:0,s:0,l:0};function Fn(t,e,i){return void 0===e&&void 0===i?this.set(t):this.setRGB(t,e,i)}function Bn(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+6*(e-t)*(2/3-i):t}function Gn(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function kn(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}function Hn(t,e,i,n,r,a){this.a=t,this.b=e,this.c=i,this.normal=n&&n.isVector3?n:new xi,this.vertexNormals=Array.isArray(n)?n:[],this.color=r&&r.isColor?r:new Fn,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==a?a:0}Object.assign(Fn.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,i){return this.r=t,this.g=e,this.b=i,this},setHSL:function(t,e,i){if(t=ci.euclideanModulo(t,1),e=ci.clamp(e,0,1),i=ci.clamp(i,0,1),0===e)this.r=this.g=this.b=i;else{var n=i<=.5?i*(1+e):i+e-i*e,r=2*i-n;this.r=Bn(r,n,t+1/3),this.g=Bn(r,n,t),this.b=Bn(r,n,t-1/3)}return this},setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var n,r=i[1],a=i[2];switch(r){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,e(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,e(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(n[1])/360,s=parseInt(n[2],10)/100,c=parseInt(n[3],10)/100;return e(n[5]),this.setHSL(o,s,c)}break}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(t)){var l=i[1],u=l.length;if(3===u)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this},setColorName:function(t){var e=Dn[t];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var i=e>0?1/e:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(t){return this.r=Gn(t.r),this.g=Gn(t.g),this.b=Gn(t.b),this},copyLinearToSRGB:function(t){return this.r=kn(t.r),this.g=kn(t.g),this.b=kn(t.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,i,n=this.r,r=this.g,a=this.b,o=Math.max(n,r,a),s=Math.min(n,r,a),c=(s+o)/2;if(s===o)e=0,i=0;else{var l=o-s;switch(i=c<=.5?l/(o+s):l/(2-o-s),o){case n:e=(r-a)/l+(r<a?6:0);break;case r:e=(a-n)/l+2;break;case a:e=(n-r)/l+4;break}e/=6}return t.h=e,t.s=i,t.l=c,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,i){return this.getHSL(Nn),Nn.h+=t,Nn.s+=e,Nn.l+=i,this.setHSL(Nn.h,Nn.s,Nn.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},lerpHSL:function(t,e){this.getHSL(Nn),t.getHSL(zn);var i=ci.lerp(Nn.h,zn.h,e),n=ci.lerp(Nn.s,zn.s,e),r=ci.lerp(Nn.l,zn.l,e);return this.setHSL(i,n,r),this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}}),Fn.NAMES=Dn,Object.assign(Hn.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,i=t.vertexNormals.length;e<i;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,i=t.vertexColors.length;e<i;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}});var Vn=0;function jn(){Object.defineProperty(this,"id",{value:Vn++}),this.uuid=ci.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=g,this.side=d,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=P,this.blendDst=I,this.blendEquation=w,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=k,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=ei,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ti,this.stencilZFail=ti,this.stencilZPass=ti,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Wn(t){jn.call(this),this.type="MeshBasicMaterial",this.color=new Fn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=X,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}jn.prototype=Object.assign(Object.create(ri.prototype),{constructor:jn,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var i=t[e];if(void 0!==i)if("shading"!==e){var n=this[e];void 0!==n?n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[e]=i:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=i===m;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){var e=void 0===t||"string"===typeof t;e&&(t={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function n(t){var e=[];for(var i in t){var n=t[i];delete n.metadata,e.push(n)}return e}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(i.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,i.reflectivity=this.reflectivity,i.refractionRatio=this.refractionRatio,void 0!==this.combine&&(i.combine=this.combine),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==g&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),this.side!==d&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.morphNormals&&(i.morphNormals=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),e){var r=n(t.textures),a=n(t.images);r.length>0&&(i.textures=r),a.length>0&&(i.images=a)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;var e=t.clippingPlanes,i=null;if(null!==e){var n=e.length;i=new Array(n);for(var r=0;r!==n;++r)i[r]=e[r].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(jn.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Wn.prototype=Object.create(jn.prototype),Wn.prototype.constructor=Wn,Wn.prototype.isMeshBasicMaterial=!0,Wn.prototype.copy=function(t){return jn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this};var Xn=new xi;function Yn(t,e,i){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===i,this.usage=ii,this.updateRange={offset:0,count:-1},this.version=0}function Zn(t,e,i){Yn.call(this,new Int8Array(t),e,i)}function qn(t,e,i){Yn.call(this,new Uint8Array(t),e,i)}function Jn(t,e,i){Yn.call(this,new Uint8ClampedArray(t),e,i)}function Qn(t,e,i){Yn.call(this,new Int16Array(t),e,i)}function Kn(t,e,i){Yn.call(this,new Uint16Array(t),e,i)}function $n(t,e,i){Yn.call(this,new Int32Array(t),e,i)}function tr(t,e,i){Yn.call(this,new Uint32Array(t),e,i)}function er(t,e,i){Yn.call(this,new Float32Array(t),e,i)}function ir(t,e,i){Yn.call(this,new Float64Array(t),e,i)}function nr(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function rr(t){if(0===t.length)return-1/0;for(var e=t[0],i=1,n=t.length;i<n;++i)t[i]>e&&(e=t[i]);return e}Object.defineProperty(Yn.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Yn.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,e,i){t*=this.itemSize,i*=e.itemSize;for(var n=0,r=this.itemSize;n<r;n++)this.array[t+n]=e.array[i+n];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),a=new Fn),e[i++]=a.r,e[i++]=a.g,e[i++]=a.b}return this},copyVector2sArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),a=new li),e[i++]=a.x,e[i++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),a=new xi),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,i=0,n=0,r=t.length;n<r;n++){var a=t[n];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),a=new fi),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z,e[i++]=a.w}return this},applyMatrix3:function(t){for(var e=0,i=this.count;e<i;e++)Xn.x=this.getX(e),Xn.y=this.getY(e),Xn.z=this.getZ(e),Xn.applyMatrix3(t),this.setXYZ(e,Xn.x,Xn.y,Xn.z);return this},applyMatrix4:function(t){for(var e=0,i=this.count;e<i;e++)Xn.x=this.getX(e),Xn.y=this.getY(e),Xn.z=this.getZ(e),Xn.applyMatrix4(t),this.setXYZ(e,Xn.x,Xn.y,Xn.z);return this},applyNormalMatrix:function(t){for(var e=0,i=this.count;e<i;e++)Xn.x=this.getX(e),Xn.y=this.getY(e),Xn.z=this.getZ(e),Xn.applyNormalMatrix(t),this.setXYZ(e,Xn.x,Xn.y,Xn.z);return this},transformDirection:function(t){for(var e=0,i=this.count;e<i;e++)Xn.x=this.getX(e),Xn.y=this.getY(e),Xn.z=this.getZ(e),Xn.transformDirection(t),this.setXYZ(e,Xn.x,Xn.y,Xn.z);return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this},setXYZ:function(t,e,i,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this},setXYZW:function(t,e,i,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this.array[t+3]=r,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),Zn.prototype=Object.create(Yn.prototype),Zn.prototype.constructor=Zn,qn.prototype=Object.create(Yn.prototype),qn.prototype.constructor=qn,Jn.prototype=Object.create(Yn.prototype),Jn.prototype.constructor=Jn,Qn.prototype=Object.create(Yn.prototype),Qn.prototype.constructor=Qn,Kn.prototype=Object.create(Yn.prototype),Kn.prototype.constructor=Kn,$n.prototype=Object.create(Yn.prototype),$n.prototype.constructor=$n,tr.prototype=Object.create(Yn.prototype),tr.prototype.constructor=tr,er.prototype=Object.create(Yn.prototype),er.prototype.constructor=er,ir.prototype=Object.create(Yn.prototype),ir.prototype.constructor=ir,Object.assign(nr.prototype,{computeGroups:function(t){for(var e,i=[],n=void 0,r=t.faces,a=0;a<r.length;a++){var o=r[a];o.materialIndex!==n&&(n=o.materialIndex,void 0!==e&&(e.count=3*a-e.start,i.push(e)),e={start:3*a,materialIndex:n})}void 0!==e&&(e.count=3*a-e.start,i.push(e)),this.groups=i},fromGeometry:function(t){var e,i=t.faces,n=t.vertices,r=t.faceVertexUvs,a=r[0]&&r[0].length>0,o=r[1]&&r[1].length>0,s=t.morphTargets,c=s.length;if(c>0){e=[];for(var l=0;l<c;l++)e[l]={name:s[l].name,data:[]};this.morphTargets.position=e}var u,h=t.morphNormals,d=h.length;if(d>0){u=[];for(l=0;l<d;l++)u[l]={name:h[l].name,data:[]};this.morphTargets.normal=u}var p=t.skinIndices,f=t.skinWeights,m=p.length===n.length,v=f.length===n.length;n.length>0&&0===i.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(l=0;l<i.length;l++){var g=i[l];this.vertices.push(n[g.a],n[g.b],n[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var _=g.normal;this.normals.push(_,_,_)}var x=g.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var b=g.color;this.colors.push(b,b,b)}if(!0===a){var w=r[0][l];void 0!==w?this.uvs.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",l),this.uvs.push(new li,new li,new li))}if(!0===o){w=r[1][l];void 0!==w?this.uvs2.push(w[0],w[1],w[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l),this.uvs2.push(new li,new li,new li))}for(var M=0;M<c;M++){var E=s[M].vertices;e[M].data.push(E[g.a],E[g.b],E[g.c])}for(M=0;M<d;M++){var S=h[M].vertexNormals[l];u[M].data.push(S.a,S.b,S.c)}m&&this.skinIndices.push(p[g.a],p[g.b],p[g.c]),v&&this.skinWeights.push(f[g.a],f[g.b],f[g.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this}});var ar=1,or=new Ci,sr=new Xi,cr=new xi,lr=new cn,ur=new cn,hr=new xi;function dr(){Object.defineProperty(this,"id",{value:ar+=2}),this.uuid=ci.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}dr.prototype=Object.assign(Object.create(ri.prototype),{constructor:dr,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(rr(t)>65535?tr:Kn)(t,1):this.index=t},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,i){this.groups.push({start:t,count:e,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix4:function(t){var e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);var i=this.attributes.normal;if(void 0!==i){var n=(new ui).getNormalMatrix(t);i.applyNormalMatrix(n),i.needsUpdate=!0}var r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(t){return or.makeRotationX(t),this.applyMatrix4(or),this},rotateY:function(t){return or.makeRotationY(t),this.applyMatrix4(or),this},rotateZ:function(t){return or.makeRotationZ(t),this.applyMatrix4(or),this},translate:function(t,e,i){return or.makeTranslation(t,e,i),this.applyMatrix4(or),this},scale:function(t,e,i){return or.makeScale(t,e,i),this.applyMatrix4(or),this},lookAt:function(t){return sr.lookAt(t),sr.updateMatrix(),this.applyMatrix4(sr.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(cr).negate(),this.translate(cr.x,cr.y,cr.z),this},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var i=new er(3*e.vertices.length,3),n=new er(3*e.colors.length,3);if(this.setAttribute("position",i.copyVector3sArray(e.vertices)),this.setAttribute("color",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var r=new er(e.lineDistances.length,1);this.setAttribute("lineDistance",r.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],i=0,n=t.length;i<n;i++){var r=t[i];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new er(e,3)),this},updateFromObject:function(t){var e,i=t.geometry;if(t.isMesh){var n=i.__directGeometry;if(!0===i.elementsNeedUpdate&&(n=void 0,i.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(i);n.verticesNeedUpdate=i.verticesNeedUpdate,n.normalsNeedUpdate=i.normalsNeedUpdate,n.colorsNeedUpdate=i.colorsNeedUpdate,n.uvsNeedUpdate=i.uvsNeedUpdate,n.groupsNeedUpdate=i.groupsNeedUpdate,i.verticesNeedUpdate=!1,i.normalsNeedUpdate=!1,i.colorsNeedUpdate=!1,i.uvsNeedUpdate=!1,i.groupsNeedUpdate=!1,i=n}return!0===i.verticesNeedUpdate&&(e=this.attributes.position,void 0!==e&&(e.copyVector3sArray(i.vertices),e.needsUpdate=!0),i.verticesNeedUpdate=!1),!0===i.normalsNeedUpdate&&(e=this.attributes.normal,void 0!==e&&(e.copyVector3sArray(i.normals),e.needsUpdate=!0),i.normalsNeedUpdate=!1),!0===i.colorsNeedUpdate&&(e=this.attributes.color,void 0!==e&&(e.copyColorsArray(i.colors),e.needsUpdate=!0),i.colorsNeedUpdate=!1),i.uvsNeedUpdate&&(e=this.attributes.uv,void 0!==e&&(e.copyVector2sArray(i.uvs),e.needsUpdate=!0),i.uvsNeedUpdate=!1),i.lineDistancesNeedUpdate&&(e=this.attributes.lineDistance,void 0!==e&&(e.copyArray(i.lineDistances),e.needsUpdate=!0),i.lineDistancesNeedUpdate=!1),i.groupsNeedUpdate&&(i.computeGroups(t.geometry),this.groups=i.groups,i.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new nr).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.setAttribute("position",new Yn(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var i=new Float32Array(3*t.normals.length);this.setAttribute("normal",new Yn(i,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var n=new Float32Array(3*t.colors.length);this.setAttribute("color",new Yn(n,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var r=new Float32Array(2*t.uvs.length);this.setAttribute("uv",new Yn(r,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.setAttribute("uv2",new Yn(a,2).copyVector2sArray(t.uvs2))}for(var o in this.groups=t.groups,t.morphTargets){for(var s=[],c=t.morphTargets[o],l=0,u=c.length;l<u;l++){var h=c[l],d=new er(3*h.data.length,3);d.name=h.name,s.push(d.copyVector3sArray(h.data))}this.morphAttributes[o]=s}if(t.skinIndices.length>0){var p=new er(4*t.skinIndices.length,4);this.setAttribute("skinIndex",p.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var f=new er(4*t.skinWeights.length,4);this.setAttribute("skinWeight",f.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new cn);var t=this.attributes.position,e=this.morphAttributes.position;if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(var i=0,n=e.length;i<n;i++){var r=e[i];lr.setFromBufferAttribute(r),this.morphTargetsRelative?(hr.addVectors(this.boundingBox.min,lr.min),this.boundingBox.expandByPoint(hr),hr.addVectors(this.boundingBox.max,lr.max),this.boundingBox.expandByPoint(hr)):(this.boundingBox.expandByPoint(lr.min),this.boundingBox.expandByPoint(lr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new hn);var t=this.attributes.position,e=this.morphAttributes.position;if(t){var i=this.boundingSphere.center;if(lr.setFromBufferAttribute(t),e)for(var n=0,r=e.length;n<r;n++){var a=e[n];ur.setFromBufferAttribute(a),this.morphTargetsRelative?(hr.addVectors(lr.min,ur.min),lr.expandByPoint(hr),hr.addVectors(lr.max,ur.max),lr.expandByPoint(hr)):(lr.expandByPoint(ur.min),lr.expandByPoint(ur.max))}lr.getCenter(i);var o=0;for(n=0,r=t.count;n<r;n++)hr.fromBufferAttribute(t,n),o=Math.max(o,i.distanceToSquared(hr));if(e)for(n=0,r=e.length;n<r;n++){a=e[n];for(var s=this.morphTargetsRelative,c=0,l=a.count;c<l;c++)hr.fromBufferAttribute(a,c),s&&(cr.fromBufferAttribute(t,c),hr.add(cr)),o=Math.max(o,i.distanceToSquared(hr))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes;if(e.position){var i=e.position.array;if(void 0===e.normal)this.setAttribute("normal",new Yn(new Float32Array(i.length),3));else for(var n=e.normal.array,r=0,a=n.length;r<a;r++)n[r]=0;var o,s,c,l=e.normal.array,u=new xi,h=new xi,d=new xi,p=new xi,f=new xi;if(t){var m=t.array;for(r=0,a=t.count;r<a;r+=3)o=3*m[r+0],s=3*m[r+1],c=3*m[r+2],u.fromArray(i,o),h.fromArray(i,s),d.fromArray(i,c),p.subVectors(d,h),f.subVectors(u,h),p.cross(f),l[o]+=p.x,l[o+1]+=p.y,l[o+2]+=p.z,l[s]+=p.x,l[s+1]+=p.y,l[s+2]+=p.z,l[c]+=p.x,l[c+1]+=p.y,l[c+2]+=p.z}else for(r=0,a=i.length;r<a;r+=9)u.fromArray(i,r),h.fromArray(i,r+3),d.fromArray(i,r+6),p.subVectors(d,h),f.subVectors(u,h),p.cross(f),l[r]=p.x,l[r+1]=p.y,l[r+2]=p.z,l[r+3]=p.x,l[r+4]=p.y,l[r+5]=p.z,l[r+6]=p.x,l[r+7]=p.y,l[r+8]=p.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var i=this.attributes;for(var n in i)if(void 0!==t.attributes[n])for(var r=i[n],a=r.array,o=t.attributes[n],s=o.array,c=o.itemSize*e,l=Math.min(s.length,a.length-c),u=0,h=c;u<l;u++,h++)a[h]=s[u];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){for(var t=this.attributes.normal,e=0,i=t.count;e<i;e++)hr.x=t.getX(e),hr.y=t.getY(e),hr.z=t.getZ(e),hr.normalize(),t.setXYZ(e,hr.x,hr.y,hr.z)},toNonIndexed:function(){function t(t,e){for(var i=t.array,n=t.itemSize,r=new i.constructor(e.length*n),a=0,o=0,s=0,c=e.length;s<c;s++){a=e[s]*n;for(var l=0;l<n;l++)r[o++]=i[a++]}return new Yn(r,n)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new dr,i=this.index.array,n=this.attributes;for(var r in n){var a=n[r],o=t(a,i);e.setAttribute(r,o)}var s=this.morphAttributes;for(r in s){for(var c=[],l=s[r],u=0,h=l.length;u<h;u++){a=l[u],o=t(a,i);c.push(o)}e.morphAttributes[r]=c}e.morphTargetsRelative=this.morphTargetsRelative;for(var d=this.groups,p=(u=0,d.length);u<p;u++){var f=d[u];e.addGroup(f.start,f.count,f.materialIndex)}return e},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}t.data={attributes:{}};var n=this.index;null!==n&&(t.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});var r=this.attributes;for(var i in r){var a=r[i],o=a.toJSON();""!==a.name&&(o.name=a.name),t.data.attributes[i]=o}var s={},c=!1;for(var i in this.morphAttributes){for(var l=this.morphAttributes[i],u=[],h=0,d=l.length;h<d;h++){a=l[h],o=a.toJSON();""!==a.name&&(o.name=a.name),u.push(o)}u.length>0&&(s[i]=u,c=!0)}c&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);var p=this.groups;p.length>0&&(t.data.groups=JSON.parse(JSON.stringify(p)));var f=this.boundingSphere;return null!==f&&(t.data.boundingSphere={center:f.center.toArray(),radius:f.radius}),t},clone:function(){return(new dr).copy(this)},copy:function(t){var e,i,n;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var r=t.index;null!==r&&this.setIndex(r.clone());var a=t.attributes;for(e in a){var o=a[e];this.setAttribute(e,o.clone())}var s=t.morphAttributes;for(e in s){var c=[],l=s[e];for(i=0,n=l.length;i<n;i++)c.push(l[i].clone());this.morphAttributes[e]=c}this.morphTargetsRelative=t.morphTargetsRelative;var u=t.groups;for(i=0,n=u.length;i<n;i++){var h=u[i];this.addGroup(h.start,h.count,h.materialIndex)}var d=t.boundingBox;null!==d&&(this.boundingBox=d.clone());var p=t.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var pr=new Ci,fr=new _n,mr=new hn,vr=new xi,gr=new xi,yr=new xi,_r=new xi,xr=new xi,br=new xi,wr=new xi,Mr=new xi,Er=new xi,Sr=new li,Ar=new li,Tr=new li,Cr=new xi,Lr=new xi;function Rr(t,e){Xi.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new dr,this.material=void 0!==e?e:new Wn,this.updateMorphTargets()}function Pr(t,e,i,n,r,a,o,s){var c;if(c=e.side===p?n.intersectTriangle(o,a,r,!0,s):n.intersectTriangle(r,a,o,e.side!==f,s),null===c)return null;Lr.copy(s),Lr.applyMatrix4(t.matrixWorld);var l=i.ray.origin.distanceTo(Lr);return l<i.near||l>i.far?null:{distance:l,point:Lr.clone(),object:t}}function Ir(t,e,i,n,r,a,o,s,c,l,u,h){vr.fromBufferAttribute(r,l),gr.fromBufferAttribute(r,u),yr.fromBufferAttribute(r,h);var d=t.morphTargetInfluences;if(e.morphTargets&&a&&d){wr.set(0,0,0),Mr.set(0,0,0),Er.set(0,0,0);for(var p=0,f=a.length;p<f;p++){var m=d[p],v=a[p];0!==m&&(_r.fromBufferAttribute(v,l),xr.fromBufferAttribute(v,u),br.fromBufferAttribute(v,h),o?(wr.addScaledVector(_r,m),Mr.addScaledVector(xr,m),Er.addScaledVector(br,m)):(wr.addScaledVector(_r.sub(vr),m),Mr.addScaledVector(xr.sub(gr),m),Er.addScaledVector(br.sub(yr),m)))}vr.add(wr),gr.add(Mr),yr.add(Er)}t.isSkinnedMesh&&(t.boneTransform(l,vr),t.boneTransform(u,gr),t.boneTransform(h,yr));var g=Pr(t,e,i,n,vr,gr,yr,Cr);if(g){s&&(Sr.fromBufferAttribute(s,l),Ar.fromBufferAttribute(s,u),Tr.fromBufferAttribute(s,h),g.uv=Un.getUV(Cr,vr,gr,yr,Sr,Ar,Tr,new li)),c&&(Sr.fromBufferAttribute(c,l),Ar.fromBufferAttribute(c,u),Tr.fromBufferAttribute(c,h),g.uv2=Un.getUV(Cr,vr,gr,yr,Sr,Ar,Tr,new li));var y=new Hn(l,u,h);Un.getNormal(vr,gr,yr,y.normal),g.face=y}return g}Rr.prototype=Object.assign(Object.create(Xi.prototype),{constructor:Rr,isMesh:!0,copy:function(t){return Xi.prototype.copy.call(this,t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,i,n=this.geometry;if(n.isBufferGeometry){var r=n.morphAttributes,a=Object.keys(r);if(a.length>0){var o=r[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=o.length;t<e;t++)i=o[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=t}}else{var s=n.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,e){var i,n=this.geometry,r=this.material,a=this.matrixWorld;if(void 0!==r&&(null===n.boundingSphere&&n.computeBoundingSphere(),mr.copy(n.boundingSphere),mr.applyMatrix4(a),!1!==t.ray.intersectsSphere(mr)&&(pr.getInverse(a),fr.copy(t.ray).applyMatrix4(pr),null===n.boundingBox||!1!==fr.intersectsBox(n.boundingBox))))if(n.isBufferGeometry){var o,s,c,l,u,h,d,p,f,m,v,g=n.index,y=n.attributes.position,_=n.morphAttributes.position,x=n.morphTargetsRelative,b=n.attributes.uv,w=n.attributes.uv2,M=n.groups,E=n.drawRange;if(null!==g)if(Array.isArray(r))for(l=0,h=M.length;l<h;l++)for(p=M[l],f=r[p.materialIndex],m=Math.max(p.start,E.start),v=Math.min(p.start+p.count,E.start+E.count),u=m,d=v;u<d;u+=3)o=g.getX(u),s=g.getX(u+1),c=g.getX(u+2),i=Ir(this,f,t,fr,y,_,x,b,w,o,s,c),i&&(i.faceIndex=Math.floor(u/3),i.face.materialIndex=p.materialIndex,e.push(i));else for(m=Math.max(0,E.start),v=Math.min(g.count,E.start+E.count),l=m,h=v;l<h;l+=3)o=g.getX(l),s=g.getX(l+1),c=g.getX(l+2),i=Ir(this,r,t,fr,y,_,x,b,w,o,s,c),i&&(i.faceIndex=Math.floor(l/3),e.push(i));else if(void 0!==y)if(Array.isArray(r))for(l=0,h=M.length;l<h;l++)for(p=M[l],f=r[p.materialIndex],m=Math.max(p.start,E.start),v=Math.min(p.start+p.count,E.start+E.count),u=m,d=v;u<d;u+=3)o=u,s=u+1,c=u+2,i=Ir(this,f,t,fr,y,_,x,b,w,o,s,c),i&&(i.faceIndex=Math.floor(u/3),i.face.materialIndex=p.materialIndex,e.push(i));else for(m=Math.max(0,E.start),v=Math.min(y.count,E.start+E.count),l=m,h=v;l<h;l+=3)o=l,s=l+1,c=l+2,i=Ir(this,r,t,fr,y,_,x,b,w,o,s,c),i&&(i.faceIndex=Math.floor(l/3),e.push(i))}else if(n.isGeometry){var S,A,T,C,L=Array.isArray(r),R=n.vertices,P=n.faces,I=n.faceVertexUvs[0];I.length>0&&(C=I);for(var O=0,U=P.length;O<U;O++){var D=P[O],N=L?r[D.materialIndex]:r;if(void 0!==N&&(S=R[D.a],A=R[D.b],T=R[D.c],i=Pr(this,N,t,fr,S,A,T,Cr),i)){if(C&&C[O]){var z=C[O];Sr.copy(z[0]),Ar.copy(z[1]),Tr.copy(z[2]),i.uv=Un.getUV(Cr,S,A,T,Sr,Ar,Tr,new li)}i.face=D,i.faceIndex=O,e.push(i)}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Or=0,Ur=new Ci,Dr=new Xi,Nr=new xi;function zr(){Object.defineProperty(this,"id",{value:Or+=2}),this.uuid=ci.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}zr.prototype=Object.assign(Object.create(ri.prototype),{constructor:zr,isGeometry:!0,applyMatrix4:function(t){for(var e=(new ui).getNormalMatrix(t),i=0,n=this.vertices.length;i<n;i++){var r=this.vertices[i];r.applyMatrix4(t)}for(i=0,n=this.faces.length;i<n;i++){var a=this.faces[i];a.normal.applyMatrix3(e).normalize();for(var o=0,s=a.vertexNormals.length;o<s;o++)a.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(t){return Ur.makeRotationX(t),this.applyMatrix4(Ur),this},rotateY:function(t){return Ur.makeRotationY(t),this.applyMatrix4(Ur),this},rotateZ:function(t){return Ur.makeRotationZ(t),this.applyMatrix4(Ur),this},translate:function(t,e,i){return Ur.makeTranslation(t,e,i),this.applyMatrix4(Ur),this},scale:function(t,e,i){return Ur.makeScale(t,e,i),this.applyMatrix4(Ur),this},lookAt:function(t){return Dr.lookAt(t),Dr.updateMatrix(),this.applyMatrix4(Dr.matrix),this},fromBufferGeometry:function(t){var e=this,i=null!==t.index?t.index.array:void 0,n=t.attributes;if(void 0===n.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var r=n.position.array,a=void 0!==n.normal?n.normal.array:void 0,o=void 0!==n.color?n.color.array:void 0,s=void 0!==n.uv?n.uv.array:void 0,c=void 0!==n.uv2?n.uv2.array:void 0;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var l=0;l<r.length;l+=3)e.vertices.push((new xi).fromArray(r,l)),void 0!==o&&e.colors.push((new Fn).fromArray(o,l));function u(t,i,n,r){var l=void 0===o?[]:[e.colors[t].clone(),e.colors[i].clone(),e.colors[n].clone()],u=void 0===a?[]:[(new xi).fromArray(a,3*t),(new xi).fromArray(a,3*i),(new xi).fromArray(a,3*n)],h=new Hn(t,i,n,u,l,r);e.faces.push(h),void 0!==s&&e.faceVertexUvs[0].push([(new li).fromArray(s,2*t),(new li).fromArray(s,2*i),(new li).fromArray(s,2*n)]),void 0!==c&&e.faceVertexUvs[1].push([(new li).fromArray(c,2*t),(new li).fromArray(c,2*i),(new li).fromArray(c,2*n)])}var h=t.groups;if(h.length>0)for(l=0;l<h.length;l++)for(var d=h[l],p=d.start,f=d.count,m=p,v=p+f;m<v;m+=3)void 0!==i?u(i[m],i[m+1],i[m+2],d.materialIndex):u(m,m+1,m+2,d.materialIndex);else if(void 0!==i)for(l=0;l<i.length;l+=3)u(i[l],i[l+1],i[l+2]);else for(l=0;l<r.length/3;l+=3)u(l,l+1,l+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Nr).negate(),this.translate(Nr.x,Nr.y,Nr.z),this},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,i=0===e?1:1/e,n=new Ci;return n.set(i,0,0,-i*t.x,0,i,0,-i*t.y,0,0,i,-i*t.z,0,0,0,1),this.applyMatrix4(n),this},computeFaceNormals:function(){for(var t=new xi,e=new xi,i=0,n=this.faces.length;i<n;i++){var r=this.faces[i],a=this.vertices[r.a],o=this.vertices[r.b],s=this.vertices[r.c];t.subVectors(s,o),e.subVectors(a,o),t.cross(e),t.normalize(),r.normal.copy(t)}},computeVertexNormals:function(t){var e,i,n,r,a,o;for(void 0===t&&(t=!0),o=new Array(this.vertices.length),e=0,i=this.vertices.length;e<i;e++)o[e]=new xi;if(t){var s,c,l,u=new xi,h=new xi;for(n=0,r=this.faces.length;n<r;n++)a=this.faces[n],s=this.vertices[a.a],c=this.vertices[a.b],l=this.vertices[a.c],u.subVectors(l,c),h.subVectors(s,c),u.cross(h),o[a.a].add(u),o[a.b].add(u),o[a.c].add(u)}else for(this.computeFaceNormals(),n=0,r=this.faces.length;n<r;n++)a=this.faces[n],o[a.a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(e=0,i=this.vertices.length;e<i;e++)o[e].normalize();for(n=0,r=this.faces.length;n<r;n++){a=this.faces[n];var d=a.vertexNormals;3===d.length?(d[0].copy(o[a.a]),d[1].copy(o[a.b]),d[2].copy(o[a.c])):(d[0]=o[a.a].clone(),d[1]=o[a.b].clone(),d[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,i;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){i=this.faces[t];var n=i.vertexNormals;3===n.length?(n[0].copy(i.normal),n[1].copy(i.normal),n[2].copy(i.normal)):(n[0]=i.normal.clone(),n[1]=i.normal.clone(),n[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,i,n,r;for(i=0,n=this.faces.length;i<n;i++)for(r=this.faces[i],r.__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),t=0,e=r.vertexNormals.length;t<e;t++)r.__originalVertexNormals[t]?r.__originalVertexNormals[t].copy(r.vertexNormals[t]):r.__originalVertexNormals[t]=r.vertexNormals[t].clone();var a=new zr;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(i=0,n=this.faces.length;i<n;i++)c=new xi,l={a:new xi,b:new xi,c:new xi},o.push(c),s.push(l)}var c,l,u=this.morphNormals[t];for(a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals(),i=0,n=this.faces.length;i<n;i++)r=this.faces[i],c=u.faceNormals[i],l=u.vertexNormals[i],c.copy(r.normal),l.a.copy(r.vertexNormals[0]),l.b.copy(r.vertexNormals[1]),l.c.copy(r.vertexNormals[2])}for(i=0,n=this.faces.length;i<n;i++)r=this.faces[i],r.normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new cn),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new hn),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,i){if(t&&t.isGeometry){var n,r=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,c=t.faces,l=this.colors,u=t.colors;void 0===i&&(i=0),void 0!==e&&(n=(new ui).getNormalMatrix(e));for(var h=0,d=o.length;h<d;h++){var p=o[h],f=p.clone();void 0!==e&&f.applyMatrix4(e),a.push(f)}for(h=0,d=u.length;h<d;h++)l.push(u[h].clone());for(h=0,d=c.length;h<d;h++){var m,v,g,y=c[h],_=y.vertexNormals,x=y.vertexColors;m=new Hn(y.a+r,y.b+r,y.c+r),m.normal.copy(y.normal),void 0!==n&&m.normal.applyMatrix3(n).normalize();for(var b=0,w=_.length;b<w;b++)v=_[b].clone(),void 0!==n&&v.applyMatrix3(n).normalize(),m.vertexNormals.push(v);m.color.copy(y.color);for(b=0,w=x.length;b<w;b++)g=x[b],m.vertexColors.push(g.clone());m.materialIndex=y.materialIndex+i,s.push(m)}for(h=0,d=t.faceVertexUvs.length;h<d;h++){var M=t.faceVertexUvs[h];void 0===this.faceVertexUvs[h]&&(this.faceVertexUvs[h]=[]);for(b=0,w=M.length;b<w;b++){for(var E=M[b],S=[],A=0,T=E.length;A<T;A++)S.push(E[A].clone());this.faceVertexUvs[h].push(S)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t,e,i,n,r,a,o,s,c={},l=[],u=[],h=4,d=Math.pow(10,h);for(i=0,n=this.vertices.length;i<n;i++)t=this.vertices[i],e=Math.round(t.x*d)+"_"+Math.round(t.y*d)+"_"+Math.round(t.z*d),void 0===c[e]?(c[e]=i,l.push(this.vertices[i]),u[i]=l.length-1):u[i]=u[c[e]];var p=[];for(i=0,n=this.faces.length;i<n;i++){r=this.faces[i],r.a=u[r.a],r.b=u[r.b],r.c=u[r.c],a=[r.a,r.b,r.c];for(var f=0;f<3;f++)if(a[f]===a[(f+1)%3]){p.push(i);break}}for(i=p.length-1;i>=0;i--){var m=p[i];for(this.faces.splice(m,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(m,1)}var v=this.vertices.length-l.length;return this.vertices=l,v},setFromPoints:function(t){this.vertices=[];for(var e=0,i=t.length;e<i;e++){var n=t[e];this.vertices.push(new xi(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,i=0;i<e;i++)t[i]._id=i;function n(t,e){return t.materialIndex-e.materialIndex}t.sort(n);var r,a,o=this.faceVertexUvs[0],s=this.faceVertexUvs[1];o&&o.length===e&&(r=[]),s&&s.length===e&&(a=[]);for(i=0;i<e;i++){var c=t[i]._id;r&&r.push(o[c]),a&&a.push(s[c])}r&&(this.faceVertexUvs[0]=r),a&&(this.faceVertexUvs[1]=a)},toJSON:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}for(var n=[],r=0;r<this.vertices.length;r++){var a=this.vertices[r];n.push(a.x,a.y,a.z)}var o=[],s=[],c={},l=[],u={},h=[],d={};for(r=0;r<this.faces.length;r++){var p=this.faces[r],f=!0,m=!1,v=void 0!==this.faceVertexUvs[0][r],g=p.normal.length()>0,y=p.vertexNormals.length>0,_=1!==p.color.r||1!==p.color.g||1!==p.color.b,x=p.vertexColors.length>0,b=0;if(b=S(b,0,0),b=S(b,1,f),b=S(b,2,m),b=S(b,3,v),b=S(b,4,g),b=S(b,5,y),b=S(b,6,_),b=S(b,7,x),o.push(b),o.push(p.a,p.b,p.c),o.push(p.materialIndex),v){var w=this.faceVertexUvs[0][r];o.push(C(w[0]),C(w[1]),C(w[2]))}if(g&&o.push(A(p.normal)),y){var M=p.vertexNormals;o.push(A(M[0]),A(M[1]),A(M[2]))}if(_&&o.push(T(p.color)),x){var E=p.vertexColors;o.push(T(E[0]),T(E[1]),T(E[2]))}}function S(t,e,i){return i?t|1<<e:t&~(1<<e)}function A(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==c[e]||(c[e]=s.length/3,s.push(t.x,t.y,t.z)),c[e]}function T(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==u[e]||(u[e]=l.length,l.push(t.getHex())),u[e]}function C(t){var e=t.x.toString()+t.y.toString();return void 0!==d[e]||(d[e]=h.length/2,h.push(t.x,t.y)),d[e]}return t.data={},t.data.vertices=n,t.data.normals=s,l.length>0&&(t.data.colors=l),h.length>0&&(t.data.uvs=[h]),t.data.faces=o,t},clone:function(){return(new zr).copy(this)},copy:function(t){var e,i,n,r,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,i=s.length;e<i;e++)this.vertices.push(s[e].clone());var c=t.colors;for(e=0,i=c.length;e<i;e++)this.colors.push(c[e].clone());var l=t.faces;for(e=0,i=l.length;e<i;e++)this.faces.push(l[e].clone());for(e=0,i=t.faceVertexUvs.length;e<i;e++){var u=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),n=0,r=u.length;n<r;n++){var h=u[n],d=[];for(a=0,o=h.length;a<o;a++){var p=h[a];d.push(p.clone())}this.faceVertexUvs[e].push(d)}}var f=t.morphTargets;for(e=0,i=f.length;e<i;e++){var m={};if(m.name=f[e].name,void 0!==f[e].vertices)for(m.vertices=[],n=0,r=f[e].vertices.length;n<r;n++)m.vertices.push(f[e].vertices[n].clone());if(void 0!==f[e].normals)for(m.normals=[],n=0,r=f[e].normals.length;n<r;n++)m.normals.push(f[e].normals[n].clone());this.morphTargets.push(m)}var v=t.morphNormals;for(e=0,i=v.length;e<i;e++){var g={};if(void 0!==v[e].vertexNormals)for(g.vertexNormals=[],n=0,r=v[e].vertexNormals.length;n<r;n++){var y=v[e].vertexNormals[n],_={};_.a=y.a.clone(),_.b=y.b.clone(),_.c=y.c.clone(),g.vertexNormals.push(_)}if(void 0!==v[e].faceNormals)for(g.faceNormals=[],n=0,r=v[e].faceNormals.length;n<r;n++)g.faceNormals.push(v[e].faceNormals[n].clone());this.morphNormals.push(g)}var x=t.skinWeights;for(e=0,i=x.length;e<i;e++)this.skinWeights.push(x[e].clone());var b=t.skinIndices;for(e=0,i=b.length;e<i;e++)this.skinIndices.push(b[e].clone());var w=t.lineDistances;for(e=0,i=w.length;e<i;e++)this.lineDistances.push(w[e]);var M=t.boundingBox;null!==M&&(this.boundingBox=M.clone());var E=t.boundingSphere;return null!==E&&(this.boundingSphere=E.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class Fr extends zr{constructor(t,e,i,n,r,a){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:n,heightSegments:r,depthSegments:a},this.fromBufferGeometry(new Br(t,e,i,n,r,a)),this.mergeVertices()}}class Br extends dr{constructor(t,e,i,n,r,a){super(),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:n,heightSegments:r,depthSegments:a};var o=this;t=t||1,e=e||1,i=i||1,n=Math.floor(n)||1,r=Math.floor(r)||1,a=Math.floor(a)||1;var s=[],c=[],l=[],u=[],h=0,d=0;function p(t,e,i,n,r,a,p,f,m,v,g){var y,_,x=a/m,b=p/v,w=a/2,M=p/2,E=f/2,S=m+1,A=v+1,T=0,C=0,L=new xi;for(_=0;_<A;_++){var R=_*b-M;for(y=0;y<S;y++){var P=y*x-w;L[t]=P*n,L[e]=R*r,L[i]=E,c.push(L.x,L.y,L.z),L[t]=0,L[e]=0,L[i]=f>0?1:-1,l.push(L.x,L.y,L.z),u.push(y/m),u.push(1-_/v),T+=1}}for(_=0;_<v;_++)for(y=0;y<m;y++){var I=h+y+S*_,O=h+y+S*(_+1),U=h+(y+1)+S*(_+1),D=h+(y+1)+S*_;s.push(I,O,D),s.push(O,U,D),C+=6}o.addGroup(d,C,g),d+=C,h+=T}p("z","y","x",-1,-1,i,e,t,a,r,0),p("z","y","x",1,-1,i,e,-t,a,r,1),p("x","z","y",1,1,t,i,e,n,a,2),p("x","z","y",1,-1,t,i,-e,n,a,3),p("x","y","z",1,-1,t,e,i,n,r,4),p("x","y","z",-1,-1,t,e,-i,n,r,5),this.setIndex(s),this.setAttribute("position",new er(c,3)),this.setAttribute("normal",new er(l,3)),this.setAttribute("uv",new er(u,2))}}function Gr(t){var e={};for(var i in t)for(var n in e[i]={},t[i]){var r=t[i][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?e[i][n]=r.clone():Array.isArray(r)?e[i][n]=r.slice():e[i][n]=r}return e}function kr(t){for(var e={},i=0;i<t.length;i++){var n=Gr(t[i]);for(var r in n)e[r]=n[r]}return e}var Hr={clone:Gr,merge:kr},Vr="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",jr="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";function Wr(t){jn.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=Vr,this.fragmentShader=jr,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function Xr(){Xi.call(this),this.type="Camera",this.matrixWorldInverse=new Ci,this.projectionMatrix=new Ci,this.projectionMatrixInverse=new Ci}function Yr(t,e,i,n){Xr.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==i?i:.1,this.far=void 0!==n?n:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Wr.prototype=Object.create(jn.prototype),Wr.prototype.constructor=Wr,Wr.prototype.isShaderMaterial=!0,Wr.prototype.copy=function(t){return jn.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Gr(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},Wr.prototype.toJSON=function(t){var e=jn.prototype.toJSON.call(this,t);for(var i in e.uniforms={},this.uniforms){var n=this.uniforms[i],r=n.value;r&&r.isTexture?e.uniforms[i]={type:"t",value:r.toJSON(t).uuid}:r&&r.isColor?e.uniforms[i]={type:"c",value:r.getHex()}:r&&r.isVector2?e.uniforms[i]={type:"v2",value:r.toArray()}:r&&r.isVector3?e.uniforms[i]={type:"v3",value:r.toArray()}:r&&r.isVector4?e.uniforms[i]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?e.uniforms[i]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?e.uniforms[i]={type:"m4",value:r.toArray()}:e.uniforms[i]={value:r}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(e.extensions=a),e},Xr.prototype=Object.assign(Object.create(Xi.prototype),{constructor:Xr,isCamera:!0,copy:function(t,e){return Xi.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new xi),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){Xi.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(t,e){Xi.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Yr.prototype=Object.assign(Object.create(Xr.prototype),{constructor:Yr,isPerspectiveCamera:!0,copy:function(t,e){return Xr.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*ci.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*ci.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*ci.RAD2DEG*Math.atan(Math.tan(.5*ci.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,i,n,r,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=n,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*ci.DEG2RAD*this.fov)/this.zoom,i=2*e,n=this.aspect*i,r=-.5*n,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*n/o,e-=a.offsetY*i/s,n*=a.width/o,i*=a.height/s}var c=this.filmOffset;0!==c&&(r+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+n,e,e-i,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=Xi.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}});var Zr=90,qr=1;function Jr(t,e,i,n){Xi.call(this),this.type="CubeCamera";var r=new Yr(Zr,qr,t,e);r.up.set(0,-1,0),r.lookAt(new xi(1,0,0)),this.add(r);var a=new Yr(Zr,qr,t,e);a.up.set(0,-1,0),a.lookAt(new xi(-1,0,0)),this.add(a);var o=new Yr(Zr,qr,t,e);o.up.set(0,0,1),o.lookAt(new xi(0,1,0)),this.add(o);var s=new Yr(Zr,qr,t,e);s.up.set(0,0,-1),s.lookAt(new xi(0,-1,0)),this.add(s);var c=new Yr(Zr,qr,t,e);c.up.set(0,-1,0),c.lookAt(new xi(0,0,1)),this.add(c);var l=new Yr(Zr,qr,t,e);l.up.set(0,-1,0),l.lookAt(new xi(0,0,-1)),this.add(l),n=n||{format:Pt,magFilter:mt,minFilter:mt},this.renderTarget=new Qr(i,n),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var i=t.getRenderTarget(),n=this.renderTarget,u=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,r),t.setRenderTarget(n,1),t.render(e,a),t.setRenderTarget(n,2),t.render(e,o),t.setRenderTarget(n,3),t.render(e,s),t.setRenderTarget(n,4),t.render(e,c),n.texture.generateMipmaps=u,t.setRenderTarget(n,5),t.render(e,l),t.setRenderTarget(i)},this.clear=function(t,e,i,n){for(var r=t.getRenderTarget(),a=this.renderTarget,o=0;o<6;o++)t.setRenderTarget(a,o),t.clear(e,i,n);t.setRenderTarget(r)}}function Qr(t,e,i){Number.isInteger(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=i),mi.call(this,t,t,e)}function Kr(t,e,i,n,r,a,o,s,c,l,u,h){pi.call(this,null,a,o,s,c,l,n,r,u,h),this.image={data:t||null,width:e||1,height:i||1},this.magFilter=void 0!==c?c:dt,this.minFilter=void 0!==l?l:dt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Jr.prototype=Object.create(Xi.prototype),Jr.prototype.constructor=Jr,Qr.prototype=Object.create(mi.prototype),Qr.prototype.constructor=Qr,Qr.prototype.isWebGLCubeRenderTarget=!0,Qr.prototype.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=e.format,this.texture.encoding=e.encoding;var i=new Yi,n={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","\tvWorldDirection = transformDirection( position, modelMatrix );","\t#include <begin_vertex>","\t#include <project_vertex>","}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#define RECIPROCAL_PI 0.31830988618","#define RECIPROCAL_PI2 0.15915494","void main() {","\tvec3 direction = normalize( vWorldDirection );","\tvec2 sampleUV;","\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;","\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","\tgl_FragColor = texture2D( tEquirect, sampleUV );","}"].join("\n")},r=new Wr({type:"CubemapFromEquirect",uniforms:Gr(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:p,blending:v});r.uniforms.tEquirect.value=e;var a=new Rr(new Br(5,5,5),r);i.add(a);var o=new Jr(1,10,1);return o.renderTarget=this,o.renderTarget.texture.name="CubeCameraTexture",o.update(t,i),a.geometry.dispose(),a.material.dispose(),this},Kr.prototype=Object.create(pi.prototype),Kr.prototype.constructor=Kr,Kr.prototype.isDataTexture=!0;var $r=new hn,ta=new xi;function ea(t,e,i,n,r,a){this.planes=[void 0!==t?t:new Mn,void 0!==e?e:new Mn,void 0!==i?i:new Mn,void 0!==n?n:new Mn,void 0!==r?r:new Mn,void 0!==a?a:new Mn]}Object.assign(ea.prototype,{set:function(t,e,i,n,r,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(i),o[3].copy(n),o[4].copy(r),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,i=0;i<6;i++)e[i].copy(t.planes[i]);return this},setFromProjectionMatrix:function(t){var e=this.planes,i=t.elements,n=i[0],r=i[1],a=i[2],o=i[3],s=i[4],c=i[5],l=i[6],u=i[7],h=i[8],d=i[9],p=i[10],f=i[11],m=i[12],v=i[13],g=i[14],y=i[15];return e[0].setComponents(o-n,u-s,f-h,y-m).normalize(),e[1].setComponents(o+n,u+s,f+h,y+m).normalize(),e[2].setComponents(o+r,u+c,f+d,y+v).normalize(),e[3].setComponents(o-r,u-c,f-d,y-v).normalize(),e[4].setComponents(o-a,u-l,f-p,y-g).normalize(),e[5].setComponents(o+a,u+l,f+p,y+g).normalize(),this},intersectsObject:function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),$r.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere($r)},intersectsSprite:function(t){return $r.center.set(0,0,0),$r.radius=.7071067811865476,$r.applyMatrix4(t.matrixWorld),this.intersectsSphere($r)},intersectsSphere:function(t){for(var e=this.planes,i=t.center,n=-t.radius,r=0;r<6;r++){var a=e[r].distanceToPoint(i);if(a<n)return!1}return!0},intersectsBox:function(t){for(var e=this.planes,i=0;i<6;i++){var n=e[i];if(ta.x=n.normal.x>0?t.max.x:t.min.x,ta.y=n.normal.y>0?t.max.y:t.min.y,ta.z=n.normal.z>0?t.max.z:t.min.z,n.distanceToPoint(ta)<0)return!1}return!0},containsPoint:function(t){for(var e=this.planes,i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}});var ia={common:{diffuse:{value:new Fn(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new ui},uv2Transform:{value:new ui},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new li(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Fn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Fn(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new ui}},sprite:{diffuse:{value:new Fn(15658734)},opacity:{value:1},center:{value:new li(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new ui}}};function na(){var t=null,e=!1,i=null;function n(r,a){!1!==e&&(i(r,a),t.requestAnimationFrame(n))}return{start:function(){!0!==e&&null!==i&&(t.requestAnimationFrame(n),e=!0)},stop:function(){e=!1},setAnimationLoop:function(t){i=t},setContext:function(e){t=e}}}function ra(t,e){var i=e.isWebGL2,n=new WeakMap;function r(e,i){var n=e.array,r=e.usage,a=t.createBuffer();t.bindBuffer(i,a),t.bufferData(i,n,r),e.onUploadCallback();var o=5126;return n instanceof Float32Array?o=5126:n instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):n instanceof Uint16Array?o=5123:n instanceof Int16Array?o=5122:n instanceof Uint32Array?o=5125:n instanceof Int32Array?o=5124:n instanceof Int8Array?o=5120:n instanceof Uint8Array&&(o=5121),{buffer:a,type:o,bytesPerElement:n.BYTES_PER_ELEMENT,version:e.version}}function a(e,n,r){var a=n.array,o=n.updateRange;t.bindBuffer(r,e),-1===o.count?t.bufferSubData(r,0,a):(i?t.bufferSubData(r,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):t.bufferSubData(r,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1)}function o(t){return t.isInterleavedBufferAttribute&&(t=t.data),n.get(t)}function s(e){e.isInterleavedBufferAttribute&&(e=e.data);var i=n.get(e);i&&(t.deleteBuffer(i.buffer),n.delete(e))}function c(t,e){t.isInterleavedBufferAttribute&&(t=t.data);var i=n.get(t);void 0===i?n.set(t,r(t,e)):i.version<t.version&&(a(i.buffer,t,e),i.version=t.version)}return{get:o,remove:s,update:c}}function aa(t,e,i,n){zr.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:n},this.fromBufferGeometry(new oa(t,e,i,n)),this.mergeVertices()}function oa(t,e,i,n){dr.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:n},t=t||1,e=e||1;var r,a,o=t/2,s=e/2,c=Math.floor(i)||1,l=Math.floor(n)||1,u=c+1,h=l+1,d=t/c,p=e/l,f=[],m=[],v=[],g=[];for(a=0;a<h;a++){var y=a*p-s;for(r=0;r<u;r++){var _=r*d-o;m.push(_,-y,0),v.push(0,0,1),g.push(r/c),g.push(1-a/l)}}for(a=0;a<l;a++)for(r=0;r<c;r++){var x=r+u*a,b=r+u*(a+1),w=r+1+u*(a+1),M=r+1+u*a;f.push(x,b,M),f.push(b,w,M)}this.setIndex(f),this.setAttribute("position",new er(m,3)),this.setAttribute("normal",new er(v,3)),this.setAttribute("uv",new er(g,2))}aa.prototype=Object.create(zr.prototype),aa.prototype.constructor=aa,oa.prototype=Object.create(dr.prototype),oa.prototype.constructor=oa;var sa="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",ca="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",la="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",ua="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",ha="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",da="vec3 transformed = vec3( position );",pa="vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",fa="vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",ma="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",va="#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",ga="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",ya="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",_a="#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",xa="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",ba="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",wa="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",Ma="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",Ea="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}",Sa="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);\n    } else if (face == 1.0) {\n      uv = vec2(direction.x, -direction.z) / abs(direction.y);\n    } else if (face == 2.0) {\n      uv = direction.xy / abs(direction.z);\n    } else if (face == 3.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);\n    } else if (face == 4.0) {\n      uv = direction.xz / abs(direction.y);\n    } else {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);\n    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif",Aa="vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",Ta="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",Ca="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",La="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",Ra="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",Pa="gl_FragColor = linearToOutputTexel( gl_FragColor );",Ia="\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",Oa="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",Ua="#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",Da="#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",Na="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",za="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) { \n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",Fa="#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",Ba="#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",Ga="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",ka="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",Ha="#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",Va="#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",ja="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",Wa="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",Xa="uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",Ya="#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",Za="ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",qa="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",Ja="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",Qa="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",Ka="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",$a="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",to="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",eo="#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",io="#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",no="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",ro="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",ao="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",oo="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",so="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",co="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",lo="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",uo="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",ho="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",po="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",fo="#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",mo="#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",vo="#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",go="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",yo="#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",_o="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",xo="#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",bo="#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",wo="#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",Mo="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",Eo="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",So="vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",Ao="#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",To="#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",Co="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",Lo="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",Ro="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",Po="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",Io="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",Oo="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",Uo="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",Do="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",No="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",zo="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",Fo="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",Bo="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",Go="#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",ko="#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",Ho="#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",Vo="#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",jo="#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",Wo="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",Xo="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",Yo="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",Zo="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",qo="uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",Jo="varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",Qo="#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",Ko="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",$o="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",ts="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",es="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",is="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",ns="uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",rs="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",as="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",os="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",ss="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",cs="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",ls="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",us="#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",hs="#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",ds="#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",ps="#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",fs="#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",ms="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",vs="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",gs="#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",ys="#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",_s="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",xs="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",bs="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",ws="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",Ms="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",Es="#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",Ss="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",As="uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",Ts={alphamap_fragment:sa,alphamap_pars_fragment:ca,alphatest_fragment:la,aomap_fragment:ua,aomap_pars_fragment:ha,begin_vertex:da,beginnormal_vertex:pa,bsdfs:fa,bumpmap_pars_fragment:ma,clipping_planes_fragment:va,clipping_planes_pars_fragment:ga,clipping_planes_pars_vertex:ya,clipping_planes_vertex:_a,color_fragment:xa,color_pars_fragment:ba,color_pars_vertex:wa,color_vertex:Ma,common:Ea,cube_uv_reflection_fragment:Sa,defaultnormal_vertex:Aa,displacementmap_pars_vertex:Ta,displacementmap_vertex:Ca,emissivemap_fragment:La,emissivemap_pars_fragment:Ra,encodings_fragment:Pa,encodings_pars_fragment:Ia,envmap_fragment:Oa,envmap_common_pars_fragment:Ua,envmap_pars_fragment:Da,envmap_pars_vertex:Na,envmap_physical_pars_fragment:Ya,envmap_vertex:za,fog_vertex:Fa,fog_pars_vertex:Ba,fog_fragment:Ga,fog_pars_fragment:ka,gradientmap_pars_fragment:Ha,lightmap_fragment:Va,lightmap_pars_fragment:ja,lights_lambert_vertex:Wa,lights_pars_begin:Xa,lights_toon_fragment:Za,lights_toon_pars_fragment:qa,lights_phong_fragment:Ja,lights_phong_pars_fragment:Qa,lights_physical_fragment:Ka,lights_physical_pars_fragment:$a,lights_fragment_begin:to,lights_fragment_maps:eo,lights_fragment_end:io,logdepthbuf_fragment:no,logdepthbuf_pars_fragment:ro,logdepthbuf_pars_vertex:ao,logdepthbuf_vertex:oo,map_fragment:so,map_pars_fragment:co,map_particle_fragment:lo,map_particle_pars_fragment:uo,metalnessmap_fragment:ho,metalnessmap_pars_fragment:po,morphnormal_vertex:fo,morphtarget_pars_vertex:mo,morphtarget_vertex:vo,normal_fragment_begin:go,normal_fragment_maps:yo,normalmap_pars_fragment:_o,clearcoat_normal_fragment_begin:xo,clearcoat_normal_fragment_maps:bo,clearcoat_pars_fragment:wo,packing:Mo,premultiplied_alpha_fragment:Eo,project_vertex:So,dithering_fragment:Ao,dithering_pars_fragment:To,roughnessmap_fragment:Co,roughnessmap_pars_fragment:Lo,shadowmap_pars_fragment:Ro,shadowmap_pars_vertex:Po,shadowmap_vertex:Io,shadowmask_pars_fragment:Oo,skinbase_vertex:Uo,skinning_pars_vertex:Do,skinning_vertex:No,skinnormal_vertex:zo,specularmap_fragment:Fo,specularmap_pars_fragment:Bo,tonemapping_fragment:Go,tonemapping_pars_fragment:ko,uv_pars_fragment:Ho,uv_pars_vertex:Vo,uv_vertex:jo,uv2_pars_fragment:Wo,uv2_pars_vertex:Xo,uv2_vertex:Yo,worldpos_vertex:Zo,background_frag:qo,background_vert:Jo,cube_frag:Qo,cube_vert:Ko,depth_frag:$o,depth_vert:ts,distanceRGBA_frag:es,distanceRGBA_vert:is,equirect_frag:ns,equirect_vert:rs,linedashed_frag:as,linedashed_vert:os,meshbasic_frag:ss,meshbasic_vert:cs,meshlambert_frag:ls,meshlambert_vert:us,meshmatcap_frag:hs,meshmatcap_vert:ds,meshtoon_frag:ps,meshtoon_vert:fs,meshphong_frag:ms,meshphong_vert:vs,meshphysical_frag:gs,meshphysical_vert:ys,normal_frag:_s,normal_vert:xs,points_frag:bs,points_vert:ws,shadow_frag:Ms,shadow_vert:Es,sprite_frag:Ss,sprite_vert:As},Cs={basic:{uniforms:kr([ia.common,ia.specularmap,ia.envmap,ia.aomap,ia.lightmap,ia.fog]),vertexShader:Ts.meshbasic_vert,fragmentShader:Ts.meshbasic_frag},lambert:{uniforms:kr([ia.common,ia.specularmap,ia.envmap,ia.aomap,ia.lightmap,ia.emissivemap,ia.fog,ia.lights,{emissive:{value:new Fn(0)}}]),vertexShader:Ts.meshlambert_vert,fragmentShader:Ts.meshlambert_frag},phong:{uniforms:kr([ia.common,ia.specularmap,ia.envmap,ia.aomap,ia.lightmap,ia.emissivemap,ia.bumpmap,ia.normalmap,ia.displacementmap,ia.fog,ia.lights,{emissive:{value:new Fn(0)},specular:{value:new Fn(1118481)},shininess:{value:30}}]),vertexShader:Ts.meshphong_vert,fragmentShader:Ts.meshphong_frag},standard:{uniforms:kr([ia.common,ia.envmap,ia.aomap,ia.lightmap,ia.emissivemap,ia.bumpmap,ia.normalmap,ia.displacementmap,ia.roughnessmap,ia.metalnessmap,ia.fog,ia.lights,{emissive:{value:new Fn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ts.meshphysical_vert,fragmentShader:Ts.meshphysical_frag},toon:{uniforms:kr([ia.common,ia.specularmap,ia.aomap,ia.lightmap,ia.emissivemap,ia.bumpmap,ia.normalmap,ia.displacementmap,ia.gradientmap,ia.fog,ia.lights,{emissive:{value:new Fn(0)},specular:{value:new Fn(1118481)},shininess:{value:30}}]),vertexShader:Ts.meshtoon_vert,fragmentShader:Ts.meshtoon_frag},matcap:{uniforms:kr([ia.common,ia.bumpmap,ia.normalmap,ia.displacementmap,ia.fog,{matcap:{value:null}}]),vertexShader:Ts.meshmatcap_vert,fragmentShader:Ts.meshmatcap_frag},points:{uniforms:kr([ia.points,ia.fog]),vertexShader:Ts.points_vert,fragmentShader:Ts.points_frag},dashed:{uniforms:kr([ia.common,ia.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ts.linedashed_vert,fragmentShader:Ts.linedashed_frag},depth:{uniforms:kr([ia.common,ia.displacementmap]),vertexShader:Ts.depth_vert,fragmentShader:Ts.depth_frag},normal:{uniforms:kr([ia.common,ia.bumpmap,ia.normalmap,ia.displacementmap,{opacity:{value:1}}]),vertexShader:Ts.normal_vert,fragmentShader:Ts.normal_frag},sprite:{uniforms:kr([ia.sprite,ia.fog]),vertexShader:Ts.sprite_vert,fragmentShader:Ts.sprite_frag},background:{uniforms:{uvTransform:{value:new ui},t2D:{value:null}},vertexShader:Ts.background_vert,fragmentShader:Ts.background_frag},cube:{uniforms:kr([ia.envmap,{opacity:{value:1}}]),vertexShader:Ts.cube_vert,fragmentShader:Ts.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ts.equirect_vert,fragmentShader:Ts.equirect_frag},distanceRGBA:{uniforms:kr([ia.common,ia.displacementmap,{referencePosition:{value:new xi},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ts.distanceRGBA_vert,fragmentShader:Ts.distanceRGBA_frag},shadow:{uniforms:kr([ia.lights,ia.fog,{color:{value:new Fn(0)},opacity:{value:1}}]),vertexShader:Ts.shadow_vert,fragmentShader:Ts.shadow_frag}};function Ls(t,e,i,n){var r,a,o=new Fn(0),s=0,c=null,l=0,u=null;function h(e,n,h,m){var v=n.background,g=t.xr,y=g.getSession&&g.getSession();if(y&&"additive"===y.environmentBlendMode&&(v=null),null===v?f(o,s):v&&v.isColor&&(f(v,1),m=!0),(t.autoClear||m)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),v&&(v.isCubeTexture||v.isWebGLCubeRenderTarget||v.mapping===st)){void 0===a&&(a=new Rr(new Br(1,1,1),new Wr({type:"BackgroundCubeMaterial",uniforms:Gr(Cs.cube.uniforms),vertexShader:Cs.cube.vertexShader,fragmentShader:Cs.cube.fragmentShader,side:p,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(t,e,i){this.matrixWorld.copyPosition(i.matrixWorld)},Object.defineProperty(a.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(a));var _=v.isWebGLCubeRenderTarget?v.texture:v;a.material.uniforms.envMap.value=_,a.material.uniforms.flipEnvMap.value=_.isCubeTexture?-1:1,c===v&&l===_.version&&u===t.toneMapping||(a.material.needsUpdate=!0,c=v,l=_.version,u=t.toneMapping),e.unshift(a,a.geometry,a.material,0,0,null)}else v&&v.isTexture&&(void 0===r&&(r=new Rr(new oa(2,2),new Wr({type:"BackgroundMaterial",uniforms:Gr(Cs.background.uniforms),vertexShader:Cs.background.vertexShader,fragmentShader:Cs.background.fragmentShader,side:d,depthTest:!1,depthWrite:!1,fog:!1})),r.geometry.deleteAttribute("normal"),Object.defineProperty(r.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(r)),r.material.uniforms.t2D.value=v,!0===v.matrixAutoUpdate&&v.updateMatrix(),r.material.uniforms.uvTransform.value.copy(v.matrix),c===v&&l===v.version&&u===t.toneMapping||(r.material.needsUpdate=!0,c=v,l=v.version,u=t.toneMapping),e.unshift(r,r.geometry,r.material,0,0,null))}function f(t,i){e.buffers.color.setClear(t.r,t.g,t.b,i,n)}return{getClearColor:function(){return o},setClearColor:function(t,e){o.set(t),s=void 0!==e?e:1,f(o,s)},getClearAlpha:function(){return s},setClearAlpha:function(t){s=t,f(o,s)},render:h}}function Rs(t,e,i,n){var r,a=n.isWebGL2;function o(t){r=t}function s(e,n){t.drawArrays(r,e,n),i.update(n,r)}function c(n,o,s,c){if(0!==c){var l,u;if(a)l=t,u="drawArraysInstanced";else if(l=e.get("ANGLE_instanced_arrays"),u="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](r,o,s,c),i.update(s,r,c)}}this.setMode=o,this.render=s,this.renderInstances=c}function Ps(t,e,i){var n;function r(){if(void 0!==n)return n;var i=e.get("EXT_texture_filter_anisotropic");return n=null!==i?t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,n}function a(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var o="undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext,s=void 0!==i.precision?i.precision:"highp",c=a(s);c!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",c,"instead."),s=c);var l=!0===i.logarithmicDepthBuffer,u=t.getParameter(34930),h=t.getParameter(35660),d=t.getParameter(3379),p=t.getParameter(34076),f=t.getParameter(34921),m=t.getParameter(36347),v=t.getParameter(36348),g=t.getParameter(36349),y=h>0,_=o||!!e.get("OES_texture_float"),x=y&&_,b=o?t.getParameter(36183):0;return{isWebGL2:o,getMaxAnisotropy:r,getMaxPrecision:a,precision:s,logarithmicDepthBuffer:l,maxTextures:u,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:p,maxAttributes:f,maxVertexUniforms:m,maxVaryings:v,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:_,floatVertexTextures:x,maxSamples:b}}function Is(){var t=this,e=null,i=0,n=!1,r=!1,a=new Mn,o=new ui,s={value:null,needsUpdate:!1};function c(){s.value!==e&&(s.value=e,s.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function l(e,i,n,r){var c=null!==e?e.length:0,l=null;if(0!==c){if(l=s.value,!0!==r||null===l){var u=n+4*c,h=i.matrixWorldInverse;o.getNormalMatrix(h),(null===l||l.length<u)&&(l=new Float32Array(u));for(var d=0,p=n;d!==c;++d,p+=4)a.copy(e[d]).applyMatrix4(h,o),a.normal.toArray(l,p),l[p+3]=a.constant}s.value=l,s.needsUpdate=!0}return t.numPlanes=c,t.numIntersection=0,l}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(t,r,a){var o=0!==t.length||r||0!==i||n;return n=r,e=l(t,a,0),i=t.length,o},this.beginShadows=function(){r=!0,l(null)},this.endShadows=function(){r=!1,c()},this.setState=function(t,a,o,u,h,d){if(!n||null===t||0===t.length||r&&!o)r?l(null):c();else{var p=r?0:i,f=4*p,m=h.clippingState||null;s.value=m,m=l(t,u,f,d);for(var v=0;v!==f;++v)m[v]=e[v];h.clippingState=m,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=p}}}function Os(t){var e={};return{get:function(i){if(void 0!==e[i])return e[i];var n;switch(i){case"WEBGL_depth_texture":n=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=t.getExtension(i)}return null===n&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),e[i]=n,n}}}function Us(t,e,i){var n=new WeakMap,r=new WeakMap;function a(t){var o=t.target,s=n.get(o);for(var c in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[c]);o.removeEventListener("dispose",a),n.delete(o);var l=r.get(s);l&&(e.remove(l),r.delete(s)),i.memory.geometries--}function o(t,e){var r=n.get(e);return r||(e.addEventListener("dispose",a),e.isBufferGeometry?r=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new dr).setFromObject(t)),r=e._bufferGeometry),n.set(e,r),i.memory.geometries++,r)}function s(t){var i=t.index,n=t.attributes;for(var r in null!==i&&e.update(i,34963),n)e.update(n[r],34962);var a=t.morphAttributes;for(var r in a)for(var o=a[r],s=0,c=o.length;s<c;s++)e.update(o[s],34962)}function c(t){var i=[],n=t.index,a=t.attributes.position,o=0;if(null!==n){var s=n.array;o=n.version;for(var c=0,l=s.length;c<l;c+=3){var u=s[c+0],h=s[c+1],d=s[c+2];i.push(u,h,h,d,d,u)}}else{s=a.array;o=a.version;for(c=0,l=s.length/3-1;c<l;c+=3){u=c+0,h=c+1,d=c+2;i.push(u,h,h,d,d,u)}}var p=new(rr(i)>65535?tr:Kn)(i,1);p.version=o,e.update(p,34963);var f=r.get(t);f&&e.remove(f),r.set(t,p)}function l(t){var e=r.get(t);if(e){var i=t.index;null!==i&&e.version<i.version&&c(t)}else c(t);return r.get(t)}return{get:o,update:s,getWireframeAttribute:l}}function Ds(t,e,i,n){var r,a,o,s=n.isWebGL2;function c(t){r=t}function l(t){a=t.type,o=t.bytesPerElement}function u(e,n){t.drawElements(r,n,a,e*o),i.update(n,r)}function h(n,c,l,u){if(0!==u){var h,d;if(s)h=t,d="drawElementsInstanced";else if(h=e.get("ANGLE_instanced_arrays"),d="drawElementsInstancedANGLE",null===h)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[d](r,l,a,c*o,u),i.update(l,r,u)}}this.setMode=c,this.setIndex=l,this.render=u,this.renderInstances=h}function Ns(t){var e={geometries:0,textures:0},i={frame:0,calls:0,triangles:0,points:0,lines:0};function n(t,e,n){switch(n=n||1,i.calls++,e){case 4:i.triangles+=n*(t/3);break;case 1:i.lines+=n*(t/2);break;case 3:i.lines+=n*(t-1);break;case 2:i.lines+=n*t;break;case 0:i.points+=n*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",e);break}}function r(){i.frame++,i.calls=0,i.triangles=0,i.points=0,i.lines=0}return{memory:e,render:i,programs:null,autoReset:!0,reset:r,update:n}}function zs(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Fs(t){var e={},i=new Float32Array(8);function n(n,r,a,o){var s=n.morphTargetInfluences,c=void 0===s?0:s.length,l=e[r.id];if(void 0===l){l=[];for(var u=0;u<c;u++)l[u]=[u,0];e[r.id]=l}var h=a.morphTargets&&r.morphAttributes.position,d=a.morphNormals&&r.morphAttributes.normal;for(u=0;u<c;u++){var p=l[u];0!==p[1]&&(h&&r.deleteAttribute("morphTarget"+u),d&&r.deleteAttribute("morphNormal"+u))}for(u=0;u<c;u++){p=l[u];p[0]=u,p[1]=s[u]}l.sort(zs);var f=0;for(u=0;u<8;u++){p=l[u];if(p){var m=p[0],v=p[1];if(v){h&&r.setAttribute("morphTarget"+u,h[m]),d&&r.setAttribute("morphNormal"+u,d[m]),i[u]=v,f+=v;continue}}i[u]=0}var g=r.morphTargetsRelative?1:1-f;o.getUniforms().setValue(t,"morphTargetBaseInfluence",g),o.getUniforms().setValue(t,"morphTargetInfluences",i)}return{update:n}}function Bs(t,e,i,n){var r=new WeakMap;function a(t){var a=n.render.frame,o=t.geometry,s=e.get(t,o);return r.get(s)!==a&&(o.isGeometry&&s.updateFromObject(t),e.update(s),r.set(s,a)),t.isInstancedMesh&&i.update(t.instanceMatrix,34962),s}function o(){r=new WeakMap}return{update:a,dispose:o}}function Gs(t,e,i,n,r,a,o,s,c,l){t=void 0!==t?t:[],e=void 0!==e?e:it,o=void 0!==o?o:Pt,pi.call(this,t,e,i,n,r,a,o,s,c,l),this.flipY=!1}function ks(t,e,i,n){pi.call(this,null),this.image={data:t||null,width:e||1,height:i||1,depth:n||1},this.magFilter=dt,this.minFilter=dt,this.wrapR=ut,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function Hs(t,e,i,n){pi.call(this,null),this.image={data:t||null,width:e||1,height:i||1,depth:n||1},this.magFilter=dt,this.minFilter=dt,this.wrapR=ut,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Cs.physical={uniforms:kr([Cs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new li(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Fn(0)},transparency:{value:0}}]),vertexShader:Ts.meshphysical_vert,fragmentShader:Ts.meshphysical_frag},Gs.prototype=Object.create(pi.prototype),Gs.prototype.constructor=Gs,Gs.prototype.isCubeTexture=!0,Object.defineProperty(Gs.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),ks.prototype=Object.create(pi.prototype),ks.prototype.constructor=ks,ks.prototype.isDataTexture2DArray=!0,Hs.prototype=Object.create(pi.prototype),Hs.prototype.constructor=Hs,Hs.prototype.isDataTexture3D=!0;var Vs=new pi,js=new ks,Ws=new Hs,Xs=new Gs,Ys=[],Zs=[],qs=new Float32Array(16),Js=new Float32Array(9),Qs=new Float32Array(4);function Ks(t,e,i){var n=t[0];if(n<=0||n>0)return t;var r=e*i,a=Ys[r];if(void 0===a&&(a=new Float32Array(r),Ys[r]=a),0!==e){n.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=i,t[o].toArray(a,s)}return a}function $s(t,e){if(t.length!==e.length)return!1;for(var i=0,n=t.length;i<n;i++)if(t[i]!==e[i])return!1;return!0}function tc(t,e){for(var i=0,n=e.length;i<n;i++)t[i]=e[i]}function ec(t,e){var i=Zs[e];void 0===i&&(i=new Int32Array(e),Zs[e]=i);for(var n=0;n!==e;++n)i[n]=t.allocateTextureUnit();return i}function ic(t,e){var i=this.cache;i[0]!==e&&(t.uniform1f(this.addr,e),i[0]=e)}function nc(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if($s(i,e))return;t.uniform2fv(this.addr,e),tc(i,e)}}function rc(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else if(void 0!==e.r)i[0]===e.r&&i[1]===e.g&&i[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),i[0]=e.r,i[1]=e.g,i[2]=e.b);else{if($s(i,e))return;t.uniform3fv(this.addr,e),tc(i,e)}}function ac(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z&&i[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if($s(i,e))return;t.uniform4fv(this.addr,e),tc(i,e)}}function oc(t,e){var i=this.cache,n=e.elements;if(void 0===n){if($s(i,e))return;t.uniformMatrix2fv(this.addr,!1,e),tc(i,e)}else{if($s(i,n))return;Qs.set(n),t.uniformMatrix2fv(this.addr,!1,Qs),tc(i,n)}}function sc(t,e){var i=this.cache,n=e.elements;if(void 0===n){if($s(i,e))return;t.uniformMatrix3fv(this.addr,!1,e),tc(i,e)}else{if($s(i,n))return;Js.set(n),t.uniformMatrix3fv(this.addr,!1,Js),tc(i,n)}}function cc(t,e){var i=this.cache,n=e.elements;if(void 0===n){if($s(i,e))return;t.uniformMatrix4fv(this.addr,!1,e),tc(i,e)}else{if($s(i,n))return;qs.set(n),t.uniformMatrix4fv(this.addr,!1,qs),tc(i,n)}}function lc(t,e,i){var n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(t.uniform1i(this.addr,r),n[0]=r),i.safeSetTexture2D(e||Vs,r)}function uc(t,e,i){var n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(t.uniform1i(this.addr,r),n[0]=r),i.setTexture2DArray(e||js,r)}function hc(t,e,i){var n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(t.uniform1i(this.addr,r),n[0]=r),i.setTexture3D(e||Ws,r)}function dc(t,e,i){var n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(t.uniform1i(this.addr,r),n[0]=r),i.safeSetTextureCube(e||Xs,r)}function pc(t,e){var i=this.cache;i[0]!==e&&(t.uniform1i(this.addr,e),i[0]=e)}function fc(t,e){var i=this.cache;$s(i,e)||(t.uniform2iv(this.addr,e),tc(i,e))}function mc(t,e){var i=this.cache;$s(i,e)||(t.uniform3iv(this.addr,e),tc(i,e))}function vc(t,e){var i=this.cache;$s(i,e)||(t.uniform4iv(this.addr,e),tc(i,e))}function gc(t,e){var i=this.cache;i[0]!==e&&(t.uniform1ui(this.addr,e),i[0]=e)}function yc(t){switch(t){case 5126:return ic;case 35664:return nc;case 35665:return rc;case 35666:return ac;case 35674:return oc;case 35675:return sc;case 35676:return cc;case 5124:case 35670:return pc;case 35667:case 35671:return fc;case 35668:case 35672:return mc;case 35669:case 35673:return vc;case 5125:return gc;case 35678:case 36198:case 36298:case 36306:case 35682:return lc;case 35679:case 36299:case 36307:return hc;case 35680:case 36300:case 36308:case 36293:return dc;case 36289:case 36303:case 36311:case 36292:return uc}}function _c(t,e){t.uniform1fv(this.addr,e)}function xc(t,e){t.uniform1iv(this.addr,e)}function bc(t,e){t.uniform2iv(this.addr,e)}function wc(t,e){t.uniform3iv(this.addr,e)}function Mc(t,e){t.uniform4iv(this.addr,e)}function Ec(t,e){var i=Ks(e,this.size,2);t.uniform2fv(this.addr,i)}function Sc(t,e){var i=Ks(e,this.size,3);t.uniform3fv(this.addr,i)}function Ac(t,e){var i=Ks(e,this.size,4);t.uniform4fv(this.addr,i)}function Tc(t,e){var i=Ks(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,i)}function Cc(t,e){var i=Ks(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,i)}function Lc(t,e){var i=Ks(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,i)}function Rc(t,e,i){var n=e.length,r=ec(i,n);t.uniform1iv(this.addr,r);for(var a=0;a!==n;++a)i.safeSetTexture2D(e[a]||Vs,r[a])}function Pc(t,e,i){var n=e.length,r=ec(i,n);t.uniform1iv(this.addr,r);for(var a=0;a!==n;++a)i.safeSetTextureCube(e[a]||Xs,r[a])}function Ic(t){switch(t){case 5126:return _c;case 35664:return Ec;case 35665:return Sc;case 35666:return Ac;case 35674:return Tc;case 35675:return Cc;case 35676:return Lc;case 5124:case 35670:return xc;case 35667:case 35671:return bc;case 35668:case 35672:return wc;case 35669:case 35673:return Mc;case 35678:case 36198:case 36298:case 36306:case 35682:return Rc;case 35680:case 36300:case 36308:case 36293:return Pc}}function Oc(t,e,i){this.id=t,this.addr=i,this.cache=[],this.setValue=yc(e.type)}function Uc(t,e,i){this.id=t,this.addr=i,this.cache=[],this.size=e.size,this.setValue=Ic(e.type)}function Dc(t){this.id=t,this.seq=[],this.map={}}Uc.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),tc(e,t)},Dc.prototype.setValue=function(t,e,i){for(var n=this.seq,r=0,a=n.length;r!==a;++r){var o=n[r];o.setValue(t,e[o.id],i)}};var Nc=/([\w\d_]+)(\])?(\[|\.)?/g;function zc(t,e){t.seq.push(e),t.map[e.id]=e}function Fc(t,e,i){var n=t.name,r=n.length;Nc.lastIndex=0;while(1){var a=Nc.exec(n),o=Nc.lastIndex,s=a[1],c="]"===a[2],l=a[3];if(c&&(s|=0),void 0===l||"["===l&&o+2===r){zc(i,void 0===l?new Oc(s,t,e):new Uc(s,t,e));break}var u=i.map,h=u[s];void 0===h&&(h=new Dc(s),zc(i,h)),i=h}}function Bc(t,e){this.seq=[],this.map={};for(var i=t.getProgramParameter(e,35718),n=0;n<i;++n){var r=t.getActiveUniform(e,n),a=t.getUniformLocation(e,r.name);Fc(r,a,this)}}function Gc(t,e,i){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),n}Bc.prototype.setValue=function(t,e,i,n){var r=this.map[e];void 0!==r&&r.setValue(t,i,n)},Bc.prototype.setOptional=function(t,e,i){var n=e[i];void 0!==n&&this.setValue(t,i,n)},Bc.upload=function(t,e,i,n){for(var r=0,a=e.length;r!==a;++r){var o=e[r],s=i[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,n)}},Bc.seqWithValue=function(t,e){for(var i=[],n=0,r=t.length;n!==r;++n){var a=t[n];a.id in e&&i.push(a)}return i};var kc=0;function Hc(t){for(var e=t.split("\n"),i=0;i<e.length;i++)e[i]=i+1+": "+e[i];return e.join("\n")}function Vc(t){switch(t){case He:return["Linear","( value )"];case Ve:return["sRGB","( value )"];case We:return["RGBE","( value )"];case Ye:return["RGBM","( value, 7.0 )"];case Ze:return["RGBM","( value, 16.0 )"];case qe:return["RGBD","( value, 256.0 )"];case je:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case Xe:return["LogLuv","( value )"];default:throw new Error("unsupported encoding: "+t)}}function jc(t,e,i){var n=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();if(n&&""===r)return"";var a=t.getShaderSource(e);return"THREE.WebGLShader: gl.getShaderInfoLog() "+i+"\n"+r+Hc(a)}function Wc(t,e){var i=Vc(e);return"vec4 "+t+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function Xc(t,e){var i=Vc(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+i[0]+i[1]+"; }"}function Yc(t,e){var i;switch(e){case J:i="Linear";break;case Q:i="Reinhard";break;case K:i="Uncharted2";break;case $:i="OptimizedCineon";break;case tt:i="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function Zc(t){var e=[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""];return e.filter(Qc).join("\n")}function qc(t){var e=[];for(var i in t){var n=t[i];!1!==n&&e.push("#define "+i+" "+n)}return e.join("\n")}function Jc(t,e){for(var i={},n=t.getProgramParameter(e,35721),r=0;r<n;r++){var a=t.getActiveAttrib(e,r),o=a.name;i[o]=t.getAttribLocation(e,o)}return i}function Qc(t){return""!==t}function Kc(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function $c(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var tl=/^[ \t]*#include +<([\w\d./]+)>/gm;function el(t){return t.replace(tl,il)}function il(t,e){var i=Ts[e];if(void 0===i)throw new Error("Can not resolve #include <"+e+">");return el(i)}var nl=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,rl=/#pragma unroll_loop_start[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g;function al(t){return t.replace(rl,sl).replace(nl,ol)}function ol(t,e,i,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),sl(t,e,i,n)}function sl(t,e,i,n){for(var r="",a=parseInt(e);a<parseInt(i);a++)r+=n.replace(/\[ i \]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function cl(t){var e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function ll(t){var e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===l?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===u?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===h&&(e="SHADOWMAP_TYPE_VSM"),e}function ul(t){var e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case it:case nt:e="ENVMAP_TYPE_CUBE";break;case st:case ct:e="ENVMAP_TYPE_CUBE_UV";break;case rt:case at:e="ENVMAP_TYPE_EQUIREC";break;case ot:e="ENVMAP_TYPE_SPHERE";break}return e}function hl(t){var e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case nt:case at:e="ENVMAP_MODE_REFRACTION";break}return e}function dl(t){var e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case X:e="ENVMAP_BLENDING_MULTIPLY";break;case Y:e="ENVMAP_BLENDING_MIX";break;case Z:e="ENVMAP_BLENDING_ADD";break}return e}function pl(t,e,i){var n,r,a=t.getContext(),o=i.defines,s=i.vertexShader,c=i.fragmentShader,l=ll(i),u=ul(i),h=hl(i),d=dl(i),p=t.gammaFactor>0?t.gammaFactor:1,f=i.isWebGL2?"":Zc(i),m=qc(o),v=a.createProgram();if(i.isRawShaderMaterial?(n=[m].filter(Qc).join("\n"),n.length>0&&(n+="\n"),r=[f,m].filter(Qc).join("\n"),r.length>0&&(r+="\n")):(n=[cl(i),"#define SHADER_NAME "+i.shaderName,m,i.instancing?"#define USE_INSTANCING":"",i.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+p,"#define MAX_BONES "+i.maxBones,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+h:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.displacementMap&&i.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.useVertexTexture?"#define BONE_TEXTURE":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&!1===i.flatShading?"#define USE_MORPHNORMALS":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+l:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Qc).join("\n"),r=[f,cl(i),"#define SHADER_NAME "+i.shaderName,m,i.alphaTest?"#define ALPHATEST "+i.alphaTest+(i.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+p,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+u:"",i.envMap?"#define "+h:"",i.envMap?"#define "+d:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.sheen?"#define USE_SHEEN":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+l:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(i.extensionShaderTextureLOD||i.envMap)&&i.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",i.toneMapping!==q?"#define TONE_MAPPING":"",i.toneMapping!==q?Ts["tonemapping_pars_fragment"]:"",i.toneMapping!==q?Yc("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",i.outputEncoding||i.mapEncoding||i.matcapEncoding||i.envMapEncoding||i.emissiveMapEncoding||i.lightMapEncoding?Ts["encodings_pars_fragment"]:"",i.mapEncoding?Wc("mapTexelToLinear",i.mapEncoding):"",i.matcapEncoding?Wc("matcapTexelToLinear",i.matcapEncoding):"",i.envMapEncoding?Wc("envMapTexelToLinear",i.envMapEncoding):"",i.emissiveMapEncoding?Wc("emissiveMapTexelToLinear",i.emissiveMapEncoding):"",i.lightMapEncoding?Wc("lightMapTexelToLinear",i.lightMapEncoding):"",i.outputEncoding?Xc("linearToOutputTexel",i.outputEncoding):"",i.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(Qc).join("\n")),s=el(s),s=Kc(s,i),s=$c(s,i),c=el(c),c=Kc(c,i),c=$c(c,i),s=al(s),c=al(c),i.isWebGL2&&!i.isRawShaderMaterial){var g=!1,y=/^\s*#version\s+300\s+es\s*\n/;i.isShaderMaterial&&null!==s.match(y)&&null!==c.match(y)&&(g=!0,s=s.replace(y,""),c=c.replace(y,"")),n=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+n,r=["#version 300 es\n","#define varying in",g?"":"out highp vec4 pc_fragColor;",g?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+r}var _,x,b=n+s,w=r+c,M=Gc(a,35633,b),E=Gc(a,35632,w);if(a.attachShader(v,M),a.attachShader(v,E),void 0!==i.index0AttributeName?a.bindAttribLocation(v,0,i.index0AttributeName):!0===i.morphTargets&&a.bindAttribLocation(v,0,"position"),a.linkProgram(v),t.debug.checkShaderErrors){var S=a.getProgramInfoLog(v).trim(),A=a.getShaderInfoLog(M).trim(),T=a.getShaderInfoLog(E).trim(),C=!0,L=!0;if(!1===a.getProgramParameter(v,35714)){C=!1;var R=jc(a,M,"vertex"),P=jc(a,E,"fragment");console.error("THREE.WebGLProgram: shader error: ",a.getError(),"35715",a.getProgramParameter(v,35715),"gl.getProgramInfoLog",S,R,P)}else""!==S?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",S):""!==A&&""!==T||(L=!1);L&&(this.diagnostics={runnable:C,programLog:S,vertexShader:{log:A,prefix:n},fragmentShader:{log:T,prefix:r}})}return a.deleteShader(M),a.deleteShader(E),this.getUniforms=function(){return void 0===_&&(_=new Bc(a,v)),_},this.getAttributes=function(){return void 0===x&&(x=Jc(a,v)),x},this.destroy=function(){a.deleteProgram(v),this.program=void 0},this.name=i.shaderName,this.id=kc++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=M,this.fragmentShader=E,this}function fl(t,e,i){var n=[],r=i.isWebGL2,a=i.logarithmicDepthBuffer,o=i.floatVertexTextures,s=i.precision,c=i.maxVertexUniforms,l=i.vertexTextures,u={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},h=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function d(t,e){var i;if(e){var n=Cs[e];i={name:t.type,uniforms:Hr.clone(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader}}else i={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};return i}function m(t){var e=t.skeleton,i=e.bones;if(o)return 1024;var n=c,r=Math.floor((n-20)/4),a=Math.min(r,i.length);return a<i.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+i.length+" bones. This GPU supports "+a+"."),0):a}function v(t){var e;return t?t.isTexture?e=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),e=t.texture.encoding):e=He,e}this.getParameters=function(n,c,h,g,y,_,x){var b=g.fog,w=n.isMeshStandardMaterial?g.environment:null,M=n.envMap||w,E=u[n.type],S=x.isSkinnedMesh?m(x):0;null!==n.precision&&(s=i.getMaxPrecision(n.precision),s!==n.precision&&console.warn("THREE.WebGLProgram.getParameters:",n.precision,"not supported, using",s,"instead."));var A=d(n,E);n.onBeforeCompile(A,t);var T=t.getRenderTarget(),C={isWebGL2:r,shaderID:E,shaderName:A.name,uniforms:A.uniforms,vertexShader:A.vertexShader,fragmentShader:A.fragmentShader,defines:n.defines,isRawShaderMaterial:n.isRawShaderMaterial,isShaderMaterial:n.isShaderMaterial,precision:s,instancing:!0===x.isInstancedMesh,supportsVertexTextures:l,outputEncoding:null!==T?v(T.texture):t.outputEncoding,map:!!n.map,mapEncoding:v(n.map),matcap:!!n.matcap,matcapEncoding:v(n.matcap),envMap:!!M,envMapMode:M&&M.mapping,envMapEncoding:v(M),envMapCubeUV:!!M&&(M.mapping===st||M.mapping===ct),lightMap:!!n.lightMap,lightMapEncoding:v(n.lightMap),aoMap:!!n.aoMap,emissiveMap:!!n.emissiveMap,emissiveMapEncoding:v(n.emissiveMap),bumpMap:!!n.bumpMap,normalMap:!!n.normalMap,objectSpaceNormalMap:n.normalMapType===$e,tangentSpaceNormalMap:n.normalMapType===Ke,clearcoatMap:!!n.clearcoatMap,clearcoatRoughnessMap:!!n.clearcoatRoughnessMap,clearcoatNormalMap:!!n.clearcoatNormalMap,displacementMap:!!n.displacementMap,roughnessMap:!!n.roughnessMap,metalnessMap:!!n.metalnessMap,specularMap:!!n.specularMap,alphaMap:!!n.alphaMap,gradientMap:!!n.gradientMap,sheen:!!n.sheen,combine:n.combine,vertexTangents:n.normalMap&&n.vertexTangents,vertexColors:n.vertexColors,vertexUvs:!!n.map||!!n.bumpMap||!!n.normalMap||!!n.specularMap||!!n.alphaMap||!!n.emissiveMap||!!n.roughnessMap||!!n.metalnessMap||!!n.clearcoatMap||!!n.clearcoatRoughnessMap||!!n.clearcoatNormalMap||!!n.displacementMap,uvsVertexOnly:!(n.map||n.bumpMap||n.normalMap||n.specularMap||n.alphaMap||n.emissiveMap||n.roughnessMap||n.metalnessMap||n.clearcoatNormalMap)&&!!n.displacementMap,fog:!!b,useFog:n.fog,fogExp2:b&&b.isFogExp2,flatShading:n.flatShading,sizeAttenuation:n.sizeAttenuation,logarithmicDepthBuffer:a,skinning:n.skinning&&S>0,maxBones:S,useVertexTexture:o,morphTargets:n.morphTargets,morphNormals:n.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:c.directional.length,numPointLights:c.point.length,numSpotLights:c.spot.length,numRectAreaLights:c.rectArea.length,numHemiLights:c.hemi.length,numDirLightShadows:c.directionalShadowMap.length,numPointLightShadows:c.pointShadowMap.length,numSpotLightShadows:c.spotShadowMap.length,numClippingPlanes:y,numClipIntersection:_,dithering:n.dithering,shadowMapEnabled:t.shadowMap.enabled&&h.length>0,shadowMapType:t.shadowMap.type,toneMapping:n.toneMapped?t.toneMapping:q,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:n.premultipliedAlpha,alphaTest:n.alphaTest,doubleSided:n.side===f,flipSided:n.side===p,depthPacking:void 0!==n.depthPacking&&n.depthPacking,index0AttributeName:n.index0AttributeName,extensionDerivatives:n.extensions&&n.extensions.derivatives,extensionFragDepth:n.extensions&&n.extensions.fragDepth,extensionDrawBuffers:n.extensions&&n.extensions.drawBuffers,extensionShaderTextureLOD:n.extensions&&n.extensions.shaderTextureLOD,rendererExtensionFragDepth:r||null!==e.get("EXT_frag_depth"),rendererExtensionDrawBuffers:r||null!==e.get("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:r||null!==e.get("EXT_shader_texture_lod"),onBeforeCompile:n.onBeforeCompile};return C},this.getProgramCacheKey=function(e){var i=[];if(e.shaderID?i.push(e.shaderID):(i.push(e.fragmentShader),i.push(e.vertexShader)),void 0!==e.defines)for(var n in e.defines)i.push(n),i.push(e.defines[n]);if(void 0===e.isRawShaderMaterial){for(var r=0;r<h.length;r++)i.push(e[h[r]]);i.push(t.outputEncoding),i.push(t.gammaFactor)}return i.push(e.onBeforeCompile.toString()),i.join()},this.acquireProgram=function(e,i){for(var r,a=0,o=n.length;a<o;a++){var s=n[a];if(s.cacheKey===i){r=s,++r.usedTimes;break}}return void 0===r&&(r=new pl(t,i,e),n.push(r)),r},this.releaseProgram=function(t){if(0===--t.usedTimes){var e=n.indexOf(t);n[e]=n[n.length-1],n.pop(),t.destroy()}},this.programs=n}function ml(){var t=new WeakMap;function e(e){var i=t.get(e);return void 0===i&&(i={},t.set(e,i)),i}function i(e){t.delete(e)}function n(e,i,n){t.get(e)[i]=n}function r(){t=new WeakMap}return{get:e,remove:i,update:n,dispose:r}}function vl(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function gl(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function yl(){var t=[],e=0,i=[],n=[],r={id:-1};function a(){e=0,i.length=0,n.length=0}function o(i,n,a,o,s,c){var l=t[e];return void 0===l?(l={id:i.id,object:i,geometry:n,material:a,program:a.program||r,groupOrder:o,renderOrder:i.renderOrder,z:s,group:c},t[e]=l):(l.id=i.id,l.object=i,l.geometry=n,l.material=a,l.program=a.program||r,l.groupOrder=o,l.renderOrder=i.renderOrder,l.z=s,l.group=c),e++,l}function s(t,e,r,a,s,c){var l=o(t,e,r,a,s,c);(!0===r.transparent?n:i).push(l)}function c(t,e,r,a,s,c){var l=o(t,e,r,a,s,c);(!0===r.transparent?n:i).unshift(l)}function l(t,e){i.length>1&&i.sort(t||vl),n.length>1&&n.sort(e||gl)}function u(){for(var i=e,n=t.length;i<n;i++){var r=t[i];if(null===r.id)break;r.id=null,r.object=null,r.geometry=null,r.material=null,r.program=null,r.group=null}}return{opaque:i,transparent:n,init:a,push:s,unshift:c,finish:u,sort:l}}function _l(){var t=new WeakMap;function e(i){var n=i.target;n.removeEventListener("dispose",e),t.delete(n)}function i(i,n){var r,a=t.get(i);return void 0===a?(r=new yl,t.set(i,new WeakMap),t.get(i).set(n,r),i.addEventListener("dispose",e)):(r=a.get(n),void 0===r&&(r=new yl,a.set(n,r))),r}function n(){t=new WeakMap}return{get:i,dispose:n}}function xl(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var i;switch(e.type){case"DirectionalLight":i={direction:new xi,color:new Fn};break;case"SpotLight":i={position:new xi,direction:new xi,color:new Fn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new xi,color:new Fn,distance:0,decay:0};break;case"HemisphereLight":i={direction:new xi,skyColor:new Fn,groundColor:new Fn};break;case"RectAreaLight":i={color:new Fn,position:new xi,halfWidth:new xi,halfHeight:new xi};break}return t[e.id]=i,i}}}function bl(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var i;switch(e.type){case"DirectionalLight":i={shadowBias:0,shadowRadius:1,shadowMapSize:new li};break;case"SpotLight":i={shadowBias:0,shadowRadius:1,shadowMapSize:new li};break;case"PointLight":i={shadowBias:0,shadowRadius:1,shadowMapSize:new li,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=i,i}}}var wl=0;function Ml(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function El(){for(var t=new xl,e=bl(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=0;n<9;n++)i.probe.push(new xi);var r=new xi,a=new Ci,o=new Ci;function s(n,s,c){for(var l=0,u=0,h=0,d=0;d<9;d++)i.probe[d].set(0,0,0);var p=0,f=0,m=0,v=0,g=0,y=0,_=0,x=0,b=c.matrixWorldInverse;n.sort(Ml);d=0;for(var w=n.length;d<w;d++){var M=n[d],E=M.color,S=M.intensity,A=M.distance,T=M.shadow&&M.shadow.map?M.shadow.map.texture:null;if(M.isAmbientLight)l+=E.r*S,u+=E.g*S,h+=E.b*S;else if(M.isLightProbe)for(var C=0;C<9;C++)i.probe[C].addScaledVector(M.sh.coefficients[C],S);else if(M.isDirectionalLight){var L=t.get(M);if(L.color.copy(M.color).multiplyScalar(M.intensity),L.direction.setFromMatrixPosition(M.matrixWorld),r.setFromMatrixPosition(M.target.matrixWorld),L.direction.sub(r),L.direction.transformDirection(b),M.castShadow){var R=M.shadow,P=e.get(M);P.shadowBias=R.bias,P.shadowRadius=R.radius,P.shadowMapSize=R.mapSize,i.directionalShadow[p]=P,i.directionalShadowMap[p]=T,i.directionalShadowMatrix[p]=M.shadow.matrix,y++}i.directional[p]=L,p++}else if(M.isSpotLight){L=t.get(M);if(L.position.setFromMatrixPosition(M.matrixWorld),L.position.applyMatrix4(b),L.color.copy(E).multiplyScalar(S),L.distance=A,L.direction.setFromMatrixPosition(M.matrixWorld),r.setFromMatrixPosition(M.target.matrixWorld),L.direction.sub(r),L.direction.transformDirection(b),L.coneCos=Math.cos(M.angle),L.penumbraCos=Math.cos(M.angle*(1-M.penumbra)),L.decay=M.decay,M.castShadow){R=M.shadow,P=e.get(M);P.shadowBias=R.bias,P.shadowRadius=R.radius,P.shadowMapSize=R.mapSize,i.spotShadow[m]=P,i.spotShadowMap[m]=T,i.spotShadowMatrix[m]=M.shadow.matrix,x++}i.spot[m]=L,m++}else if(M.isRectAreaLight){L=t.get(M);L.color.copy(E).multiplyScalar(S),L.position.setFromMatrixPosition(M.matrixWorld),L.position.applyMatrix4(b),o.identity(),a.copy(M.matrixWorld),a.premultiply(b),o.extractRotation(a),L.halfWidth.set(.5*M.width,0,0),L.halfHeight.set(0,.5*M.height,0),L.halfWidth.applyMatrix4(o),L.halfHeight.applyMatrix4(o),i.rectArea[v]=L,v++}else if(M.isPointLight){L=t.get(M);if(L.position.setFromMatrixPosition(M.matrixWorld),L.position.applyMatrix4(b),L.color.copy(M.color).multiplyScalar(M.intensity),L.distance=M.distance,L.decay=M.decay,M.castShadow){R=M.shadow,P=e.get(M);P.shadowBias=R.bias,P.shadowRadius=R.radius,P.shadowMapSize=R.mapSize,P.shadowCameraNear=R.camera.near,P.shadowCameraFar=R.camera.far,i.pointShadow[f]=P,i.pointShadowMap[f]=T,i.pointShadowMatrix[f]=M.shadow.matrix,_++}i.point[f]=L,f++}else if(M.isHemisphereLight){L=t.get(M);L.direction.setFromMatrixPosition(M.matrixWorld),L.direction.transformDirection(b),L.direction.normalize(),L.skyColor.copy(M.color).multiplyScalar(S),L.groundColor.copy(M.groundColor).multiplyScalar(S),i.hemi[g]=L,g++}}i.ambient[0]=l,i.ambient[1]=u,i.ambient[2]=h;var I=i.hash;I.directionalLength===p&&I.pointLength===f&&I.spotLength===m&&I.rectAreaLength===v&&I.hemiLength===g&&I.numDirectionalShadows===y&&I.numPointShadows===_&&I.numSpotShadows===x||(i.directional.length=p,i.spot.length=m,i.rectArea.length=v,i.point.length=f,i.hemi.length=g,i.directionalShadow.length=y,i.directionalShadowMap.length=y,i.pointShadow.length=_,i.pointShadowMap.length=_,i.spotShadow.length=x,i.spotShadowMap.length=x,i.directionalShadowMatrix.length=y,i.pointShadowMatrix.length=_,i.spotShadowMatrix.length=x,I.directionalLength=p,I.pointLength=f,I.spotLength=m,I.rectAreaLength=v,I.hemiLength=g,I.numDirectionalShadows=y,I.numPointShadows=_,I.numSpotShadows=x,i.version=wl++)}return{setup:s,state:i}}function Sl(){var t=new El,e=[],i=[];function n(){e.length=0,i.length=0}function r(t){e.push(t)}function a(t){i.push(t)}function o(n){t.setup(e,i,n)}var s={lightsArray:e,shadowsArray:i,lights:t};return{init:n,state:s,setupLights:o,pushLight:r,pushShadow:a}}function Al(){var t=new WeakMap;function e(i){var n=i.target;n.removeEventListener("dispose",e),t.delete(n)}function i(i,n){var r;return!1===t.has(i)?(r=new Sl,t.set(i,new WeakMap),t.get(i).set(n,r),i.addEventListener("dispose",e)):!1===t.get(i).has(n)?(r=new Sl,t.get(i).set(n,r)):r=t.get(i).get(n),r}function n(){t=new WeakMap}return{get:i,dispose:n}}function Tl(t){jn.call(this),this.type="MeshDepthMaterial",this.depthPacking=Je,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}function Cl(t){jn.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new xi,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}Tl.prototype=Object.create(jn.prototype),Tl.prototype.constructor=Tl,Tl.prototype.isMeshDepthMaterial=!0,Tl.prototype.copy=function(t){return jn.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Cl.prototype=Object.create(jn.prototype),Cl.prototype.constructor=Cl,Cl.prototype.isMeshDistanceMaterial=!0,Cl.prototype.copy=function(t){return jn.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this};var Ll="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = sqrt( squared_mean - mean * mean );\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}",Rl="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}";function Pl(t,e,i){var n=new ea,r=new li,a=new li,o=new fi,s=[],c=[],u={},m={0:p,1:d,2:f},g=new Wr({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new li},radius:{value:4}},vertexShader:Rl,fragmentShader:Ll}),y=g.clone();y.defines.HORIZONAL_PASS=1;var _=new dr;_.setAttribute("position",new Yn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var x=new Rr(_,g),b=this;function w(i,n){var r=e.update(x);g.uniforms.shadow_pass.value=i.map.texture,g.uniforms.resolution.value=i.mapSize,g.uniforms.radius.value=i.radius,t.setRenderTarget(i.mapPass),t.clear(),t.renderBufferDirect(n,null,r,g,x,null),y.uniforms.shadow_pass.value=i.mapPass.texture,y.uniforms.resolution.value=i.mapSize,y.uniforms.radius.value=i.radius,t.setRenderTarget(i.map),t.clear(),t.renderBufferDirect(n,null,r,y,x,null)}function M(t,e,i){var n=t<<0|e<<1|i<<2,r=s[n];return void 0===r&&(r=new Tl({depthPacking:Qe,morphTargets:t,skinning:e}),s[n]=r),r}function E(t,e,i){var n=t<<0|e<<1|i<<2,r=c[n];return void 0===r&&(r=new Cl({morphTargets:t,skinning:e}),c[n]=r),r}function S(e,i,n,r,a,o,s){var c=null,l=M,d=e.customDepthMaterial;if(!0===r.isPointLight&&(l=E,d=e.customDistanceMaterial),void 0===d){var p=!1;!0===n.morphTargets&&(p=i.morphAttributes&&i.morphAttributes.position&&i.morphAttributes.position.length>0);var f=!1;!0===e.isSkinnedMesh&&(!0===n.skinning?f=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e));var v=!0===e.isInstancedMesh;c=l(p,f,v)}else c=d;if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var g=c.uuid,y=n.uuid,_=u[g];void 0===_&&(_={},u[g]=_);var x=_[y];void 0===x&&(x=c.clone(),_[y]=x),c=x}return c.visible=n.visible,c.wireframe=n.wireframe,c.side=s===h?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:m[n.side],c.clipShadows=n.clipShadows,c.clippingPlanes=n.clippingPlanes,c.clipIntersection=n.clipIntersection,c.wireframeLinewidth=n.wireframeLinewidth,c.linewidth=n.linewidth,!0===r.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(r.matrixWorld),c.nearDistance=a,c.farDistance=o),c}function A(i,r,a,o,s){if(!1!==i.visible){var c=i.layers.test(r.layers);if(c&&(i.isMesh||i.isLine||i.isPoints)&&(i.castShadow||i.receiveShadow&&s===h)&&(!i.frustumCulled||n.intersectsObject(i))){i.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,i.matrixWorld);var l=e.update(i),u=i.material;if(Array.isArray(u))for(var d=l.groups,p=0,f=d.length;p<f;p++){var m=d[p],v=u[m.materialIndex];if(v&&v.visible){var g=S(i,l,v,o,a.near,a.far,s);t.renderBufferDirect(a,null,l,g,i,m)}}else if(u.visible){g=S(i,l,u,o,a.near,a.far,s);t.renderBufferDirect(a,null,l,g,i,null)}}for(var y=i.children,_=0,x=y.length;_<x;_++)A(y[_],r,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=l,this.render=function(e,s,c){if(!1!==b.enabled&&(!1!==b.autoUpdate||!1!==b.needsUpdate)&&0!==e.length){var l=t.getRenderTarget(),u=t.getActiveCubeFace(),d=t.getActiveMipmapLevel(),p=t.state;p.setBlending(v),p.buffers.color.setClear(1,1,1,1),p.buffers.depth.setTest(!0),p.setScissorTest(!1);for(var f=0,m=e.length;f<m;f++){var g=e[f],y=g.shadow;if(void 0!==y){r.copy(y.mapSize);var _=y.getFrameExtents();if(r.multiply(_),a.copy(y.mapSize),(r.x>i||r.y>i)&&(r.x>i&&(a.x=Math.floor(i/_.x),r.x=a.x*_.x,y.mapSize.x=a.x),r.y>i&&(a.y=Math.floor(i/_.y),r.y=a.y*_.y,y.mapSize.y=a.y)),null===y.map&&!y.isPointLightShadow&&this.type===h){var x={minFilter:mt,magFilter:mt,format:It};y.map=new mi(r.x,r.y,x),y.map.texture.name=g.name+".shadowMap",y.mapPass=new mi(r.x,r.y,x),y.camera.updateProjectionMatrix()}if(null===y.map){x={minFilter:dt,magFilter:dt,format:It};y.map=new mi(r.x,r.y,x),y.map.texture.name=g.name+".shadowMap",y.camera.updateProjectionMatrix()}t.setRenderTarget(y.map),t.clear();for(var M=y.getViewportCount(),E=0;E<M;E++){var S=y.getViewport(E);o.set(a.x*S.x,a.y*S.y,a.x*S.z,a.y*S.w),p.viewport(o),y.updateMatrices(g,E),n=y.getFrustum(),A(s,c,y.camera,g,this.type)}y.isPointLightShadow||this.type!==h||w(y,c)}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}b.needsUpdate=!1,t.setRenderTarget(l,u,d)}}}function Il(t,e,i){var n=i.isWebGL2;function r(){var e=!1,i=new fi,n=null,r=new fi(0,0,0,0);return{setMask:function(i){n===i||e||(t.colorMask(i,i,i,i),n=i)},setLocked:function(t){e=t},setClear:function(e,n,a,o,s){!0===s&&(e*=o,n*=o,a*=o),i.set(e,n,a,o),!1===r.equals(i)&&(t.clearColor(e,n,a,o),r.copy(i))},reset:function(){e=!1,n=null,r.set(-1,0,0,0)}}}function a(){var e=!1,i=null,n=null,r=null;return{setTest:function(t){t?At(2929):Tt(2929)},setMask:function(n){i===n||e||(t.depthMask(n),i=n)},setFunc:function(e){if(n!==e){if(e)switch(e){case F:t.depthFunc(512);break;case B:t.depthFunc(519);break;case G:t.depthFunc(513);break;case k:t.depthFunc(515);break;case H:t.depthFunc(514);break;case V:t.depthFunc(518);break;case j:t.depthFunc(516);break;case W:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);n=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,i=null,n=null,r=null}}}function l(){var e=!1,i=null,n=null,r=null,a=null,o=null,s=null,c=null,l=null;return{setTest:function(t){e||(t?At(2960):Tt(2960))},setMask:function(n){i===n||e||(t.stencilMask(n),i=n)},setFunc:function(e,i,o){n===e&&r===i&&a===o||(t.stencilFunc(e,i,o),n=e,r=i,a=o)},setOp:function(e,i,n){o===e&&s===i&&c===n||(t.stencilOp(e,i,n),o=e,s=i,c=n)},setLocked:function(t){e=t},setClear:function(e){l!==e&&(t.clearStencil(e),l=e)},reset:function(){e=!1,i=null,n=null,r=null,a=null,o=null,s=null,c=null,l=null}}}var u=new r,h=new a,d=new l,m=t.getParameter(34921),X=new Uint8Array(m),Y=new Uint8Array(m),Z=new Uint8Array(m),q={},J=null,Q=null,K=null,$=null,tt=null,et=null,it=null,nt=null,rt=null,at=!1,ot=null,st=null,ct=null,lt=null,ut=null,ht=t.getParameter(35661),dt=!1,pt=0,ft=t.getParameter(7938);-1!==ft.indexOf("WebGL")?(pt=parseFloat(/^WebGL\ ([0-9])/.exec(ft)[1]),dt=pt>=1):-1!==ft.indexOf("OpenGL ES")&&(pt=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(ft)[1]),dt=pt>=2);var mt=null,vt={},gt=new fi,yt=new fi;function _t(e,i,n){var r=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(var o=0;o<n;o++)t.texImage2D(i+o,0,6408,1,1,0,6408,5121,r);return a}var xt={};function bt(){for(var t=0,e=X.length;t<e;t++)X[t]=0}function wt(t){Mt(t,0)}function Mt(i,r){if(X[i]=1,0===Y[i]&&(t.enableVertexAttribArray(i),Y[i]=1),Z[i]!==r){var a=n?t:e.get("ANGLE_instanced_arrays");a[n?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](i,r),Z[i]=r}}function Et(){for(var e=0,i=Y.length;e!==i;++e)Y[e]!==X[e]&&(t.disableVertexAttribArray(e),Y[e]=0)}function St(e,i,r,a,o,s){!0!==n||5124!==r&&5125!==r?t.vertexAttribPointer(e,i,r,a,o,s):t.vertexAttribIPointer(e,i,r,a,o,s)}function At(e){!0!==q[e]&&(t.enable(e),q[e]=!0)}function Tt(e){!1!==q[e]&&(t.disable(e),q[e]=!1)}function Ct(e){return J!==e&&(t.useProgram(e),J=e,!0)}xt[3553]=_t(3553,3553,1),xt[34067]=_t(34067,34069,6),u.setClear(0,0,0,1),h.setClear(1),d.setClear(0),At(2929),h.setFunc(k),Ut(!1),Dt(s),At(2884),It(v);var Lt={[w]:32774,[M]:32778,[E]:32779};if(n)Lt[S]=32775,Lt[A]=32776;else{var Rt=e.get("EXT_blend_minmax");null!==Rt&&(Lt[S]=Rt.MIN_EXT,Lt[A]=Rt.MAX_EXT)}var Pt={[T]:0,[C]:1,[L]:768,[P]:770,[z]:776,[D]:774,[O]:772,[R]:769,[I]:771,[N]:775,[U]:773};function It(e,i,n,r,a,o,s,c){if(e!==v){if(Q||(At(3042),Q=!0),e===b)a=a||i,o=o||n,s=s||r,i===$&&a===it||(t.blendEquationSeparate(Lt[i],Lt[a]),$=i,it=a),n===tt&&r===et&&o===nt&&s===rt||(t.blendFuncSeparate(Pt[n],Pt[r],Pt[o],Pt[s]),tt=n,et=r,nt=o,rt=s),K=e,at=null;else if(e!==K||c!==at){if($===w&&it===w||(t.blendEquation(32774),$=w,it=w),c)switch(e){case g:t.blendFuncSeparate(1,771,1,771);break;case y:t.blendFunc(1,1);break;case _:t.blendFuncSeparate(0,0,769,771);break;case x:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e);break}else switch(e){case g:t.blendFuncSeparate(770,771,1,771);break;case y:t.blendFunc(770,1);break;case _:t.blendFunc(0,769);break;case x:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e);break}tt=null,et=null,nt=null,rt=null,K=e,at=c}}else Q&&(Tt(3042),Q=!1)}function Ot(t,e){t.side===f?Tt(2884):At(2884);var i=t.side===p;e&&(i=!i),Ut(i),t.blending===g&&!1===t.transparent?It(v):It(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),h.setFunc(t.depthFunc),h.setTest(t.depthTest),h.setMask(t.depthWrite),u.setMask(t.colorWrite);var n=t.stencilWrite;d.setTest(n),n&&(d.setMask(t.stencilWriteMask),d.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),d.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),zt(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function Ut(e){ot!==e&&(e?t.frontFace(2304):t.frontFace(2305),ot=e)}function Dt(e){e!==o?(At(2884),e!==st&&(e===s?t.cullFace(1029):e===c?t.cullFace(1028):t.cullFace(1032))):Tt(2884),st=e}function Nt(e){e!==ct&&(dt&&t.lineWidth(e),ct=e)}function zt(e,i,n){e?(At(32823),lt===i&&ut===n||(t.polygonOffset(i,n),lt=i,ut=n)):Tt(32823)}function Ft(t){t?At(3089):Tt(3089)}function Bt(e){void 0===e&&(e=33984+ht-1),mt!==e&&(t.activeTexture(e),mt=e)}function Gt(e,i){null===mt&&Bt();var n=vt[mt];void 0===n&&(n={type:void 0,texture:void 0},vt[mt]=n),n.type===e&&n.texture===i||(t.bindTexture(e,i||xt[e]),n.type=e,n.texture=i)}function kt(){var e=vt[mt];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)}function Ht(){try{t.compressedTexImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function Vt(){try{t.texImage2D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function jt(){try{t.texImage3D.apply(t,arguments)}catch(e){console.error("THREE.WebGLState:",e)}}function Wt(e){!1===gt.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),gt.copy(e))}function Xt(e){!1===yt.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),yt.copy(e))}function Yt(){for(var e=0;e<Y.length;e++)1===Y[e]&&(t.disableVertexAttribArray(e),Y[e]=0);q={},mt=null,vt={},J=null,K=null,ot=null,st=null,u.reset(),h.reset(),d.reset()}return{buffers:{color:u,depth:h,stencil:d},initAttributes:bt,enableAttribute:wt,enableAttributeAndDivisor:Mt,disableUnusedAttributes:Et,vertexAttribPointer:St,enable:At,disable:Tt,useProgram:Ct,setBlending:It,setMaterial:Ot,setFlipSided:Ut,setCullFace:Dt,setLineWidth:Nt,setPolygonOffset:zt,setScissorTest:Ft,activeTexture:Bt,bindTexture:Gt,unbindTexture:kt,compressedTexImage2D:Ht,texImage2D:Vt,texImage3D:jt,scissor:Wt,viewport:Xt,reset:Yt}}function Ol(t,e,i,n,r,a,o){var s,c=r.isWebGL2,l=r.maxTextures,u=r.maxCubemapSize,h=r.maxTextureSize,d=r.maxSamples,p=new WeakMap,f=!1;try{f="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch($){}function m(t,e){return f?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function v(t,e,i,n){var r=1;if((t.width>n||t.height>n)&&(r=n/Math.max(t.width,t.height)),r<1||!0===e){if("undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&t instanceof ImageBitmap){var a=e?ci.floorPowerOfTwo:Math.floor,o=a(r*t.width),c=a(r*t.height);void 0===s&&(s=m(o,c));var l=i?m(o,c):s;l.width=o,l.height=c;var u=l.getContext("2d");return u.drawImage(t,0,0,o,c),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+o+"x"+c+")."),l}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function g(t){return ci.isPowerOfTwo(t.width)&&ci.isPowerOfTwo(t.height)}function y(t){return!c&&(t.wrapS!==ut||t.wrapT!==ut||t.minFilter!==dt&&t.minFilter!==mt)}function _(t,e){return t.generateMipmaps&&e&&t.minFilter!==dt&&t.minFilter!==mt}function x(e,i,r,a){t.generateMipmap(e);var o=n.get(i);o.__maxMipLevel=Math.log(Math.max(r,a))*Math.LOG2E}function b(i,n,r){if(!1===c)return n;if(null!==i){if(void 0!==t[i])return t[i];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+i+"'")}var a=n;return 6403===n&&(5126===r&&(a=33326),5131===r&&(a=33325),5121===r&&(a=33321)),6407===n&&(5126===r&&(a=34837),5131===r&&(a=34843),5121===r&&(a=32849)),6408===n&&(5126===r&&(a=34836),5131===r&&(a=34842),5121===r&&(a=32856)),33325!==a&&33326!==a&&34842!==a&&34836!==a||e.get("EXT_color_buffer_float"),a}function w(t){return t===dt||t===pt||t===ft?9728:9729}function M(t){var e=t.target;e.removeEventListener("dispose",M),S(e),e.isVideoTexture&&p.delete(e),o.memory.textures--}function E(t){var e=t.target;e.removeEventListener("dispose",E),A(e),o.memory.textures--}function S(e){var i=n.get(e);void 0!==i.__webglInit&&(t.deleteTexture(i.__webglTexture),n.remove(e))}function A(e){var i=n.get(e),r=n.get(e.texture);if(e){if(void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLCubeRenderTarget)for(var a=0;a<6;a++)t.deleteFramebuffer(i.__webglFramebuffer[a]),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer[a]);else t.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&t.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer&&t.deleteRenderbuffer(i.__webglColorRenderbuffer),i.__webglDepthRenderbuffer&&t.deleteRenderbuffer(i.__webglDepthRenderbuffer);n.remove(e.texture),n.remove(e)}}var T=0;function C(){T=0}function L(){var t=T;return t>=l&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+l),T+=1,t}function R(t,e){var r=n.get(t);if(t.isVideoTexture&&Z(t),t.version>0&&r.__version!==t.version){var a=t.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void B(r,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}i.activeTexture(33984+e),i.bindTexture(3553,r.__webglTexture)}function P(t,e){var r=n.get(t);t.version>0&&r.__version!==t.version?B(r,t,e):(i.activeTexture(33984+e),i.bindTexture(35866,r.__webglTexture))}function I(t,e){var r=n.get(t);t.version>0&&r.__version!==t.version?B(r,t,e):(i.activeTexture(33984+e),i.bindTexture(32879,r.__webglTexture))}function O(e,r){if(6===e.image.length){var o=n.get(e);if(e.version>0&&o.__version!==e.version){F(o,e),i.activeTexture(33984+r),i.bindTexture(34067,o.__webglTexture),t.pixelStorei(37440,e.flipY);for(var s=e&&(e.isCompressedTexture||e.image[0].isCompressedTexture),l=e.image[0]&&e.image[0].isDataTexture,h=[],d=0;d<6;d++)h[d]=s||l?l?e.image[d].image:e.image[d]:v(e.image[d],!1,!0,u);var p,f=h[0],m=g(f)||c,y=a.convert(e.format),w=a.convert(e.type),M=b(e.internalFormat,y,w);if(z(34067,e,m),s){for(d=0;d<6;d++){p=h[d].mipmaps;for(var E=0;E<p.length;E++){var S=p[E];e.format!==It&&e.format!==Pt?null!==y?i.compressedTexImage2D(34069+d,E,M,S.width,S.height,0,S.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):i.texImage2D(34069+d,E,M,S.width,S.height,0,y,w,S.data)}}o.__maxMipLevel=p.length-1}else{p=e.mipmaps;for(d=0;d<6;d++)if(l){i.texImage2D(34069+d,0,M,h[d].width,h[d].height,0,y,w,h[d].data);for(E=0;E<p.length;E++){S=p[E];var A=S.image[d].image;i.texImage2D(34069+d,E+1,M,A.width,A.height,0,y,w,A.data)}}else{i.texImage2D(34069+d,0,M,y,w,h[d]);for(E=0;E<p.length;E++){S=p[E];i.texImage2D(34069+d,E+1,M,y,w,S.image[d])}}o.__maxMipLevel=p.length}_(e,m)&&x(34067,e,f.width,f.height),o.__version=e.version,e.onUpdate&&e.onUpdate(e)}else i.activeTexture(33984+r),i.bindTexture(34067,o.__webglTexture)}}function U(t,e){i.activeTexture(33984+e),i.bindTexture(34067,n.get(t).__webglTexture)}var D={[lt]:10497,[ut]:33071,[ht]:33648},N={[dt]:9728,[pt]:9984,[ft]:9986,[mt]:9729,[vt]:9985,[gt]:9987};function z(i,a,o){o?(t.texParameteri(i,10242,D[a.wrapS]),t.texParameteri(i,10243,D[a.wrapT]),32879!==i&&35866!==i||t.texParameteri(i,32882,D[a.wrapR]),t.texParameteri(i,10240,N[a.magFilter]),t.texParameteri(i,10241,N[a.minFilter])):(t.texParameteri(i,10242,33071),t.texParameteri(i,10243,33071),32879!==i&&35866!==i||t.texParameteri(i,32882,33071),a.wrapS===ut&&a.wrapT===ut||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(i,10240,w(a.magFilter)),t.texParameteri(i,10241,w(a.minFilter)),a.minFilter!==dt&&a.minFilter!==mt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var s=e.get("EXT_texture_filter_anisotropic");if(s){if(a.type===Et&&null===e.get("OES_texture_float_linear"))return;if(a.type===St&&null===(c||e.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||n.get(a).__currentAnisotropy)&&(t.texParameterf(i,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,r.getMaxAnisotropy())),n.get(a).__currentAnisotropy=a.anisotropy)}}function F(e,i){void 0===e.__webglInit&&(e.__webglInit=!0,i.addEventListener("dispose",M),e.__webglTexture=t.createTexture(),o.memory.textures++)}function B(e,n,r){var o=3553;n.isDataTexture2DArray&&(o=35866),n.isDataTexture3D&&(o=32879),F(e,n),i.activeTexture(33984+r),i.bindTexture(o,e.__webglTexture),t.pixelStorei(37440,n.flipY),t.pixelStorei(37441,n.premultiplyAlpha),t.pixelStorei(3317,n.unpackAlignment);var s=y(n)&&!1===g(n.image),l=v(n.image,s,!1,h),u=g(l)||c,d=a.convert(n.format),p=a.convert(n.type),f=b(n.internalFormat,d,p);z(o,n,u);var m,w=n.mipmaps;if(n.isDepthTexture)f=6402,c?f=n.type===Et?36012:n.type===Mt?33190:n.type===Lt?35056:33189:n.type===Et&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),n.format===Nt&&6402===f&&n.type!==bt&&n.type!==Mt&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),n.type=bt,p=a.convert(n.type)),n.format===zt&&6402===f&&(f=34041,n.type!==Lt&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),n.type=Lt,p=a.convert(n.type))),i.texImage2D(3553,0,f,l.width,l.height,0,d,p,null);else if(n.isDataTexture)if(w.length>0&&u){for(var M=0,E=w.length;M<E;M++)m=w[M],i.texImage2D(3553,M,f,m.width,m.height,0,d,p,m.data);n.generateMipmaps=!1,e.__maxMipLevel=w.length-1}else i.texImage2D(3553,0,f,l.width,l.height,0,d,p,l.data),e.__maxMipLevel=0;else if(n.isCompressedTexture){for(M=0,E=w.length;M<E;M++)m=w[M],n.format!==It&&n.format!==Pt?null!==d?i.compressedTexImage2D(3553,M,f,m.width,m.height,0,m.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):i.texImage2D(3553,M,f,m.width,m.height,0,d,p,m.data);e.__maxMipLevel=w.length-1}else if(n.isDataTexture2DArray)i.texImage3D(35866,0,f,l.width,l.height,l.depth,0,d,p,l.data),e.__maxMipLevel=0;else if(n.isDataTexture3D)i.texImage3D(32879,0,f,l.width,l.height,l.depth,0,d,p,l.data),e.__maxMipLevel=0;else if(w.length>0&&u){for(M=0,E=w.length;M<E;M++)m=w[M],i.texImage2D(3553,M,f,d,p,m);n.generateMipmaps=!1,e.__maxMipLevel=w.length-1}else i.texImage2D(3553,0,f,d,p,l),e.__maxMipLevel=0;_(n,u)&&x(o,n,l.width,l.height),e.__version=n.version,n.onUpdate&&n.onUpdate(n)}function G(e,r,o,s){var c=a.convert(r.texture.format),l=a.convert(r.texture.type),u=b(r.texture.internalFormat,c,l);i.texImage2D(s,0,u,r.width,r.height,0,c,l,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,o,s,n.get(r.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function k(e,i,n){if(t.bindRenderbuffer(36161,e),i.depthBuffer&&!i.stencilBuffer){var r=33189;if(n){var o=i.depthTexture;o&&o.isDepthTexture&&(o.type===Et?r=36012:o.type===Mt&&(r=33190));var s=Y(i);t.renderbufferStorageMultisample(36161,s,r,i.width,i.height)}else t.renderbufferStorage(36161,r,i.width,i.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(i.depthBuffer&&i.stencilBuffer){if(n){s=Y(i);t.renderbufferStorageMultisample(36161,s,35056,i.width,i.height)}else t.renderbufferStorage(36161,34041,i.width,i.height);t.framebufferRenderbuffer(36160,33306,36161,e)}else{var c=a.convert(i.texture.format),l=a.convert(i.texture.type);r=b(i.texture.internalFormat,c,l);if(n){s=Y(i);t.renderbufferStorageMultisample(36161,s,r,i.width,i.height)}else t.renderbufferStorage(36161,r,i.width,i.height)}t.bindRenderbuffer(36161,null)}function H(e,i){var r=i&&i.isWebGLCubeRenderTarget;if(r)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),R(i.depthTexture,0);var a=n.get(i.depthTexture).__webglTexture;if(i.depthTexture.format===Nt)t.framebufferTexture2D(36160,36096,3553,a,0);else{if(i.depthTexture.format!==zt)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,a,0)}}function V(e){var i=n.get(e),r=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");H(i.__webglFramebuffer,e)}else if(r){i.__webglDepthbuffer=[];for(var a=0;a<6;a++)t.bindFramebuffer(36160,i.__webglFramebuffer[a]),i.__webglDepthbuffer[a]=t.createRenderbuffer(),k(i.__webglDepthbuffer[a],e,!1)}else t.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=t.createRenderbuffer(),k(i.__webglDepthbuffer,e,!1);t.bindFramebuffer(36160,null)}function j(e){var r=n.get(e),s=n.get(e.texture);e.addEventListener("dispose",E),s.__webglTexture=t.createTexture(),o.memory.textures++;var l=!0===e.isWebGLCubeRenderTarget,u=!0===e.isWebGLMultisampleRenderTarget,h=g(e)||c;if(!c||e.texture.format!==Pt||e.texture.type!==Et&&e.texture.type!==St||(e.texture.format=It,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),l){r.__webglFramebuffer=[];for(var d=0;d<6;d++)r.__webglFramebuffer[d]=t.createFramebuffer()}else if(r.__webglFramebuffer=t.createFramebuffer(),u)if(c){r.__webglMultisampledFramebuffer=t.createFramebuffer(),r.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,r.__webglColorRenderbuffer);var p=a.convert(e.texture.format),f=a.convert(e.texture.type),m=b(e.texture.internalFormat,p,f),v=Y(e);t.renderbufferStorageMultisample(36161,v,m,e.width,e.height),t.bindFramebuffer(36160,r.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,r.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(r.__webglDepthRenderbuffer=t.createRenderbuffer(),k(r.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(l){i.bindTexture(34067,s.__webglTexture),z(34067,e.texture,h);for(d=0;d<6;d++)G(r.__webglFramebuffer[d],e,36064,34069+d);_(e.texture,h)&&x(34067,e.texture,e.width,e.height),i.bindTexture(34067,null)}else i.bindTexture(3553,s.__webglTexture),z(3553,e.texture,h),G(r.__webglFramebuffer,e,36064,3553),_(e.texture,h)&&x(3553,e.texture,e.width,e.height),i.bindTexture(3553,null);e.depthBuffer&&V(e)}function W(t){var e=t.texture,r=g(t)||c;if(_(e,r)){var a=t.isWebGLCubeRenderTarget?34067:3553,o=n.get(e).__webglTexture;i.bindTexture(a,o),x(a,e,t.width,t.height),i.bindTexture(a,null)}}function X(e){if(e.isWebGLMultisampleRenderTarget)if(c){var i=n.get(e);t.bindFramebuffer(36008,i.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,i.__webglFramebuffer);var r=e.width,a=e.height,o=16384;e.depthBuffer&&(o|=256),e.stencilBuffer&&(o|=1024),t.blitFramebuffer(0,0,r,a,0,0,r,a,o,9728),t.bindFramebuffer(36160,i.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function Y(t){return c&&t.isWebGLMultisampleRenderTarget?Math.min(d,t.samples):0}function Z(t){var e=o.render.frame;p.get(t)!==e&&(p.set(t,e),t.update())}var q=!1,J=!1;function Q(t,e){t&&t.isWebGLRenderTarget&&(!1===q&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),q=!0),t=t.texture),R(t,e)}function K(t,e){t&&t.isWebGLCubeRenderTarget&&(!1===J&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),J=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?O(t,e):U(t,e)}this.allocateTextureUnit=L,this.resetTextureUnits=C,this.setTexture2D=R,this.setTexture2DArray=P,this.setTexture3D=I,this.setTextureCube=O,this.setTextureCubeDynamic=U,this.setupRenderTarget=j,this.updateRenderTargetMipmap=W,this.updateMultisampleRenderTarget=X,this.safeSetTexture2D=Q,this.safeSetTextureCube=K}function Ul(t,e,i){var n=i.isWebGL2;function r(t){var i;if(t===yt)return 5121;if(t===At)return 32819;if(t===Tt)return 32820;if(t===Ct)return 33635;if(t===_t)return 5120;if(t===xt)return 5122;if(t===bt)return 5123;if(t===wt)return 5124;if(t===Mt)return 5125;if(t===Et)return 5126;if(t===St)return n?5131:(i=e.get("OES_texture_half_float"),null!==i?i.HALF_FLOAT_OES:null);if(t===Rt)return 6406;if(t===Pt)return 6407;if(t===It)return 6408;if(t===Ot)return 6409;if(t===Ut)return 6410;if(t===Nt)return 6402;if(t===zt)return 34041;if(t===Ft)return 6403;if(t===Bt)return 36244;if(t===Gt)return 33319;if(t===kt)return 33320;if(t===Ht)return 36248;if(t===Vt)return 36249;if(t===jt||t===Wt||t===Xt||t===Yt){if(i=e.get("WEBGL_compressed_texture_s3tc"),null===i)return null;if(t===jt)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===Wt)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===Xt)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===Yt)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(t===Zt||t===qt||t===Jt||t===Qt){if(i=e.get("WEBGL_compressed_texture_pvrtc"),null===i)return null;if(t===Zt)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===qt)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===Jt)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===Qt)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===Kt)return i=e.get("WEBGL_compressed_texture_etc1"),null!==i?i.COMPRESSED_RGB_ETC1_WEBGL:null;if((t===$t||t===te)&&(i=e.get("WEBGL_compressed_texture_etc"),null!==i)){if(t===$t)return i.COMPRESSED_RGB8_ETC2;if(t===te)return i.COMPRESSED_RGBA8_ETC2_EAC}return t===ee||t===ie||t===ne||t===re||t===ae||t===oe||t===se||t===ce||t===le||t===ue||t===he||t===de||t===pe||t===fe||t===ve||t===ge||t===ye||t===_e||t===xe||t===be||t===we||t===Me||t===Ee||t===Se||t===Ae||t===Te||t===Ce||t===Le?(i=e.get("WEBGL_compressed_texture_astc"),null!==i?t:null):t===me?(i=e.get("EXT_texture_compression_bptc"),null!==i?t:null):t===Lt?n?34042:(i=e.get("WEBGL_depth_texture"),null!==i?i.UNSIGNED_INT_24_8_WEBGL:null):void 0}return{convert:r}}function Dl(t){Yr.call(this),this.cameras=t||[]}function Nl(){Xi.call(this),this.type="Group"}function zl(){this._targetRay=null,this._grip=null}function Fl(t,e){var i=this,n=null,r=1,a=null,o="local-floor",s=null,c=[],l=new Map,u=new Yr;u.layers.enable(1),u.viewport=new fi;var h=new Yr;h.layers.enable(2),h.viewport=new fi;var d=[u,h],p=new Dl;p.layers.enable(1),p.layers.enable(2);var f=null,m=null;function v(t){var e=l.get(t.inputSource);e&&e.dispatchEvent({type:t.type})}function g(){l.forEach((function(t,e){t.disconnect(e)})),l.clear(),t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),A.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function y(t){a=t,A.setContext(n),A.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}function _(t){for(var e=n.inputSources,i=0;i<c.length;i++)l.set(e[i],c[i]);for(i=0;i<t.removed.length;i++){var r=t.removed[i],a=l.get(r);a&&(a.dispatchEvent({type:"disconnected",data:r}),l.delete(r))}for(i=0;i<t.added.length;i++){r=t.added[i],a=l.get(r);a&&a.dispatchEvent({type:"connected",data:r})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(t){var e=c[t];return void 0===e&&(e=new zl,c[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){var e=c[t];return void 0===e&&(e=new zl,c[t]=e),e.getGripSpace()},this.setFramebufferScaleFactor=function(t){r=t,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){o=t,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getSession=function(){return n},this.setSession=function(t){if(n=t,null!==n){n.addEventListener("select",v),n.addEventListener("selectstart",v),n.addEventListener("selectend",v),n.addEventListener("squeeze",v),n.addEventListener("squeezestart",v),n.addEventListener("squeezeend",v),n.addEventListener("end",g);var i=e.getContextAttributes(),a={antialias:i.antialias,alpha:i.alpha,depth:i.depth,stencil:i.stencil,framebufferScaleFactor:r},s=new XRWebGLLayer(n,e,a);n.updateRenderState({baseLayer:s}),n.requestReferenceSpace(o).then(y),n.addEventListener("inputsourceschange",_)}};var x=new xi,b=new xi;function w(t,e,i){x.setFromMatrixPosition(e.matrixWorld),b.setFromMatrixPosition(i.matrixWorld);var n=x.distanceTo(b),r=e.projectionMatrix.elements,a=i.projectionMatrix.elements,o=r[14]/(r[10]-1),s=r[14]/(r[10]+1),c=(r[9]+1)/r[5],l=(r[9]-1)/r[5],u=(r[8]-1)/r[0],h=(a[8]+1)/a[0],d=o*u,p=o*h,f=n/(-u+h),m=f*-u;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.getInverse(t.matrixWorld);var v=o+f,g=s+f,y=d-m,_=p+(n-m),w=c*s/g*v,M=l*s/g*v;t.projectionMatrix.makePerspective(y,_,w,M,v,g)}function M(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}this.getCamera=function(t){p.near=h.near=u.near=t.near,p.far=h.far=u.far=t.far,f===p.near&&m===p.far||(n.updateRenderState({depthNear:p.near,depthFar:p.far}),f=p.near,m=p.far);var e=t.parent,i=p.cameras;M(p,e);for(var r=0;r<i.length;r++)M(i[r],e);t.matrixWorld.copy(p.matrixWorld);for(var a=t.children,o=(r=0,a.length);r<o;r++)a[r].updateMatrixWorld(!0);return 2===i.length?w(p,u,h):p.projectionMatrix.copy(u.projectionMatrix),p};var E=null;function S(e,i){if(s=i.getViewerPose(a),null!==s){var r=s.views,o=n.renderState.baseLayer;t.setFramebuffer(o.framebuffer);var l=!1;r.length!==p.cameras.length&&(p.cameras.length=0,l=!0);for(var u=0;u<r.length;u++){var h=r[u],f=o.getViewport(h),m=d[u];m.matrix.fromArray(h.transform.matrix),m.projectionMatrix.fromArray(h.projectionMatrix),m.viewport.set(f.x,f.y,f.width,f.height),0===u&&p.matrix.copy(m.matrix),!0===l&&p.cameras.push(m)}}var v=n.inputSources;for(u=0;u<c.length;u++){var g=c[u],y=v[u];g.update(y,i,a)}E&&E(e,i)}var A=new na;A.setAnimationLoop(S),this.setAnimationLoop=function(t){E=t},this.dispose=function(){}}function Bl(t){t=t||{};var e=void 0!==t.canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),i=void 0!==t.context?t.context:null,n=void 0!==t.alpha&&t.alpha,r=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,o=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,c=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,l=void 0!==t.powerPreference?t.powerPreference:"default",u=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat,h=null,d=null;this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=He,this.physicallyCorrectLights=!1,this.toneMapping=q,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var f,m,v,g,y,_,x,b,w,M,E,S,A,T,C,L,R,P,I=this,O=!1,U=null,D=0,N=0,z=null,F=null,B=-1,G={geometry:null,program:null,wireframe:!1},k=null,H=null,V=new fi,j=new fi,W=null,X=e.width,Y=e.height,Z=1,J=null,Q=null,K=new fi(0,0,X,Y),$=new fi(0,0,X,Y),tt=!1,et=new ea,it=new Is,nt=!1,rt=!1,at=new Ci,ot=new xi;function st(){return null===z?Z:1}try{var ct={alpha:n,depth:r,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:c,powerPreference:l,failIfMajorPerformanceCaveat:u,xrCompatible:!0};if(e.addEventListener("webglcontextlost",dt,!1),e.addEventListener("webglcontextrestored",pt,!1),f=i||e.getContext("webgl",ct)||e.getContext("experimental-webgl",ct),null===f)throw null!==e.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===f.getShaderPrecisionFormat&&(f.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(qt){throw console.error("THREE.WebGLRenderer: "+qt.message),qt}function lt(){m=new Os(f),v=new Ps(f,m,t),!1===v.isWebGL2&&(m.get("WEBGL_depth_texture"),m.get("OES_texture_float"),m.get("OES_texture_half_float"),m.get("OES_texture_half_float_linear"),m.get("OES_standard_derivatives"),m.get("OES_element_index_uint"),m.get("ANGLE_instanced_arrays")),m.get("OES_texture_float_linear"),P=new Ul(f,m,v),g=new Il(f,m,v),g.scissor(j.copy($).multiplyScalar(Z).floor()),g.viewport(V.copy(K).multiplyScalar(Z).floor()),y=new Ns(f),_=new ml,x=new Ol(f,m,g,_,v,P,y),b=new ra(f,v),w=new Us(f,b,y),M=new Bs(f,w,b,y),C=new Fs(f),E=new fl(I,m,v),S=new _l,A=new Al,T=new Ls(I,g,M,s),L=new Rs(f,m,y,v),R=new Ds(f,m,y,v),y.programs=E.programs,I.capabilities=v,I.extensions=m,I.properties=_,I.renderLists=S,I.state=g,I.info=y}lt();var ut=new Fl(I,f);this.xr=ut;var ht=new Pl(I,M,v.maxTextureSize);function dt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),O=!0}function pt(){console.log("THREE.WebGLRenderer: Context Restored."),O=!1,lt()}function ft(t){var e=t.target;e.removeEventListener("dispose",ft),mt(e)}function mt(t){vt(t),_.remove(t)}function vt(t){var e=_.get(t).program;t.program=void 0,void 0!==e&&E.releaseProgram(e)}function gt(t,e){t.render((function(t){I.renderBufferImmediate(t,e)}))}this.shadowMap=ht,this.getContext=function(){return f},this.getContextAttributes=function(){return f.getContextAttributes()},this.forceContextLoss=function(){var t=m.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=m.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return Z},this.setPixelRatio=function(t){void 0!==t&&(Z=t,this.setSize(X,Y,!1))},this.getSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),t=new li),t.set(X,Y)},this.setSize=function(t,i,n){ut.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(X=t,Y=i,e.width=Math.floor(t*Z),e.height=Math.floor(i*Z),!1!==n&&(e.style.width=t+"px",e.style.height=i+"px"),this.setViewport(0,0,t,i))},this.getDrawingBufferSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),t=new li),t.set(X*Z,Y*Z).floor()},this.setDrawingBufferSize=function(t,i,n){X=t,Y=i,Z=n,e.width=Math.floor(t*n),e.height=Math.floor(i*n),this.setViewport(0,0,t,i)},this.getCurrentViewport=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),t=new fi),t.copy(V)},this.getViewport=function(t){return t.copy(K)},this.setViewport=function(t,e,i,n){t.isVector4?K.set(t.x,t.y,t.z,t.w):K.set(t,e,i,n),g.viewport(V.copy(K).multiplyScalar(Z).floor())},this.getScissor=function(t){return t.copy($)},this.setScissor=function(t,e,i,n){t.isVector4?$.set(t.x,t.y,t.z,t.w):$.set(t,e,i,n),g.scissor(j.copy($).multiplyScalar(Z).floor())},this.getScissorTest=function(){return tt},this.setScissorTest=function(t){g.setScissorTest(tt=t)},this.setOpaqueSort=function(t){J=t},this.setTransparentSort=function(t){Q=t},this.getClearColor=function(){return T.getClearColor()},this.setClearColor=function(){T.setClearColor.apply(T,arguments)},this.getClearAlpha=function(){return T.getClearAlpha()},this.setClearAlpha=function(){T.setClearAlpha.apply(T,arguments)},this.clear=function(t,e,i){var n=0;(void 0===t||t)&&(n|=16384),(void 0===e||e)&&(n|=256),(void 0===i||i)&&(n|=1024),f.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",dt,!1),e.removeEventListener("webglcontextrestored",pt,!1),S.dispose(),A.dispose(),_.dispose(),M.dispose(),ut.dispose(),Mt.stop()},this.renderBufferImmediate=function(t,e){g.initAttributes();var i=_.get(t);t.hasPositions&&!i.position&&(i.position=f.createBuffer()),t.hasNormals&&!i.normal&&(i.normal=f.createBuffer()),t.hasUvs&&!i.uv&&(i.uv=f.createBuffer()),t.hasColors&&!i.color&&(i.color=f.createBuffer());var n=e.getAttributes();t.hasPositions&&(f.bindBuffer(34962,i.position),f.bufferData(34962,t.positionArray,35048),g.enableAttribute(n.position),f.vertexAttribPointer(n.position,3,5126,!1,0,0)),t.hasNormals&&(f.bindBuffer(34962,i.normal),f.bufferData(34962,t.normalArray,35048),g.enableAttribute(n.normal),f.vertexAttribPointer(n.normal,3,5126,!1,0,0)),t.hasUvs&&(f.bindBuffer(34962,i.uv),f.bufferData(34962,t.uvArray,35048),g.enableAttribute(n.uv),f.vertexAttribPointer(n.uv,2,5126,!1,0,0)),t.hasColors&&(f.bindBuffer(34962,i.color),f.bufferData(34962,t.colorArray,35048),g.enableAttribute(n.color),f.vertexAttribPointer(n.color,3,5126,!1,0,0)),g.disableUnusedAttributes(),f.drawArrays(4,0,t.count),t.count=0};var _t=new Yi;function xt(t,e,i,n){if(!1!==v.isWebGL2||!t.isInstancedMesh&&!e.isInstancedBufferGeometry||null!==m.get("ANGLE_instanced_arrays")){g.initAttributes();var r=e.attributes,a=n.getAttributes(),o=i.defaultAttributeValues;for(var s in a){var c=a[s];if(c>=0){var l=r[s];if(void 0!==l){var u=l.normalized,h=l.itemSize,d=b.get(l);if(void 0===d)continue;var p=d.buffer,y=d.type,_=d.bytesPerElement;if(l.isInterleavedBufferAttribute){var x=l.data,w=x.stride,M=l.offset;x&&x.isInstancedInterleavedBuffer?(g.enableAttributeAndDivisor(c,x.meshPerAttribute),void 0===e.maxInstancedCount&&(e.maxInstancedCount=x.meshPerAttribute*x.count)):g.enableAttribute(c),f.bindBuffer(34962,p),g.vertexAttribPointer(c,h,y,u,w*_,M*_)}else l.isInstancedBufferAttribute?(g.enableAttributeAndDivisor(c,l.meshPerAttribute),void 0===e.maxInstancedCount&&(e.maxInstancedCount=l.meshPerAttribute*l.count)):g.enableAttribute(c),f.bindBuffer(34962,p),g.vertexAttribPointer(c,h,y,u,0,0)}else if("instanceMatrix"===s){d=b.get(t.instanceMatrix);if(void 0===d)continue;p=d.buffer,y=d.type;g.enableAttributeAndDivisor(c+0,1),g.enableAttributeAndDivisor(c+1,1),g.enableAttributeAndDivisor(c+2,1),g.enableAttributeAndDivisor(c+3,1),f.bindBuffer(34962,p),f.vertexAttribPointer(c+0,4,y,!1,64,0),f.vertexAttribPointer(c+1,4,y,!1,64,16),f.vertexAttribPointer(c+2,4,y,!1,64,32),f.vertexAttribPointer(c+3,4,y,!1,64,48)}else if(void 0!==o){var E=o[s];if(void 0!==E)switch(E.length){case 2:f.vertexAttrib2fv(c,E);break;case 3:f.vertexAttrib3fv(c,E);break;case 4:f.vertexAttrib4fv(c,E);break;default:f.vertexAttrib1fv(c,E)}}}}g.disableUnusedAttributes()}}this.renderBufferDirect=function(t,e,i,n,r,a){null===e&&(e=_t);var o=r.isMesh&&r.matrixWorld.determinant()<0,s=Rt(t,e,n,r);g.setMaterial(n,o);var c=!1;G.geometry===i.id&&G.program===s.id&&G.wireframe===(!0===n.wireframe)||(G.geometry=i.id,G.program=s.id,G.wireframe=!0===n.wireframe,c=!0),(n.morphTargets||n.morphNormals)&&(C.update(r,i,n,s),c=!0),!0===r.isInstancedMesh&&(c=!0);var l=i.index,u=i.attributes.position;if(null===l){if(void 0===u||0===u.count)return}else if(0===l.count)return;var h,d=1;!0===n.wireframe&&(l=w.getWireframeAttribute(i),d=2);var p=L;null!==l&&(h=b.get(l),p=R,p.setIndex(h)),c&&(xt(r,i,n,s),null!==l&&f.bindBuffer(34963,h.buffer));var m=null!==l?l.count:u.count,v=i.drawRange.start*d,y=i.drawRange.count*d,_=null!==a?a.start*d:0,x=null!==a?a.count*d:1/0,M=Math.max(v,_),E=Math.min(m,v+y,_+x)-1,S=Math.max(0,E-M+1);if(0!==S){if(r.isMesh)!0===n.wireframe?(g.setLineWidth(n.wireframeLinewidth*st()),p.setMode(1)):p.setMode(4);else if(r.isLine){var A=n.linewidth;void 0===A&&(A=1),g.setLineWidth(A*st()),r.isLineSegments?p.setMode(1):r.isLineLoop?p.setMode(2):p.setMode(3)}else r.isPoints?p.setMode(0):r.isSprite&&p.setMode(4);r.isInstancedMesh?p.renderInstances(i,M,S,r.count):i.isInstancedBufferGeometry?p.renderInstances(i,M,S,i.maxInstancedCount):p.render(M,S)}},this.compile=function(t,e){d=A.get(t,e),d.init(),t.traverse((function(t){t.isLight&&(d.pushLight(t),t.castShadow&&d.pushShadow(t))})),d.setupLights(e);var i={};t.traverse((function(e){if(e.material)if(Array.isArray(e.material))for(var n=0;n<e.material.length;n++)e.material[n].uuid in i===!1&&(Lt(e.material[n],t,e),i[e.material[n].uuid]=!0);else e.material.uuid in i===!1&&(Lt(e.material,t,e),i[e.material.uuid]=!0)}))};var bt=null;function wt(t){ut.isPresenting||bt&&bt(t)}var Mt=new na;function At(t,e,i,n){if(!1!==t.visible){var r=t.layers.test(e.layers);if(r)if(t.isGroup)i=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)d.pushLight(t),t.castShadow&&d.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||et.intersectsSprite(t)){n&&ot.setFromMatrixPosition(t.matrixWorld).applyMatrix4(at);var a=M.update(t),o=t.material;o.visible&&h.push(t,a,o,i,ot.z,null)}}else if(t.isImmediateRenderObject)n&&ot.setFromMatrixPosition(t.matrixWorld).applyMatrix4(at),h.push(t,null,t.material,i,ot.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==y.render.frame&&(t.skeleton.update(),t.skeleton.frame=y.render.frame),!t.frustumCulled||et.intersectsObject(t))){n&&ot.setFromMatrixPosition(t.matrixWorld).applyMatrix4(at);a=M.update(t),o=t.material;if(Array.isArray(o))for(var s=a.groups,c=0,l=s.length;c<l;c++){var u=s[c],p=o[u.materialIndex];p&&p.visible&&h.push(t,a,p,i,ot.z,u)}else o.visible&&h.push(t,a,o,i,ot.z,null)}var f=t.children;for(c=0,l=f.length;c<l;c++)At(f[c],e,i,n)}}function Tt(t,e,i,n){for(var r=0,a=t.length;r<a;r++){var o=t[r],s=o.object,c=o.geometry,l=void 0===n?o.material:n,u=o.group;if(i.isArrayCamera){H=i;for(var h=i.cameras,p=0,f=h.length;p<f;p++){var m=h[p];s.layers.test(m.layers)&&(g.viewport(V.copy(m.viewport)),d.setupLights(m),Ct(s,e,m,c,l,u))}}else H=null,Ct(s,e,i,c,l,u)}}function Ct(t,e,i,n,r,a){if(t.onBeforeRender(I,e,i,n,r,a),d=A.get(e,H||i),t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){var o=Rt(i,e,r,t);g.setMaterial(r),G.geometry=null,G.program=null,G.wireframe=!1,gt(t,o)}else I.renderBufferDirect(i,e,n,r,t,a);t.onAfterRender(I,e,i,n,r,a),d=A.get(e,H||i)}function Lt(t,e,i){var n=_.get(t),r=d.state.lights,a=d.state.shadowsArray,o=r.state.version,s=E.getParameters(t,r.state,a,e,it.numPlanes,it.numIntersection,i),c=E.getProgramCacheKey(s),l=n.program,u=!0;if(void 0===l)t.addEventListener("dispose",ft);else if(l.cacheKey!==c)vt(t);else if(n.lightsStateVersion!==o)n.lightsStateVersion=o,u=!1;else{if(void 0!==s.shaderID)return;u=!1}u&&(l=E.acquireProgram(s,c),n.program=l,n.uniforms=s.uniforms,n.outputEncoding=s.outputEncoding,t.program=l);var h=l.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var p=0;p<I.maxMorphTargets;p++)h["morphTarget"+p]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(p=0;p<I.maxMorphNormals;p++)h["morphNormal"+p]>=0&&t.numSupportedMorphNormals++}var f=n.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(n.numClippingPlanes=it.numPlanes,n.numIntersection=it.numIntersection,f.clippingPlanes=it.uniform),n.environment=t.isMeshStandardMaterial?e.environment:null,n.fog=e.fog,n.needsLights=Zt(t),n.lightsStateVersion=o,n.needsLights&&(f.ambientLightColor.value=r.state.ambient,f.lightProbe.value=r.state.probe,f.directionalLights.value=r.state.directional,f.directionalLightShadows.value=r.state.directionalShadow,f.spotLights.value=r.state.spot,f.spotLightShadows.value=r.state.spotShadow,f.rectAreaLights.value=r.state.rectArea,f.pointLights.value=r.state.point,f.pointLightShadows.value=r.state.pointShadow,f.hemisphereLights.value=r.state.hemi,f.directionalShadowMap.value=r.state.directionalShadowMap,f.directionalShadowMatrix.value=r.state.directionalShadowMatrix,f.spotShadowMap.value=r.state.spotShadowMap,f.spotShadowMatrix.value=r.state.spotShadowMatrix,f.pointShadowMap.value=r.state.pointShadowMap,f.pointShadowMatrix.value=r.state.pointShadowMatrix);var m=n.program.getUniforms(),v=Bc.seqWithValue(m.seq,f);n.uniformsList=v}function Rt(t,e,i,n){x.resetTextureUnits();var r=e.fog,a=i.isMeshStandardMaterial?e.environment:null,o=null===z?I.outputEncoding:z.texture.encoding,s=_.get(i),c=d.state.lights;if(nt&&(rt||t!==k)){var l=t===k&&i.id===B;it.setState(i.clippingPlanes,i.clipIntersection,i.clipShadows,t,s,l)}i.version===s.__version?void 0===s.program||i.fog&&s.fog!==r||s.environment!==a||s.needsLights&&s.lightsStateVersion!==c.state.version?Lt(i,e,n):void 0===s.numClippingPlanes||s.numClippingPlanes===it.numPlanes&&s.numIntersection===it.numIntersection?s.outputEncoding!==o&&Lt(i,e,n):Lt(i,e,n):(Lt(i,e,n),s.__version=i.version);var u=!1,h=!1,p=!1,m=s.program,y=m.getUniforms(),b=s.uniforms;if(g.useProgram(m.program)&&(u=!0,h=!0,p=!0),i.id!==B&&(B=i.id,h=!0),u||k!==t){if(y.setValue(f,"projectionMatrix",t.projectionMatrix),v.logarithmicDepthBuffer&&y.setValue(f,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),k!==t&&(k=t,h=!0,p=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshStandardMaterial||i.envMap){var w=y.map.cameraPosition;void 0!==w&&w.setValue(f,ot.setFromMatrixPosition(t.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial)&&y.setValue(f,"isOrthographic",!0===t.isOrthographicCamera),(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.skinning)&&y.setValue(f,"viewMatrix",t.matrixWorldInverse)}if(i.skinning){y.setOptional(f,n,"bindMatrix"),y.setOptional(f,n,"bindMatrixInverse");var M=n.skeleton;if(M){var E=M.bones;if(v.floatVertexTextures){if(void 0===M.boneTexture){var S=Math.sqrt(4*E.length);S=ci.ceilPowerOfTwo(S),S=Math.max(S,4);var A=new Float32Array(S*S*4);A.set(M.boneMatrices);var T=new Kr(A,S,S,It,Et);M.boneMatrices=A,M.boneTexture=T,M.boneTextureSize=S}y.setValue(f,"boneTexture",M.boneTexture,x),y.setValue(f,"boneTextureSize",M.boneTextureSize)}else y.setOptional(f,M,"boneMatrices")}}return(h||s.receiveShadow!==n.receiveShadow)&&(s.receiveShadow=n.receiveShadow,y.setValue(f,"receiveShadow",n.receiveShadow)),h&&(y.setValue(f,"toneMappingExposure",I.toneMappingExposure),y.setValue(f,"toneMappingWhitePoint",I.toneMappingWhitePoint),s.needsLights&&Yt(b,p),r&&i.fog&&zt(b,r),i.isMeshBasicMaterial?Pt(b,i):i.isMeshLambertMaterial?(Pt(b,i),Ft(b,i)):i.isMeshToonMaterial?(Pt(b,i),Gt(b,i)):i.isMeshPhongMaterial?(Pt(b,i),Bt(b,i)):i.isMeshStandardMaterial?(Pt(b,i,a),i.isMeshPhysicalMaterial?Ht(b,i,a):kt(b,i,a)):i.isMeshMatcapMaterial?(Pt(b,i),Vt(b,i)):i.isMeshDepthMaterial?(Pt(b,i),jt(b,i)):i.isMeshDistanceMaterial?(Pt(b,i),Wt(b,i)):i.isMeshNormalMaterial?(Pt(b,i),Xt(b,i)):i.isLineBasicMaterial?(Ot(b,i),i.isLineDashedMaterial&&Ut(b,i)):i.isPointsMaterial?Dt(b,i):i.isSpriteMaterial?Nt(b,i):i.isShadowMaterial&&(b.color.value.copy(i.color),b.opacity.value=i.opacity),void 0!==b.ltc_1&&(b.ltc_1.value=ia.LTC_1),void 0!==b.ltc_2&&(b.ltc_2.value=ia.LTC_2),Bc.upload(f,s.uniformsList,b,x),i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)),i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(Bc.upload(f,s.uniformsList,b,x),i.uniformsNeedUpdate=!1),i.isSpriteMaterial&&y.setValue(f,"center",n.center),y.setValue(f,"modelViewMatrix",n.modelViewMatrix),y.setValue(f,"normalMatrix",n.normalMatrix),y.setValue(f,"modelMatrix",n.matrixWorld),m}function Pt(t,e,i){t.opacity.value=e.opacity,e.color&&t.diffuse.value.copy(e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap);var n,r,a=e.envMap||i;a&&(t.envMap.value=a,t.flipEnvMap.value=a.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=_.get(a).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix)),e.aoMap?r=e.aoMap:e.lightMap&&(r=e.lightMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uv2Transform.value.copy(r.matrix))}function Ot(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}function Ut(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function Dt(t,e){var i;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*Z,t.scale.value=.5*Y,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?i=e.map:e.alphaMap&&(i=e.alphaMap),void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix))}function Nt(t,e){var i;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?i=e.map:e.alphaMap&&(i=e.alphaMap),void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix))}function zt(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}function Ft(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}function Bt(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===p&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===p&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function Gt(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.gradientMap&&(t.gradientMap.value=e.gradientMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===p&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===p&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function kt(t,e,i){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===p&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===p&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),(e.envMap||i)&&(t.envMapIntensity.value=e.envMapIntensity)}function Ht(t,e,i){kt(t,e,i),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen),e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,e.side===p&&t.clearcoatNormalScale.value.negate()),t.transparency.value=e.transparency}function Vt(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===p&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===p&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function jt(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function Wt(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}function Xt(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===p&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===p&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function Yt(t,e){t.ambientLightColor.needsUpdate=e,t.lightProbe.needsUpdate=e,t.directionalLights.needsUpdate=e,t.directionalLightShadows.needsUpdate=e,t.pointLights.needsUpdate=e,t.pointLightShadows.needsUpdate=e,t.spotLights.needsUpdate=e,t.spotLightShadows.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function Zt(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}Mt.setAnimationLoop(wt),"undefined"!==typeof window&&Mt.setContext(window),this.setAnimationLoop=function(t){bt=t,ut.setAnimationLoop(t),Mt.start()},this.render=function(t,e){var i,n;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),i=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),n=arguments[3]),e&&e.isCamera){if(!O){G.geometry=null,G.program=null,G.wireframe=!1,B=-1,k=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),ut.enabled&&ut.isPresenting&&(e=ut.getCamera(e)),t.onBeforeRender(I,t,e,i||z),d=A.get(t,e),d.init(),at.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),et.setFromProjectionMatrix(at),rt=this.localClippingEnabled,nt=it.init(this.clippingPlanes,rt,e),h=S.get(t,e),h.init(),At(t,e,0,I.sortObjects),h.finish(),!0===I.sortObjects&&h.sort(J,Q),nt&&it.beginShadows();var r=d.state.shadowsArray;ht.render(r,t,e),d.setupLights(e),nt&&it.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==i&&this.setRenderTarget(i),T.render(h,t,e,n);var a=h.opaque,o=h.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;a.length&&Tt(a,t,e,s),o.length&&Tt(o,t,e,s)}else a.length&&Tt(a,t,e),o.length&&Tt(o,t,e);t.onAfterRender(I,t,e),null!==z&&(x.updateRenderTargetMipmap(z),x.updateMultisampleRenderTarget(z)),g.buffers.depth.setTest(!0),g.buffers.depth.setMask(!0),g.buffers.color.setMask(!0),g.setPolygonOffset(!1),h=null,d=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(t){U!==t&&null===z&&f.bindFramebuffer(36160,t),U=t},this.getActiveCubeFace=function(){return D},this.getActiveMipmapLevel=function(){return N},this.getRenderTarget=function(){return z},this.setRenderTarget=function(t,e,i){z=t,D=e,N=i,t&&void 0===_.get(t).__webglFramebuffer&&x.setupRenderTarget(t);var n=U,r=!1;if(t){var a=_.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(n=a[e||0],r=!0):n=t.isWebGLMultisampleRenderTarget?_.get(t).__webglMultisampledFramebuffer:a,V.copy(t.viewport),j.copy(t.scissor),W=t.scissorTest}else V.copy(K).multiplyScalar(Z).floor(),j.copy($).multiplyScalar(Z).floor(),W=tt;if(F!==n&&(f.bindFramebuffer(36160,n),F=n),g.viewport(V),g.scissor(j),g.setScissorTest(W),r){var o=_.get(t.texture);f.framebufferTexture2D(36160,36064,34069+(e||0),o.__webglTexture,i||0)}},this.readRenderTargetPixels=function(t,e,i,n,r,a,o){if(t&&t.isWebGLRenderTarget){var s=_.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){var c=!1;s!==F&&(f.bindFramebuffer(36160,s),c=!0);try{var l=t.texture,u=l.format,h=l.type;if(u!==It&&P.convert(u)!==f.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(h!==yt&&P.convert(h)!==f.getParameter(35738)&&(h!==Et||!(v.isWebGL2||m.get("OES_texture_float")||m.get("WEBGL_color_buffer_float")))&&(h!==St||!(v.isWebGL2?m.get("EXT_color_buffer_float"):m.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===f.checkFramebufferStatus(36160)?e>=0&&e<=t.width-n&&i>=0&&i<=t.height-r&&f.readPixels(e,i,n,r,P.convert(u),P.convert(h),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{c&&f.bindFramebuffer(36160,F)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e,i){void 0===i&&(i=0);var n=Math.pow(2,-i),r=Math.floor(e.image.width*n),a=Math.floor(e.image.height*n),o=P.convert(e.format);x.setTexture2D(e,0),f.copyTexImage2D(3553,i,o,t.x,t.y,r,a,0),g.unbindTexture()},this.copyTextureToTexture=function(t,e,i,n){void 0===n&&(n=0);var r=e.image.width,a=e.image.height,o=P.convert(i.format),s=P.convert(i.type);x.setTexture2D(i,0),e.isDataTexture?f.texSubImage2D(3553,n,t.x,t.y,r,a,o,s,e.image.data):e.isCompressedTexture?f.compressedTexSubImage2D(3553,n,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,o,e.mipmaps[0].data):f.texSubImage2D(3553,n,t.x,t.y,o,s,e.image),0===n&&i.generateMipmaps&&f.generateMipmap(3553),g.unbindTexture()},this.initTexture=function(t){x.setTexture2D(t,0),g.unbindTexture()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Gl(t,e){this.name="",this.color=new Fn(t),this.density=void 0!==e?e:25e-5}function kl(t,e,i){this.name="",this.color=new Fn(t),this.near=void 0!==e?e:1,this.far=void 0!==i?i:1e3}function Hl(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=ii,this.updateRange={offset:0,count:-1},this.version=0}Dl.prototype=Object.assign(Object.create(Yr.prototype),{constructor:Dl,isArrayCamera:!0}),Nl.prototype=Object.assign(Object.create(Xi.prototype),{constructor:Nl,isGroup:!0}),Object.assign(zl.prototype,{constructor:zl,getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Nl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Nl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),this},update:function(t,e,i){var n=null,r=null,a=this._targetRay,o=this._grip;return t&&(null!==a&&(n=e.getPose(t.targetRaySpace,i),null!==n&&(a.matrix.fromArray(n.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale))),null!==o&&t.gripSpace&&(r=e.getPose(t.gripSpace,i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale)))),null!==a&&(a.visible=null!==n),null!==o&&(o.visible=null!==r),this}}),Object.assign(Fl.prototype,ri.prototype),Object.assign(Gl.prototype,{isFogExp2:!0,clone:function(){return new Gl(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(kl.prototype,{isFog:!0,clone:function(){return new kl(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(Hl.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Hl.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this},copyAt:function(t,e,i){t*=this.stride,i*=e.stride;for(var n=0,r=this.stride;n<r;n++)this.array[t+n]=e.array[i+n];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}});var Vl,jl=new xi;function Wl(t,e,i,n){this.data=t,this.itemSize=e,this.offset=i,this.normalized=!0===n}function Xl(t){jn.call(this),this.type="SpriteMaterial",this.color=new Fn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}Object.defineProperties(Wl.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Wl.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(var e=0,i=this.data.count;e<i;e++)jl.x=this.getX(e),jl.y=this.getY(e),jl.z=this.getZ(e),jl.applyMatrix4(t),this.setXYZ(e,jl.x,jl.y,jl.z);return this},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this},setXYZ:function(t,e,i,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=n,this},setXYZW:function(t,e,i,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=n,this.data.array[t+3]=r,this}}),Xl.prototype=Object.create(jn.prototype),Xl.prototype.constructor=Xl,Xl.prototype.isSpriteMaterial=!0,Xl.prototype.copy=function(t){return jn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this};var Yl=new xi,Zl=new xi,ql=new xi,Jl=new li,Ql=new li,Kl=new Ci,$l=new xi,tu=new xi,eu=new xi,iu=new li,nu=new li,ru=new li;function au(t){if(Xi.call(this),this.type="Sprite",void 0===Vl){Vl=new dr;var e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Hl(e,5);Vl.setIndex([0,1,2,0,2,3]),Vl.setAttribute("position",new Wl(i,3,0,!1)),Vl.setAttribute("uv",new Wl(i,2,3,!1))}this.geometry=Vl,this.material=void 0!==t?t:new Xl,this.center=new li(.5,.5)}function ou(t,e,i,n,r,a){Jl.subVectors(t,i).addScalar(.5).multiply(n),void 0!==r?(Ql.x=a*Jl.x-r*Jl.y,Ql.y=r*Jl.x+a*Jl.y):Ql.copy(Jl),t.copy(e),t.x+=Ql.x,t.y+=Ql.y,t.applyMatrix4(Kl)}au.prototype=Object.assign(Object.create(Xi.prototype),{constructor:au,isSprite:!0,raycast:function(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Zl.setFromMatrixScale(this.matrixWorld),Kl.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),ql.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Zl.multiplyScalar(-ql.z);var i,n,r=this.material.rotation;0!==r&&(n=Math.cos(r),i=Math.sin(r));var a=this.center;ou($l.set(-.5,-.5,0),ql,a,Zl,i,n),ou(tu.set(.5,-.5,0),ql,a,Zl,i,n),ou(eu.set(.5,.5,0),ql,a,Zl,i,n),iu.set(0,0),nu.set(1,0),ru.set(1,1);var o=t.ray.intersectTriangle($l,tu,eu,!1,Yl);if(null!==o||(ou(tu.set(-.5,.5,0),ql,a,Zl,i,n),nu.set(0,1),o=t.ray.intersectTriangle($l,eu,tu,!1,Yl),null!==o)){var s=t.ray.origin.distanceTo(Yl);s<t.near||s>t.far||e.push({distance:s,point:Yl.clone(),uv:Un.getUV(Yl,$l,tu,eu,iu,nu,ru,new li),face:null,object:this})}},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return Xi.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this}});var su=new xi,cu=new xi;function lu(){Xi.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function uu(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Rr.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ci,this.bindMatrixInverse=new Ci}lu.prototype=Object.assign(Object.create(Xi.prototype),{constructor:lu,isLOD:!0,copy:function(t){Xi.prototype.copy.call(this,t,!1);for(var e=t.levels,i=0,n=e.length;i<n;i++){var r=e[i];this.addLevel(r.object.clone(),r.distance)}return this.autoUpdate=t.autoUpdate,this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var i=this.levels,n=0;n<i.length;n++)if(e<i[n].distance)break;return i.splice(n,0,{distance:e,object:t}),this.add(t),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(t){var e=this.levels;if(e.length>0){for(var i=1,n=e.length;i<n;i++)if(t<e[i].distance)break;return e[i-1].object}return null},raycast:function(t,e){var i=this.levels;if(i.length>0){su.setFromMatrixPosition(this.matrixWorld);var n=t.ray.origin.distanceTo(su);this.getObjectForDistance(n).raycast(t,e)}},update:function(t){var e=this.levels;if(e.length>1){su.setFromMatrixPosition(t.matrixWorld),cu.setFromMatrixPosition(this.matrixWorld);var i=su.distanceTo(cu)/t.zoom;e[0].object.visible=!0;for(var n=1,r=e.length;n<r;n++){if(!(i>=e[n].distance))break;e[n-1].object.visible=!1,e[n].object.visible=!0}for(this._currentLevel=n-1;n<r;n++)e[n].object.visible=!1}},toJSON:function(t){var e=Xi.prototype.toJSON.call(this,t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];for(var i=this.levels,n=0,r=i.length;n<r;n++){var a=i[n];e.object.levels.push({object:a.object.uuid,distance:a.distance})}return e}}),uu.prototype=Object.assign(Object.create(Rr.prototype),{constructor:uu,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new fi,e=this.geometry.attributes.skinWeight,i=0,n=e.count;i<n;i++){t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.w=e.getW(i);var r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){Rr.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)},boneTransform:function(){var t=new xi,e=new fi,i=new fi,n=new xi,r=new Ci;return function(a,o){var s=this.skeleton,c=this.geometry;e.fromBufferAttribute(c.attributes.skinIndex,a),i.fromBufferAttribute(c.attributes.skinWeight,a),t.fromBufferAttribute(c.attributes.position,a).applyMatrix4(this.bindMatrix),o.set(0,0,0);for(var l=0;l<4;l++){var u=i.getComponent(l);if(0!==u){var h=e.getComponent(l);r.multiplyMatrices(s.bones[h].matrixWorld,s.boneInverses[h]),o.addScaledVector(n.copy(t).applyMatrix4(r),u)}}return o.applyMatrix4(this.bindMatrixInverse)}}()});var hu=new Ci,du=new Ci;function pu(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var i=0,n=this.bones.length;i<n;i++)this.boneInverses.push(new Ci)}}function fu(){Xi.call(this),this.type="Bone"}Object.assign(pu.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var i=new Ci;this.bones[t]&&i.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(i)}},pose:function(){var t,e,i;for(e=0,i=this.bones.length;e<i;e++)t=this.bones[e],t&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,i=this.bones.length;e<i;e++)t=this.bones[e],t&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){for(var t=this.bones,e=this.boneInverses,i=this.boneMatrices,n=this.boneTexture,r=0,a=t.length;r<a;r++){var o=t[r]?t[r].matrixWorld:du;hu.multiplyMatrices(o,e[r]),hu.toArray(i,16*r)}void 0!==n&&(n.needsUpdate=!0)},clone:function(){return new pu(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,i=this.bones.length;e<i;e++){var n=this.bones[e];if(n.name===t)return n}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),fu.prototype=Object.assign(Object.create(Xi.prototype),{constructor:fu,isBone:!0});var mu=new Ci,vu=new Ci,gu=[],yu=new Rr;function _u(t,e,i){Rr.call(this,t,e),this.instanceMatrix=new Yn(new Float32Array(16*i),16),this.count=i,this.frustumCulled=!1}function xu(t){jn.call(this),this.type="LineBasicMaterial",this.color=new Fn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(t)}_u.prototype=Object.assign(Object.create(Rr.prototype),{constructor:_u,isInstancedMesh:!0,getMatrixAt:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)},raycast:function(t,e){var i=this.matrixWorld,n=this.count;if(yu.geometry=this.geometry,yu.material=this.material,void 0!==yu.material)for(var r=0;r<n;r++){this.getMatrixAt(r,mu),vu.multiplyMatrices(i,mu),yu.matrixWorld=vu,yu.raycast(t,gu);for(var a=0,o=gu.length;a<o;a++){var s=gu[a];s.instanceId=r,s.object=this,e.push(s)}gu.length=0}},setMatrixAt:function(t,e){e.toArray(this.instanceMatrix.array,16*t)},updateMorphTargets:function(){}}),xu.prototype=Object.create(jn.prototype),xu.prototype.constructor=xu,xu.prototype.isLineBasicMaterial=!0,xu.prototype.copy=function(t){return jn.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this};var bu=new xi,wu=new xi,Mu=new Ci,Eu=new _n,Su=new hn;function Au(t,e,i){1===i&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Xi.call(this),this.type="Line",this.geometry=void 0!==t?t:new dr,this.material=void 0!==e?e:new xu}Au.prototype=Object.assign(Object.create(Xi.prototype),{constructor:Au,isLine:!0,computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,i=[0],n=1,r=e.count;n<r;n++)bu.fromBufferAttribute(e,n-1),wu.fromBufferAttribute(e,n),i[n]=i[n-1],i[n]+=bu.distanceTo(wu);t.setAttribute("lineDistance",new er(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){var a=t.vertices;i=t.lineDistances;i[0]=0;for(n=1,r=a.length;n<r;n++)i[n]=i[n-1],i[n]+=a[n-1].distanceTo(a[n])}return this},raycast:function(t,e){var i=this.geometry,n=this.matrixWorld,r=t.params.Line.threshold;if(null===i.boundingSphere&&i.computeBoundingSphere(),Su.copy(i.boundingSphere),Su.applyMatrix4(n),Su.radius+=r,!1!==t.ray.intersectsSphere(Su)){Mu.getInverse(n),Eu.copy(t.ray).applyMatrix4(Mu);var a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,s=new xi,c=new xi,l=new xi,u=new xi,h=this&&this.isLineSegments?2:1;if(i.isBufferGeometry){var d=i.index,p=i.attributes,f=p.position.array;if(null!==d)for(var m=d.array,v=0,g=m.length-1;v<g;v+=h){var y=m[v],_=m[v+1];s.fromArray(f,3*y),c.fromArray(f,3*_);var x=Eu.distanceSqToSegment(s,c,u,l);if(!(x>o)){u.applyMatrix4(this.matrixWorld);var b=t.ray.origin.distanceTo(u);b<t.near||b>t.far||e.push({distance:b,point:l.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else for(v=0,g=f.length/3-1;v<g;v+=h){s.fromArray(f,3*v),c.fromArray(f,3*v+3);x=Eu.distanceSqToSegment(s,c,u,l);if(!(x>o)){u.applyMatrix4(this.matrixWorld);b=t.ray.origin.distanceTo(u);b<t.near||b>t.far||e.push({distance:b,point:l.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}}else if(i.isGeometry){var w=i.vertices,M=w.length;for(v=0;v<M-1;v+=h){x=Eu.distanceSqToSegment(w[v],w[v+1],u,l);if(!(x>o)){u.applyMatrix4(this.matrixWorld);b=t.ray.origin.distanceTo(u);b<t.near||b>t.far||e.push({distance:b,point:l.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Tu=new xi,Cu=new xi;function Lu(t,e){Au.call(this,t,e),this.type="LineSegments"}function Ru(t,e){Au.call(this,t,e),this.type="LineLoop"}function Pu(t){jn.call(this),this.type="PointsMaterial",this.color=new Fn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(t)}Lu.prototype=Object.assign(Object.create(Au.prototype),{constructor:Lu,isLineSegments:!0,computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,i=[],n=0,r=e.count;n<r;n+=2)Tu.fromBufferAttribute(e,n),Cu.fromBufferAttribute(e,n+1),i[n]=0===n?0:i[n-1],i[n+1]=i[n]+Tu.distanceTo(Cu);t.setAttribute("lineDistance",new er(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){var a=t.vertices;for(i=t.lineDistances,n=0,r=a.length;n<r;n+=2)Tu.copy(a[n]),Cu.copy(a[n+1]),i[n]=0===n?0:i[n-1],i[n+1]=i[n]+Tu.distanceTo(Cu)}return this}}),Ru.prototype=Object.assign(Object.create(Au.prototype),{constructor:Ru,isLineLoop:!0}),Pu.prototype=Object.create(jn.prototype),Pu.prototype.constructor=Pu,Pu.prototype.isPointsMaterial=!0,Pu.prototype.copy=function(t){return jn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this};var Iu=new Ci,Ou=new _n,Uu=new hn,Du=new xi;function Nu(t,e){Xi.call(this),this.type="Points",this.geometry=void 0!==t?t:new dr,this.material=void 0!==e?e:new Pu,this.updateMorphTargets()}function zu(t,e,i,n,r,a,o){var s=Ou.distanceSqToPoint(t);if(s<i){var c=new xi;Ou.closestPointToPoint(t,c),c.applyMatrix4(n);var l=r.ray.origin.distanceTo(c);if(l<r.near||l>r.far)return;a.push({distance:l,distanceToRay:Math.sqrt(s),point:c,index:e,face:null,object:o})}}function Fu(t,e,i,n,r,a,o,s,c){pi.call(this,t,e,i,n,r,a,o,s,c),this.format=void 0!==o?o:Pt,this.minFilter=void 0!==a?a:mt,this.magFilter=void 0!==r?r:mt,this.generateMipmaps=!1}function Bu(t,e,i,n,r,a,o,s,c,l,u,h){pi.call(this,null,a,o,s,c,l,n,r,u,h),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Gu(t,e,i,n,r,a,o,s,c){pi.call(this,t,e,i,n,r,a,o,s,c),this.needsUpdate=!0}function ku(t,e,i,n,r,a,o,s,c,l){if(l=void 0!==l?l:Nt,l!==Nt&&l!==zt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&l===Nt&&(i=bt),void 0===i&&l===zt&&(i=Lt),pi.call(this,null,n,r,a,o,s,l,i,c),this.image={width:t,height:e},this.magFilter=void 0!==o?o:dt,this.minFilter=void 0!==s?s:dt,this.flipY=!1,this.generateMipmaps=!1}function Hu(t){dr.call(this),this.type="WireframeGeometry";var e,i,n,r,a,o,s,c,l,u,h=[],d=[0,0],p={},f=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(e=0,n=m.length;e<n;e++){var v=m[e];for(i=0;i<3;i++)s=v[f[i]],c=v[f[(i+1)%3]],d[0]=Math.min(s,c),d[1]=Math.max(s,c),l=d[0]+","+d[1],void 0===p[l]&&(p[l]={index1:d[0],index2:d[1]})}for(l in p)o=p[l],u=t.vertices[o.index1],h.push(u.x,u.y,u.z),u=t.vertices[o.index2],h.push(u.x,u.y,u.z)}else if(t&&t.isBufferGeometry){var g,y,_,x,b,w,M,E;if(u=new xi,null!==t.index){for(g=t.attributes.position,y=t.index,_=t.groups,0===_.length&&(_=[{start:0,count:y.count,materialIndex:0}]),r=0,a=_.length;r<a;++r)for(x=_[r],b=x.start,w=x.count,e=b,n=b+w;e<n;e+=3)for(i=0;i<3;i++)s=y.getX(e+i),c=y.getX(e+(i+1)%3),d[0]=Math.min(s,c),d[1]=Math.max(s,c),l=d[0]+","+d[1],void 0===p[l]&&(p[l]={index1:d[0],index2:d[1]});for(l in p)o=p[l],u.fromBufferAttribute(g,o.index1),h.push(u.x,u.y,u.z),u.fromBufferAttribute(g,o.index2),h.push(u.x,u.y,u.z)}else for(g=t.attributes.position,e=0,n=g.count/3;e<n;e++)for(i=0;i<3;i++)M=3*e+i,u.fromBufferAttribute(g,M),h.push(u.x,u.y,u.z),E=3*e+(i+1)%3,u.fromBufferAttribute(g,E),h.push(u.x,u.y,u.z)}this.setAttribute("position",new er(h,3))}function Vu(t,e,i){zr.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:i},this.fromBufferGeometry(new ju(t,e,i)),this.mergeVertices()}function ju(t,e,i){dr.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:i};var n,r,a=[],o=[],s=[],c=[],l=1e-5,u=new xi,h=new xi,d=new xi,p=new xi,f=new xi;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var m=e+1;for(n=0;n<=i;n++){var v=n/i;for(r=0;r<=e;r++){var g=r/e;t(g,v,h),o.push(h.x,h.y,h.z),g-l>=0?(t(g-l,v,d),p.subVectors(h,d)):(t(g+l,v,d),p.subVectors(d,h)),v-l>=0?(t(g,v-l,d),f.subVectors(h,d)):(t(g,v+l,d),f.subVectors(d,h)),u.crossVectors(p,f).normalize(),s.push(u.x,u.y,u.z),c.push(g,v)}}for(n=0;n<i;n++)for(r=0;r<e;r++){var y=n*m+r,_=n*m+r+1,x=(n+1)*m+r+1,b=(n+1)*m+r;a.push(y,_,b),a.push(_,x,b)}this.setIndex(a),this.setAttribute("position",new er(o,3)),this.setAttribute("normal",new er(s,3)),this.setAttribute("uv",new er(c,2))}function Wu(t,e,i,n){zr.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:n},this.fromBufferGeometry(new Xu(t,e,i,n)),this.mergeVertices()}function Xu(t,e,i,n){dr.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:n},i=i||1,n=n||0;var r=[],a=[];function o(t){for(var i=new xi,n=new xi,r=new xi,a=0;a<e.length;a+=3)d(e[a+0],i),d(e[a+1],n),d(e[a+2],r),s(i,n,r,t)}function s(t,e,i,n){var r,a,o=Math.pow(2,n),s=[];for(r=0;r<=o;r++){s[r]=[];var c=t.clone().lerp(i,r/o),l=e.clone().lerp(i,r/o),u=o-r;for(a=0;a<=u;a++)s[r][a]=0===a&&r===o?c:c.clone().lerp(l,a/u)}for(r=0;r<o;r++)for(a=0;a<2*(o-r)-1;a++){var d=Math.floor(a/2);a%2===0?(h(s[r][d+1]),h(s[r+1][d]),h(s[r][d])):(h(s[r][d+1]),h(s[r+1][d+1]),h(s[r+1][d]))}}function c(t){for(var e=new xi,i=0;i<r.length;i+=3)e.x=r[i+0],e.y=r[i+1],e.z=r[i+2],e.normalize().multiplyScalar(t),r[i+0]=e.x,r[i+1]=e.y,r[i+2]=e.z}function l(){for(var t=new xi,e=0;e<r.length;e+=3){t.x=r[e+0],t.y=r[e+1],t.z=r[e+2];var i=m(t)/2/Math.PI+.5,n=v(t)/Math.PI+.5;a.push(i,1-n)}p(),u()}function u(){for(var t=0;t<a.length;t+=6){var e=a[t+0],i=a[t+2],n=a[t+4],r=Math.max(e,i,n),o=Math.min(e,i,n);r>.9&&o<.1&&(e<.2&&(a[t+0]+=1),i<.2&&(a[t+2]+=1),n<.2&&(a[t+4]+=1))}}function h(t){r.push(t.x,t.y,t.z)}function d(e,i){var n=3*e;i.x=t[n+0],i.y=t[n+1],i.z=t[n+2]}function p(){for(var t=new xi,e=new xi,i=new xi,n=new xi,o=new li,s=new li,c=new li,l=0,u=0;l<r.length;l+=9,u+=6){t.set(r[l+0],r[l+1],r[l+2]),e.set(r[l+3],r[l+4],r[l+5]),i.set(r[l+6],r[l+7],r[l+8]),o.set(a[u+0],a[u+1]),s.set(a[u+2],a[u+3]),c.set(a[u+4],a[u+5]),n.copy(t).add(e).add(i).divideScalar(3);var h=m(n);f(o,u+0,t,h),f(s,u+2,e,h),f(c,u+4,i,h)}}function f(t,e,i,n){n<0&&1===t.x&&(a[e]=t.x-1),0===i.x&&0===i.z&&(a[e]=n/2/Math.PI+.5)}function m(t){return Math.atan2(t.z,-t.x)}function v(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}o(n),c(i),l(),this.setAttribute("position",new er(r,3)),this.setAttribute("normal",new er(r.slice(),3)),this.setAttribute("uv",new er(a,2)),0===n?this.computeVertexNormals():this.normalizeNormals()}function Yu(t,e){zr.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Zu(t,e)),this.mergeVertices()}function Zu(t,e){var i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],n=[2,1,0,0,3,2,1,3,0,2,3,1];Xu.call(this,i,n,t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function qu(t,e){zr.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ju(t,e)),this.mergeVertices()}function Ju(t,e){var i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],n=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];Xu.call(this,i,n,t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Qu(t,e){zr.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ku(t,e)),this.mergeVertices()}function Ku(t,e){var i=(1+Math.sqrt(5))/2,n=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];Xu.call(this,n,r,t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function $u(t,e){zr.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new th(t,e)),this.mergeVertices()}function th(t,e){var i=(1+Math.sqrt(5))/2,n=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-i,0,-n,i,0,n,-i,0,n,i,-n,-i,0,-n,i,0,n,-i,0,n,i,0,-i,0,-n,i,0,-n,-i,0,n,i,0,n],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];Xu.call(this,r,a,t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function eh(t,e,i,n,r,a){zr.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:n,closed:r},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed.");var o=new ih(t,e,i,n,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function ih(t,e,i,n,r){dr.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:n,closed:r},e=e||64,i=i||1,n=n||8,r=r||!1;var a=t.computeFrenetFrames(e,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var o,s,c=new xi,l=new xi,u=new li,h=new xi,d=[],p=[],f=[],m=[];function v(){for(o=0;o<e;o++)g(o);g(!1===r?e:0),_(),y()}function g(r){h=t.getPointAt(r/e,h);var o=a.normals[r],u=a.binormals[r];for(s=0;s<=n;s++){var f=s/n*Math.PI*2,m=Math.sin(f),v=-Math.cos(f);l.x=v*o.x+m*u.x,l.y=v*o.y+m*u.y,l.z=v*o.z+m*u.z,l.normalize(),p.push(l.x,l.y,l.z),c.x=h.x+i*l.x,c.y=h.y+i*l.y,c.z=h.z+i*l.z,d.push(c.x,c.y,c.z)}}function y(){for(s=1;s<=e;s++)for(o=1;o<=n;o++){var t=(n+1)*(s-1)+(o-1),i=(n+1)*s+(o-1),r=(n+1)*s+o,a=(n+1)*(s-1)+o;m.push(t,i,a),m.push(i,r,a)}}function _(){for(o=0;o<=e;o++)for(s=0;s<=n;s++)u.x=o/e,u.y=s/n,f.push(u.x,u.y)}v(),this.setIndex(m),this.setAttribute("position",new er(d,3)),this.setAttribute("normal",new er(p,3)),this.setAttribute("uv",new er(f,2))}function nh(t,e,i,n,r,a,o){zr.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:n,p:r,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new rh(t,e,i,n,r,a)),this.mergeVertices()}function rh(t,e,i,n,r,a){dr.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:n,p:r,q:a},t=t||1,e=e||.4,i=Math.floor(i)||64,n=Math.floor(n)||8,r=r||2,a=a||3;var o,s,c=[],l=[],u=[],h=[],d=new xi,p=new xi,f=new xi,m=new xi,v=new xi,g=new xi,y=new xi;for(o=0;o<=i;++o){var _=o/i*r*Math.PI*2;for(T(_,r,a,t,f),T(_+.01,r,a,t,m),g.subVectors(m,f),y.addVectors(m,f),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize(),s=0;s<=n;++s){var x=s/n*Math.PI*2,b=-e*Math.cos(x),w=e*Math.sin(x);d.x=f.x+(b*y.x+w*v.x),d.y=f.y+(b*y.y+w*v.y),d.z=f.z+(b*y.z+w*v.z),l.push(d.x,d.y,d.z),p.subVectors(d,f).normalize(),u.push(p.x,p.y,p.z),h.push(o/i),h.push(s/n)}}for(s=1;s<=i;s++)for(o=1;o<=n;o++){var M=(n+1)*(s-1)+(o-1),E=(n+1)*s+(o-1),S=(n+1)*s+o,A=(n+1)*(s-1)+o;c.push(M,E,A),c.push(E,S,A)}function T(t,e,i,n,r){var a=Math.cos(t),o=Math.sin(t),s=i/e*t,c=Math.cos(s);r.x=n*(2+c)*.5*a,r.y=n*(2+c)*o*.5,r.z=n*Math.sin(s)*.5}this.setIndex(c),this.setAttribute("position",new er(l,3)),this.setAttribute("normal",new er(u,3)),this.setAttribute("uv",new er(h,2))}function ah(t,e,i,n,r){zr.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:n,arc:r},this.fromBufferGeometry(new oh(t,e,i,n,r)),this.mergeVertices()}function oh(t,e,i,n,r){dr.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:n,arc:r},t=t||1,e=e||.4,i=Math.floor(i)||8,n=Math.floor(n)||6,r=r||2*Math.PI;var a,o,s=[],c=[],l=[],u=[],h=new xi,d=new xi,p=new xi;for(a=0;a<=i;a++)for(o=0;o<=n;o++){var f=o/n*r,m=a/i*Math.PI*2;d.x=(t+e*Math.cos(m))*Math.cos(f),d.y=(t+e*Math.cos(m))*Math.sin(f),d.z=e*Math.sin(m),c.push(d.x,d.y,d.z),h.x=t*Math.cos(f),h.y=t*Math.sin(f),p.subVectors(d,h).normalize(),l.push(p.x,p.y,p.z),u.push(o/n),u.push(a/i)}for(a=1;a<=i;a++)for(o=1;o<=n;o++){var v=(n+1)*a+o-1,g=(n+1)*(a-1)+o-1,y=(n+1)*(a-1)+o,_=(n+1)*a+o;s.push(v,g,_),s.push(g,y,_)}this.setIndex(s),this.setAttribute("position",new er(c,3)),this.setAttribute("normal",new er(l,3)),this.setAttribute("uv",new er(u,2))}Nu.prototype=Object.assign(Object.create(Xi.prototype),{constructor:Nu,isPoints:!0,raycast:function(t,e){var i=this.geometry,n=this.matrixWorld,r=t.params.Points.threshold;if(null===i.boundingSphere&&i.computeBoundingSphere(),Uu.copy(i.boundingSphere),Uu.applyMatrix4(n),Uu.radius+=r,!1!==t.ray.intersectsSphere(Uu)){Iu.getInverse(n),Ou.copy(t.ray).applyMatrix4(Iu);var a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a;if(i.isBufferGeometry){var s=i.index,c=i.attributes,l=c.position.array;if(null!==s)for(var u=s.array,h=0,d=u.length;h<d;h++){var p=u[h];Du.fromArray(l,3*p),zu(Du,p,o,n,t,e,this)}else{h=0;for(var f=l.length/3;h<f;h++)Du.fromArray(l,3*h),zu(Du,h,o,n,t,e,this)}}else{var m=i.vertices;for(h=0,f=m.length;h<f;h++)zu(m[h],h,o,n,t,e,this)}}},updateMorphTargets:function(){var t,e,i,n=this.geometry;if(n.isBufferGeometry){var r=n.morphAttributes,a=Object.keys(r);if(a.length>0){var o=r[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=o.length;t<e;t++)i=o[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=t}}else{var s=n.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Fu.prototype=Object.assign(Object.create(pi.prototype),{constructor:Fu,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Bu.prototype=Object.create(pi.prototype),Bu.prototype.constructor=Bu,Bu.prototype.isCompressedTexture=!0,Gu.prototype=Object.create(pi.prototype),Gu.prototype.constructor=Gu,Gu.prototype.isCanvasTexture=!0,ku.prototype=Object.create(pi.prototype),ku.prototype.constructor=ku,ku.prototype.isDepthTexture=!0,Hu.prototype=Object.create(dr.prototype),Hu.prototype.constructor=Hu,Vu.prototype=Object.create(zr.prototype),Vu.prototype.constructor=Vu,ju.prototype=Object.create(dr.prototype),ju.prototype.constructor=ju,Wu.prototype=Object.create(zr.prototype),Wu.prototype.constructor=Wu,Xu.prototype=Object.create(dr.prototype),Xu.prototype.constructor=Xu,Yu.prototype=Object.create(zr.prototype),Yu.prototype.constructor=Yu,Zu.prototype=Object.create(Xu.prototype),Zu.prototype.constructor=Zu,qu.prototype=Object.create(zr.prototype),qu.prototype.constructor=qu,Ju.prototype=Object.create(Xu.prototype),Ju.prototype.constructor=Ju,Qu.prototype=Object.create(zr.prototype),Qu.prototype.constructor=Qu,Ku.prototype=Object.create(Xu.prototype),Ku.prototype.constructor=Ku,$u.prototype=Object.create(zr.prototype),$u.prototype.constructor=$u,th.prototype=Object.create(Xu.prototype),th.prototype.constructor=th,eh.prototype=Object.create(zr.prototype),eh.prototype.constructor=eh,ih.prototype=Object.create(dr.prototype),ih.prototype.constructor=ih,ih.prototype.toJSON=function(){var t=dr.prototype.toJSON.call(this);return t.path=this.parameters.path.toJSON(),t},nh.prototype=Object.create(zr.prototype),nh.prototype.constructor=nh,rh.prototype=Object.create(dr.prototype),rh.prototype.constructor=rh,ah.prototype=Object.create(zr.prototype),ah.prototype.constructor=ah,oh.prototype=Object.create(dr.prototype),oh.prototype.constructor=oh;var sh={triangulate:function(t,e,i){i=i||2;var n,r,a,o,s,c,l,u=e&&e.length,h=u?e[0]*i:t.length,d=ch(t,0,h,i,!0),p=[];if(!d||d.next===d.prev)return p;if(u&&(d=mh(t,e,d,i)),t.length>80*i){n=a=t[0],r=o=t[1];for(var f=i;f<h;f+=i)s=t[f],c=t[f+1],s<n&&(n=s),c<r&&(r=c),s>a&&(a=s),c>o&&(o=c);l=Math.max(a-n,o-r),l=0!==l?1/l:0}return uh(d,p,i,n,r,l),p}};function ch(t,e,i,n,r){var a,o;if(r===Fh(t,e,i,n)>0)for(a=e;a<i;a+=n)o=Dh(a,t[a],t[a+1],o);else for(a=i-n;a>=e;a-=n)o=Dh(a,t[a],t[a+1],o);return o&&Th(o,o.next)&&(Nh(o),o=o.next),o}function lh(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!Th(n,n.next)&&0!==Ah(n.prev,n,n.next))n=n.next;else{if(Nh(n),n=e=n.prev,n===n.next)break;i=!0}}while(i||n!==e);return e}function uh(t,e,i,n,r,a,o){if(t){!o&&a&&xh(t,n,r,a);var s,c,l=t;while(t.prev!==t.next)if(s=t.prev,c=t.next,a?dh(t,n,r,a):hh(t))e.push(s.i/i),e.push(t.i/i),e.push(c.i/i),Nh(t),t=c.next,l=c.next;else if(t=c,t===l){o?1===o?(t=ph(lh(t),e,i),uh(t,e,i,n,r,a,2)):2===o&&fh(t,e,i,n,r,a):uh(lh(t),e,i,n,r,a,1);break}}}function hh(t){var e=t.prev,i=t,n=t.next;if(Ah(e,i,n)>=0)return!1;var r=t.next.next;while(r!==t.prev){if(Eh(e.x,e.y,i.x,i.y,n.x,n.y,r.x,r.y)&&Ah(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function dh(t,e,i,n){var r=t.prev,a=t,o=t.next;if(Ah(r,a,o)>=0)return!1;var s=r.x<a.x?r.x<o.x?r.x:o.x:a.x<o.x?a.x:o.x,c=r.y<a.y?r.y<o.y?r.y:o.y:a.y<o.y?a.y:o.y,l=r.x>a.x?r.x>o.x?r.x:o.x:a.x>o.x?a.x:o.x,u=r.y>a.y?r.y>o.y?r.y:o.y:a.y>o.y?a.y:o.y,h=wh(s,c,e,i,n),d=wh(l,u,e,i,n),p=t.prevZ,f=t.nextZ;while(p&&p.z>=h&&f&&f.z<=d){if(p!==t.prev&&p!==t.next&&Eh(r.x,r.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Ah(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,f!==t.prev&&f!==t.next&&Eh(r.x,r.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Ah(f.prev,f,f.next)>=0)return!1;f=f.nextZ}while(p&&p.z>=h){if(p!==t.prev&&p!==t.next&&Eh(r.x,r.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Ah(p.prev,p,p.next)>=0)return!1;p=p.prevZ}while(f&&f.z<=d){if(f!==t.prev&&f!==t.next&&Eh(r.x,r.y,a.x,a.y,o.x,o.y,f.x,f.y)&&Ah(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function ph(t,e,i){var n=t;do{var r=n.prev,a=n.next.next;!Th(r,a)&&Ch(r,n,n.next,a)&&Ih(r,a)&&Ih(a,r)&&(e.push(r.i/i),e.push(n.i/i),e.push(a.i/i),Nh(n),Nh(n.next),n=t=a),n=n.next}while(n!==t);return lh(n)}function fh(t,e,i,n,r,a){var o=t;do{var s=o.next.next;while(s!==o.prev){if(o.i!==s.i&&Sh(o,s)){var c=Uh(o,s);return o=lh(o,o.next),c=lh(c,c.next),uh(o,e,i,n,r,a),void uh(c,e,i,n,r,a)}s=s.next}o=o.next}while(o!==t)}function mh(t,e,i,n){var r,a,o,s,c,l=[];for(r=0,a=e.length;r<a;r++)o=e[r]*n,s=r<a-1?e[r+1]*n:t.length,c=ch(t,o,s,n,!1),c===c.next&&(c.steiner=!0),l.push(Mh(c));for(l.sort(vh),r=0;r<l.length;r++)gh(l[r],i),i=lh(i,i.next);return i}function vh(t,e){return t.x-e.x}function gh(t,e){if(e=yh(t,e),e){var i=Uh(e,t);lh(e,e.next),lh(i,i.next)}}function yh(t,e){var i,n=e,r=t.x,a=t.y,o=-1/0;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){var s=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=r&&s>o){if(o=s,s===r){if(a===n.y)return n;if(a===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!i)return null;if(r===o)return i;var c,l=i,u=i.x,h=i.y,d=1/0;n=i;do{r>=n.x&&n.x>=u&&r!==n.x&&Eh(a<h?r:o,a,u,h,a<h?o:r,a,n.x,n.y)&&(c=Math.abs(a-n.y)/(r-n.x),Ih(n,t)&&(c<d||c===d&&(n.x>i.x||n.x===i.x&&_h(i,n)))&&(i=n,d=c)),n=n.next}while(n!==l);return i}function _h(t,e){return Ah(t.prev,t,e.prev)<0&&Ah(e.next,t,t.next)<0}function xh(t,e,i,n){var r=t;do{null===r.z&&(r.z=wh(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,bh(r)}function bh(t){var e,i,n,r,a,o,s,c,l=1;do{i=t,t=null,a=null,o=0;while(i){for(o++,n=i,s=0,e=0;e<l;e++)if(s++,n=n.nextZ,!n)break;c=l;while(s>0||c>0&&n)0!==s&&(0===c||!n||i.z<=n.z)?(r=i,i=i.nextZ,s--):(r=n,n=n.nextZ,c--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;i=n}a.nextZ=null,l*=2}while(o>1);return t}function wh(t,e,i,n,r){return t=32767*(t-i)*r,e=32767*(e-n)*r,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function Mh(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function Eh(t,e,i,n,r,a,o,s){return(r-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(n-s)-(i-o)*(e-s)>=0&&(i-o)*(a-s)-(r-o)*(n-s)>=0}function Sh(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Ph(t,e)&&(Ih(t,e)&&Ih(e,t)&&Oh(t,e)&&(Ah(t.prev,t,e.prev)||Ah(t,e.prev,e))||Th(t,e)&&Ah(t.prev,t,t.next)>0&&Ah(e.prev,e,e.next)>0)}function Ah(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function Th(t,e){return t.x===e.x&&t.y===e.y}function Ch(t,e,i,n){var r=Rh(Ah(t,e,i)),a=Rh(Ah(t,e,n)),o=Rh(Ah(i,n,t)),s=Rh(Ah(i,n,e));return r!==a&&o!==s||(!(0!==r||!Lh(t,i,e))||(!(0!==a||!Lh(t,n,e))||(!(0!==o||!Lh(i,t,n))||!(0!==s||!Lh(i,e,n)))))}function Lh(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function Rh(t){return t>0?1:t<0?-1:0}function Ph(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&Ch(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}function Ih(t,e){return Ah(t.prev,t,t.next)<0?Ah(t,e,t.next)>=0&&Ah(t,t.prev,e)>=0:Ah(t,e,t.prev)<0||Ah(t,t.next,e)<0}function Oh(t,e){var i=t,n=!1,r=(t.x+e.x)/2,a=(t.y+e.y)/2;do{i.y>a!==i.next.y>a&&i.next.y!==i.y&&r<(i.next.x-i.x)*(a-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}function Uh(t,e){var i=new zh(t.i,t.x,t.y),n=new zh(e.i,e.x,e.y),r=t.next,a=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,a.next=n,n.prev=a,n}function Dh(t,e,i,n){var r=new zh(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function Nh(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function zh(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Fh(t,e,i,n){for(var r=0,a=e,o=i-n;a<i;a+=n)r+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return r}var Bh={area:function(t){for(var e=t.length,i=0,n=e-1,r=0;r<e;n=r++)i+=t[n].x*t[r].y-t[r].x*t[n].y;return.5*i},isClockWise:function(t){return Bh.area(t)<0},triangulateShape:function(t,e){var i=[],n=[],r=[];Gh(t),kh(i,t);var a=t.length;e.forEach(Gh);for(var o=0;o<e.length;o++)n.push(a),a+=e[o].length,kh(i,e[o]);var s=sh.triangulate(i,n);for(o=0;o<s.length;o+=3)r.push(s.slice(o,o+3));return r}};function Gh(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function kh(t,e){for(var i=0;i<e.length;i++)t.push(e[i].x),t.push(e[i].y)}function Hh(t,e){zr.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new Vh(t,e)),this.mergeVertices()}function Vh(t,e){dr.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];for(var i=this,n=[],r=[],a=0,o=t.length;a<o;a++){var s=t[a];c(s)}function c(t){var a=[],o=void 0!==e.curveSegments?e.curveSegments:12,s=void 0!==e.steps?e.steps:1,c=void 0!==e.depth?e.depth:100,l=void 0===e.bevelEnabled||e.bevelEnabled,u=void 0!==e.bevelThickness?e.bevelThickness:6,h=void 0!==e.bevelSize?e.bevelSize:u-2,d=void 0!==e.bevelOffset?e.bevelOffset:0,p=void 0!==e.bevelSegments?e.bevelSegments:3,f=e.extrudePath,m=void 0!==e.UVGenerator?e.UVGenerator:jh;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),c=e.amount);var v,g,y,_,x,b,w,M,E=!1;f&&(v=f.getSpacedPoints(s),E=!0,l=!1,g=f.computeFrenetFrames(s,!1),y=new xi,_=new xi,x=new xi),l||(p=0,u=0,h=0,d=0);var S=t.extractPoints(o),A=S.shape,T=S.holes,C=!Bh.isClockWise(A);if(C)for(A=A.reverse(),w=0,M=T.length;w<M;w++)b=T[w],Bh.isClockWise(b)&&(T[w]=b.reverse());var L=Bh.triangulateShape(A,T),R=A;for(w=0,M=T.length;w<M;w++)b=T[w],A=A.concat(b);function P(t,e,i){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(i).add(t)}var I,O,U,D,N,z,F=A.length,B=L.length;function G(t,e,i){var n,r,a,o=t.x-e.x,s=t.y-e.y,c=i.x-t.x,l=i.y-t.y,u=o*o+s*s,h=o*l-s*c;if(Math.abs(h)>Number.EPSILON){var d=Math.sqrt(u),p=Math.sqrt(c*c+l*l),f=e.x-s/d,m=e.y+o/d,v=i.x-l/p,g=i.y+c/p,y=((v-f)*l-(g-m)*c)/(o*l-s*c);n=f+o*y-t.x,r=m+s*y-t.y;var _=n*n+r*r;if(_<=2)return new li(n,r);a=Math.sqrt(_/2)}else{var x=!1;o>Number.EPSILON?c>Number.EPSILON&&(x=!0):o<-Number.EPSILON?c<-Number.EPSILON&&(x=!0):Math.sign(s)===Math.sign(l)&&(x=!0),x?(n=-s,r=o,a=Math.sqrt(u)):(n=o,r=s,a=Math.sqrt(u/2))}return new li(n/a,r/a)}for(var k=[],H=0,V=R.length,j=V-1,W=H+1;H<V;H++,j++,W++)j===V&&(j=0),W===V&&(W=0),k[H]=G(R[H],R[j],R[W]);var X,Y,Z=[],q=k.concat();for(w=0,M=T.length;w<M;w++){for(b=T[w],X=[],H=0,V=b.length,j=V-1,W=H+1;H<V;H++,j++,W++)j===V&&(j=0),W===V&&(W=0),X[H]=G(b[H],b[j],b[W]);Z.push(X),q=q.concat(X)}for(I=0;I<p;I++){for(U=I/p,D=u*Math.cos(U*Math.PI/2),O=h*Math.sin(U*Math.PI/2)+d,H=0,V=R.length;H<V;H++)N=P(R[H],k[H],O),$(N.x,N.y,-D);for(w=0,M=T.length;w<M;w++)for(b=T[w],X=Z[w],H=0,V=b.length;H<V;H++)N=P(b[H],X[H],O),$(N.x,N.y,-D)}for(O=h+d,H=0;H<F;H++)N=l?P(A[H],q[H],O):A[H],E?(_.copy(g.normals[0]).multiplyScalar(N.x),y.copy(g.binormals[0]).multiplyScalar(N.y),x.copy(v[0]).add(_).add(y),$(x.x,x.y,x.z)):$(N.x,N.y,0);for(Y=1;Y<=s;Y++)for(H=0;H<F;H++)N=l?P(A[H],q[H],O):A[H],E?(_.copy(g.normals[Y]).multiplyScalar(N.x),y.copy(g.binormals[Y]).multiplyScalar(N.y),x.copy(v[Y]).add(_).add(y),$(x.x,x.y,x.z)):$(N.x,N.y,c/s*Y);for(I=p-1;I>=0;I--){for(U=I/p,D=u*Math.cos(U*Math.PI/2),O=h*Math.sin(U*Math.PI/2)+d,H=0,V=R.length;H<V;H++)N=P(R[H],k[H],O),$(N.x,N.y,c+D);for(w=0,M=T.length;w<M;w++)for(b=T[w],X=Z[w],H=0,V=b.length;H<V;H++)N=P(b[H],X[H],O),E?$(N.x,N.y+v[s-1].y,v[s-1].x+D):$(N.x,N.y,c+D)}function J(){var t=n.length/3;if(l){var e=0,r=F*e;for(H=0;H<B;H++)z=L[H],tt(z[2]+r,z[1]+r,z[0]+r);for(e=s+2*p,r=F*e,H=0;H<B;H++)z=L[H],tt(z[0]+r,z[1]+r,z[2]+r)}else{for(H=0;H<B;H++)z=L[H],tt(z[2],z[1],z[0]);for(H=0;H<B;H++)z=L[H],tt(z[0]+F*s,z[1]+F*s,z[2]+F*s)}i.addGroup(t,n.length/3-t,0)}function Q(){var t=n.length/3,e=0;for(K(R,e),e+=R.length,w=0,M=T.length;w<M;w++)b=T[w],K(b,e),e+=b.length;i.addGroup(t,n.length/3-t,1)}function K(t,e){var i,n;H=t.length;while(--H>=0){i=H,n=H-1,n<0&&(n=t.length-1);var r=0,a=s+2*p;for(r=0;r<a;r++){var o=F*r,c=F*(r+1),l=e+i+o,u=e+n+o,h=e+n+c,d=e+i+c;et(l,u,h,d)}}}function $(t,e,i){a.push(t),a.push(e),a.push(i)}function tt(t,e,r){it(t),it(e),it(r);var a=n.length/3,o=m.generateTopUV(i,n,a-3,a-2,a-1);nt(o[0]),nt(o[1]),nt(o[2])}function et(t,e,r,a){it(t),it(e),it(a),it(e),it(r),it(a);var o=n.length/3,s=m.generateSideWallUV(i,n,o-6,o-3,o-2,o-1);nt(s[0]),nt(s[1]),nt(s[3]),nt(s[1]),nt(s[2]),nt(s[3])}function it(t){n.push(a[3*t+0]),n.push(a[3*t+1]),n.push(a[3*t+2])}function nt(t){r.push(t.x),r.push(t.y)}J(),Q()}this.setAttribute("position",new er(n,3)),this.setAttribute("uv",new er(r,2)),this.computeVertexNormals()}Hh.prototype=Object.create(zr.prototype),Hh.prototype.constructor=Hh,Hh.prototype.toJSON=function(){var t=zr.prototype.toJSON.call(this),e=this.parameters.shapes,i=this.parameters.options;return Wh(e,i,t)},Vh.prototype=Object.create(dr.prototype),Vh.prototype.constructor=Vh,Vh.prototype.toJSON=function(){var t=dr.prototype.toJSON.call(this),e=this.parameters.shapes,i=this.parameters.options;return Wh(e,i,t)};var jh={generateTopUV:function(t,e,i,n,r){var a=e[3*i],o=e[3*i+1],s=e[3*n],c=e[3*n+1],l=e[3*r],u=e[3*r+1];return[new li(a,o),new li(s,c),new li(l,u)]},generateSideWallUV:function(t,e,i,n,r,a){var o=e[3*i],s=e[3*i+1],c=e[3*i+2],l=e[3*n],u=e[3*n+1],h=e[3*n+2],d=e[3*r],p=e[3*r+1],f=e[3*r+2],m=e[3*a],v=e[3*a+1],g=e[3*a+2];return Math.abs(s-u)<.01?[new li(o,1-c),new li(l,1-h),new li(d,1-f),new li(m,1-g)]:[new li(s,1-c),new li(u,1-h),new li(p,1-f),new li(v,1-g)]}};function Wh(t,e,i){if(i.shapes=[],Array.isArray(t))for(var n=0,r=t.length;n<r;n++){var a=t[n];i.shapes.push(a.uuid)}else i.shapes.push(t.uuid);return void 0!==e.extrudePath&&(i.options.extrudePath=e.extrudePath.toJSON()),i}function Xh(t,e){zr.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new Yh(t,e)),this.mergeVertices()}function Yh(t,e){e=e||{};var i=e.font;if(!i||!i.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new zr;var n=i.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Vh.call(this,n,e),this.type="TextBufferGeometry"}function Zh(t,e,i,n,r,a,o){zr.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:n,phiLength:r,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new qh(t,e,i,n,r,a,o)),this.mergeVertices()}function qh(t,e,i,n,r,a,o){dr.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:n,phiLength:r,thetaStart:a,thetaLength:o},t=t||1,e=Math.max(3,Math.floor(e)||8),i=Math.max(2,Math.floor(i)||6),n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI,a=void 0!==a?a:0,o=void 0!==o?o:Math.PI;var s,c,l=Math.min(a+o,Math.PI),u=0,h=[],d=new xi,p=new xi,f=[],m=[],v=[],g=[];for(c=0;c<=i;c++){var y=[],_=c/i,x=0;for(0==c&&0==a?x=.5/e:c==i&&l==Math.PI&&(x=-.5/e),s=0;s<=e;s++){var b=s/e;d.x=-t*Math.cos(n+b*r)*Math.sin(a+_*o),d.y=t*Math.cos(a+_*o),d.z=t*Math.sin(n+b*r)*Math.sin(a+_*o),m.push(d.x,d.y,d.z),p.copy(d).normalize(),v.push(p.x,p.y,p.z),g.push(b+x,1-_),y.push(u++)}h.push(y)}for(c=0;c<i;c++)for(s=0;s<e;s++){var w=h[c][s+1],M=h[c][s],E=h[c+1][s],S=h[c+1][s+1];(0!==c||a>0)&&f.push(w,M,S),(c!==i-1||l<Math.PI)&&f.push(M,E,S)}this.setIndex(f),this.setAttribute("position",new er(m,3)),this.setAttribute("normal",new er(v,3)),this.setAttribute("uv",new er(g,2))}function Jh(t,e,i,n,r,a){zr.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:n,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new Qh(t,e,i,n,r,a)),this.mergeVertices()}function Qh(t,e,i,n,r,a){dr.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:n,thetaStart:r,thetaLength:a},t=t||.5,e=e||1,r=void 0!==r?r:0,a=void 0!==a?a:2*Math.PI,i=void 0!==i?Math.max(3,i):8,n=void 0!==n?Math.max(1,n):1;var o,s,c,l=[],u=[],h=[],d=[],p=t,f=(e-t)/n,m=new xi,v=new li;for(s=0;s<=n;s++){for(c=0;c<=i;c++)o=r+c/i*a,m.x=p*Math.cos(o),m.y=p*Math.sin(o),u.push(m.x,m.y,m.z),h.push(0,0,1),v.x=(m.x/e+1)/2,v.y=(m.y/e+1)/2,d.push(v.x,v.y);p+=f}for(s=0;s<n;s++){var g=s*(i+1);for(c=0;c<i;c++){o=c+g;var y=o,_=o+i+1,x=o+i+2,b=o+1;l.push(y,_,b),l.push(_,x,b)}}this.setIndex(l),this.setAttribute("position",new er(u,3)),this.setAttribute("normal",new er(h,3)),this.setAttribute("uv",new er(d,2))}function Kh(t,e,i,n){zr.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:n},this.fromBufferGeometry(new $h(t,e,i,n)),this.mergeVertices()}function $h(t,e,i,n){dr.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:n},e=Math.floor(e)||12,i=i||0,n=n||2*Math.PI,n=ci.clamp(n,0,2*Math.PI);var r,a,o,s=[],c=[],l=[],u=1/e,h=new xi,d=new li;for(a=0;a<=e;a++){var p=i+a*u*n,f=Math.sin(p),m=Math.cos(p);for(o=0;o<=t.length-1;o++)h.x=t[o].x*f,h.y=t[o].y,h.z=t[o].x*m,c.push(h.x,h.y,h.z),d.x=a/e,d.y=o/(t.length-1),l.push(d.x,d.y)}for(a=0;a<e;a++)for(o=0;o<t.length-1;o++){r=o+a*t.length;var v=r,g=r+t.length,y=r+t.length+1,_=r+1;s.push(v,g,_),s.push(g,y,_)}if(this.setIndex(s),this.setAttribute("position",new er(c,3)),this.setAttribute("uv",new er(l,2)),this.computeVertexNormals(),n===2*Math.PI){var x=this.attributes.normal.array,b=new xi,w=new xi,M=new xi;for(r=e*t.length*3,a=0,o=0;a<t.length;a++,o+=3)b.x=x[o+0],b.y=x[o+1],b.z=x[o+2],w.x=x[r+o+0],w.y=x[r+o+1],w.z=x[r+o+2],M.addVectors(b,w).normalize(),x[o+0]=x[r+o+0]=M.x,x[o+1]=x[r+o+1]=M.y,x[o+2]=x[r+o+2]=M.z}}function td(t,e){zr.call(this),this.type="ShapeGeometry","object"===typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new ed(t,e)),this.mergeVertices()}function ed(t,e){dr.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var i=[],n=[],r=[],a=[],o=0,s=0;if(!1===Array.isArray(t))l(t);else for(var c=0;c<t.length;c++)l(t[c]),this.addGroup(o,s,c),o+=s,s=0;function l(t){var o,c,l,u=n.length/3,h=t.extractPoints(e),d=h.shape,p=h.holes;for(!1===Bh.isClockWise(d)&&(d=d.reverse()),o=0,c=p.length;o<c;o++)l=p[o],!0===Bh.isClockWise(l)&&(p[o]=l.reverse());var f=Bh.triangulateShape(d,p);for(o=0,c=p.length;o<c;o++)l=p[o],d=d.concat(l);for(o=0,c=d.length;o<c;o++){var m=d[o];n.push(m.x,m.y,0),r.push(0,0,1),a.push(m.x,m.y)}for(o=0,c=f.length;o<c;o++){var v=f[o],g=v[0]+u,y=v[1]+u,_=v[2]+u;i.push(g,y,_),s+=3}}this.setIndex(i),this.setAttribute("position",new er(n,3)),this.setAttribute("normal",new er(r,3)),this.setAttribute("uv",new er(a,2))}function id(t,e){if(e.shapes=[],Array.isArray(t))for(var i=0,n=t.length;i<n;i++){var r=t[i];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}function nd(t,e){dr.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var i,n,r,a,o=[],s=Math.cos(ci.DEG2RAD*e),c=[0,0],l={},u=["a","b","c"];t.isBufferGeometry?(a=new zr,a.fromBufferGeometry(t)):a=t.clone(),a.mergeVertices(),a.computeFaceNormals();for(var h=a.vertices,d=a.faces,p=0,f=d.length;p<f;p++)for(var m=d[p],v=0;v<3;v++)i=m[u[v]],n=m[u[(v+1)%3]],c[0]=Math.min(i,n),c[1]=Math.max(i,n),r=c[0]+","+c[1],void 0===l[r]?l[r]={index1:c[0],index2:c[1],face1:p,face2:void 0}:l[r].face2=p;for(r in l){var g=l[r];if(void 0===g.face2||d[g.face1].normal.dot(d[g.face2].normal)<=s){var y=h[g.index1];o.push(y.x,y.y,y.z),y=h[g.index2],o.push(y.x,y.y,y.z)}}this.setAttribute("position",new er(o,3))}function rd(t,e,i,n,r,a,o,s){zr.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:n,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new ad(t,e,i,n,r,a,o,s)),this.mergeVertices()}function ad(t,e,i,n,r,a,o,s){dr.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:n,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s};var c=this;t=void 0!==t?t:1,e=void 0!==e?e:1,i=i||1,n=Math.floor(n)||8,r=Math.floor(r)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var l=[],u=[],h=[],d=[],p=0,f=[],m=i/2,v=0;function g(){var a,g,y=new xi,_=new xi,x=0,b=(e-t)/i;for(g=0;g<=r;g++){var w=[],M=g/r,E=M*(e-t)+t;for(a=0;a<=n;a++){var S=a/n,A=S*s+o,T=Math.sin(A),C=Math.cos(A);_.x=E*T,_.y=-M*i+m,_.z=E*C,u.push(_.x,_.y,_.z),y.set(T,b,C).normalize(),h.push(y.x,y.y,y.z),d.push(S,1-M),w.push(p++)}f.push(w)}for(a=0;a<n;a++)for(g=0;g<r;g++){var L=f[g][a],R=f[g+1][a],P=f[g+1][a+1],I=f[g][a+1];l.push(L,R,I),l.push(R,P,I),x+=6}c.addGroup(v,x,0),v+=x}function y(i){var r,a,f,g=new li,y=new xi,_=0,x=!0===i?t:e,b=!0===i?1:-1;for(a=p,r=1;r<=n;r++)u.push(0,m*b,0),h.push(0,b,0),d.push(.5,.5),p++;for(f=p,r=0;r<=n;r++){var w=r/n,M=w*s+o,E=Math.cos(M),S=Math.sin(M);y.x=x*S,y.y=m*b,y.z=x*E,u.push(y.x,y.y,y.z),h.push(0,b,0),g.x=.5*E+.5,g.y=.5*S*b+.5,d.push(g.x,g.y),p++}for(r=0;r<n;r++){var A=a+r,T=f+r;!0===i?l.push(T,T+1,A):l.push(T+1,T,A),_+=3}c.addGroup(v,_,!0===i?1:2),v+=_}g(),!1===a&&(t>0&&y(!0),e>0&&y(!1)),this.setIndex(l),this.setAttribute("position",new er(u,3)),this.setAttribute("normal",new er(h,3)),this.setAttribute("uv",new er(d,2))}function od(t,e,i,n,r,a,o){rd.call(this,0,t,e,i,n,r,a,o),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:n,openEnded:r,thetaStart:a,thetaLength:o}}function sd(t,e,i,n,r,a,o){ad.call(this,0,t,e,i,n,r,a,o),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:n,openEnded:r,thetaStart:a,thetaLength:o}}function cd(t,e,i,n){zr.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:n},this.fromBufferGeometry(new ld(t,e,i,n)),this.mergeVertices()}function ld(t,e,i,n){dr.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:n},t=t||1,e=void 0!==e?Math.max(3,e):8,i=void 0!==i?i:0,n=void 0!==n?n:2*Math.PI;var r,a,o=[],s=[],c=[],l=[],u=new xi,h=new li;for(s.push(0,0,0),c.push(0,0,1),l.push(.5,.5),a=0,r=3;a<=e;a++,r+=3){var d=i+a/e*n;u.x=t*Math.cos(d),u.y=t*Math.sin(d),s.push(u.x,u.y,u.z),c.push(0,0,1),h.x=(s[r]/t+1)/2,h.y=(s[r+1]/t+1)/2,l.push(h.x,h.y)}for(r=1;r<=e;r++)o.push(r,r+1,0);this.setIndex(o),this.setAttribute("position",new er(s,3)),this.setAttribute("normal",new er(c,3)),this.setAttribute("uv",new er(l,2))}Xh.prototype=Object.create(zr.prototype),Xh.prototype.constructor=Xh,Yh.prototype=Object.create(Vh.prototype),Yh.prototype.constructor=Yh,Zh.prototype=Object.create(zr.prototype),Zh.prototype.constructor=Zh,qh.prototype=Object.create(dr.prototype),qh.prototype.constructor=qh,Jh.prototype=Object.create(zr.prototype),Jh.prototype.constructor=Jh,Qh.prototype=Object.create(dr.prototype),Qh.prototype.constructor=Qh,Kh.prototype=Object.create(zr.prototype),Kh.prototype.constructor=Kh,$h.prototype=Object.create(dr.prototype),$h.prototype.constructor=$h,td.prototype=Object.create(zr.prototype),td.prototype.constructor=td,td.prototype.toJSON=function(){var t=zr.prototype.toJSON.call(this),e=this.parameters.shapes;return id(e,t)},ed.prototype=Object.create(dr.prototype),ed.prototype.constructor=ed,ed.prototype.toJSON=function(){var t=dr.prototype.toJSON.call(this),e=this.parameters.shapes;return id(e,t)},nd.prototype=Object.create(dr.prototype),nd.prototype.constructor=nd,rd.prototype=Object.create(zr.prototype),rd.prototype.constructor=rd,ad.prototype=Object.create(dr.prototype),ad.prototype.constructor=ad,od.prototype=Object.create(rd.prototype),od.prototype.constructor=od,sd.prototype=Object.create(ad.prototype),sd.prototype.constructor=sd,cd.prototype=Object.create(zr.prototype),cd.prototype.constructor=cd,ld.prototype=Object.create(dr.prototype),ld.prototype.constructor=ld;var ud=Object.freeze({__proto__:null,WireframeGeometry:Hu,ParametricGeometry:Vu,ParametricBufferGeometry:ju,TetrahedronGeometry:Yu,TetrahedronBufferGeometry:Zu,OctahedronGeometry:qu,OctahedronBufferGeometry:Ju,IcosahedronGeometry:Qu,IcosahedronBufferGeometry:Ku,DodecahedronGeometry:$u,DodecahedronBufferGeometry:th,PolyhedronGeometry:Wu,PolyhedronBufferGeometry:Xu,TubeGeometry:eh,TubeBufferGeometry:ih,TorusKnotGeometry:nh,TorusKnotBufferGeometry:rh,TorusGeometry:ah,TorusBufferGeometry:oh,TextGeometry:Xh,TextBufferGeometry:Yh,SphereGeometry:Zh,SphereBufferGeometry:qh,RingGeometry:Jh,RingBufferGeometry:Qh,PlaneGeometry:aa,PlaneBufferGeometry:oa,LatheGeometry:Kh,LatheBufferGeometry:$h,ShapeGeometry:td,ShapeBufferGeometry:ed,ExtrudeGeometry:Hh,ExtrudeBufferGeometry:Vh,EdgesGeometry:nd,ConeGeometry:od,ConeBufferGeometry:sd,CylinderGeometry:rd,CylinderBufferGeometry:ad,CircleGeometry:cd,CircleBufferGeometry:ld,BoxGeometry:Fr,BoxBufferGeometry:Br});function hd(t){jn.call(this),this.type="ShadowMaterial",this.color=new Fn(0),this.transparent=!0,this.setValues(t)}function dd(t){Wr.call(this,t),this.type="RawShaderMaterial"}function pd(t){jn.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Fn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ke,this.normalScale=new li(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(t)}function fd(t){pd.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new li(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transparency=0,this.setValues(t)}function md(t){jn.call(this),this.type="MeshPhongMaterial",this.color=new Fn(16777215),this.specular=new Fn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ke,this.normalScale=new li(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=X,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function vd(t){jn.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Fn(16777215),this.specular=new Fn(1118481),this.shininess=30,this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ke,this.normalScale=new li(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function gd(t){jn.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ke,this.normalScale=new li(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function yd(t){jn.call(this),this.type="MeshLambertMaterial",this.color=new Fn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=X,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function _d(t){jn.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Fn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ke,this.normalScale=new li(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function xd(t){xu.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}hd.prototype=Object.create(jn.prototype),hd.prototype.constructor=hd,hd.prototype.isShadowMaterial=!0,hd.prototype.copy=function(t){return jn.prototype.copy.call(this,t),this.color.copy(t.color),this},dd.prototype=Object.create(Wr.prototype),dd.prototype.constructor=dd,dd.prototype.isRawShaderMaterial=!0,pd.prototype=Object.create(jn.prototype),pd.prototype.constructor=pd,pd.prototype.isMeshStandardMaterial=!0,pd.prototype.copy=function(t){return jn.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.vertexTangents=t.vertexTangents,this},fd.prototype=Object.create(pd.prototype),fd.prototype.constructor=fd,fd.prototype.isMeshPhysicalMaterial=!0,fd.prototype.copy=function(t){return pd.prototype.copy.call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.reflectivity=t.reflectivity,t.sheen?this.sheen=(this.sheen||new Fn).copy(t.sheen):this.sheen=null,this.transparency=t.transparency,this},md.prototype=Object.create(jn.prototype),md.prototype.constructor=md,md.prototype.isMeshPhongMaterial=!0,md.prototype.copy=function(t){return jn.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},vd.prototype=Object.create(jn.prototype),vd.prototype.constructor=vd,vd.prototype.isMeshToonMaterial=!0,vd.prototype.copy=function(t){return jn.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},gd.prototype=Object.create(jn.prototype),gd.prototype.constructor=gd,gd.prototype.isMeshNormalMaterial=!0,gd.prototype.copy=function(t){return jn.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},yd.prototype=Object.create(jn.prototype),yd.prototype.constructor=yd,yd.prototype.isMeshLambertMaterial=!0,yd.prototype.copy=function(t){return jn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},_d.prototype=Object.create(jn.prototype),_d.prototype.constructor=_d,_d.prototype.isMeshMatcapMaterial=!0,_d.prototype.copy=function(t){return jn.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},xd.prototype=Object.create(xu.prototype),xd.prototype.constructor=xd,xd.prototype.isLineDashedMaterial=!0,xd.prototype.copy=function(t){return xu.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var bd=Object.freeze({__proto__:null,ShadowMaterial:hd,SpriteMaterial:Xl,RawShaderMaterial:dd,ShaderMaterial:Wr,PointsMaterial:Pu,MeshPhysicalMaterial:fd,MeshStandardMaterial:pd,MeshPhongMaterial:md,MeshToonMaterial:vd,MeshNormalMaterial:gd,MeshLambertMaterial:yd,MeshDepthMaterial:Tl,MeshDistanceMaterial:Cl,MeshBasicMaterial:Wn,MeshMatcapMaterial:_d,LineDashedMaterial:xd,LineBasicMaterial:xu,Material:jn}),wd={arraySlice:function(t,e,i){return wd.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==i?i:t.length)):t.slice(e,i)},convertArray:function(t,e,i){return!t||!i&&t.constructor===e?t:"number"===typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(e,i){return t[e]-t[i]}for(var i=t.length,n=new Array(i),r=0;r!==i;++r)n[r]=r;return n.sort(e),n},sortedArray:function(t,e,i){for(var n=t.length,r=new t.constructor(n),a=0,o=0;o!==n;++a)for(var s=i[a]*e,c=0;c!==e;++c)r[o++]=t[s+c];return r},flattenJSON:function(t,e,i,n){var r=1,a=t[0];while(void 0!==a&&void 0===a[n])a=t[r++];if(void 0!==a){var o=a[n];if(void 0!==o)if(Array.isArray(o))do{o=a[n],void 0!==o&&(e.push(a.time),i.push.apply(i,o)),a=t[r++]}while(void 0!==a);else if(void 0!==o.toArray)do{o=a[n],void 0!==o&&(e.push(a.time),o.toArray(i,i.length)),a=t[r++]}while(void 0!==a);else do{o=a[n],void 0!==o&&(e.push(a.time),i.push(o)),a=t[r++]}while(void 0!==a)}},subclip:function(t,e,i,n,r){r=r||30;var a=t.clone();a.name=e;for(var o=[],s=0;s<a.tracks.length;++s){for(var c=a.tracks[s],l=c.getValueSize(),u=[],h=[],d=0;d<c.times.length;++d){var p=c.times[d]*r;if(!(p<i||p>=n)){u.push(c.times[d]);for(var f=0;f<l;++f)h.push(c.values[d*l+f])}}0!==u.length&&(c.times=wd.convertArray(u,c.times.constructor),c.values=wd.convertArray(h,c.values.constructor),o.push(c))}a.tracks=o;var m=1/0;for(s=0;s<a.tracks.length;++s)m>a.tracks[s].times[0]&&(m=a.tracks[s].times[0]);for(s=0;s<a.tracks.length;++s)a.tracks[s].shift(-1*m);return a.resetDuration(),a},makeClipAdditive:function(t,e,i,n){void 0===e&&(e=0),void 0===i&&(i=t),(void 0===n||n<=0)&&(n=30);for(var r=t.tracks.length,a=e/n,o=0;o<r;++o){var s=i.tracks[o],c=s.ValueTypeName;if("bool"!==c&&"string"!==c){var l=t.tracks.find((function(t){return t.name===s.name&&t.ValueTypeName===c}));if(void 0!==l){var u,h=s.getValueSize(),d=s.times.length-1;if(a<=s.times[0])u=wd.arraySlice(s.values,0,s.valueSize);else if(a>=s.times[d]){var p=d*h;u=wd.arraySlice(s.values,p)}else{var f=s.createInterpolant();f.evaluate(a),u=f.resultBuffer}if("quaternion"===c){var m=new gi(u[0],u[1],u[2],u[3]).normalize().conjugate();m.toArray(u)}for(var v=l.times.length,g=0;g<v;++g){var y=g*h;if("quaternion"===c)gi.multiplyQuaternionsFlat(l.values,y,u,0,l.values,y);else for(var _=0;_<h;++_)l.values[y+_]-=u[_]}}}}return t.blendMode=Ge,t}};function Md(t,e,i,n){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new e.constructor(i),this.sampleValues=e,this.valueSize=i}function Ed(t,e,i,n){Md.call(this,t,e,i,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Sd(t,e,i,n){Md.call(this,t,e,i,n)}function Ad(t,e,i,n){Md.call(this,t,e,i,n)}function Td(t,e,i,n){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=wd.convertArray(e,this.TimeBufferType),this.values=wd.convertArray(i,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}function Cd(t,e,i){Td.call(this,t,e,i)}function Ld(t,e,i,n){Td.call(this,t,e,i,n)}function Rd(t,e,i,n){Td.call(this,t,e,i,n)}function Pd(t,e,i,n){Md.call(this,t,e,i,n)}function Id(t,e,i,n){Td.call(this,t,e,i,n)}function Od(t,e,i,n){Td.call(this,t,e,i,n)}function Ud(t,e,i,n){Td.call(this,t,e,i,n)}function Dd(t,e,i,n){this.name=t,this.tracks=i,this.duration=void 0!==e?e:-1,this.blendMode=void 0!==n?n:Be,this.uuid=ci.generateUUID(),this.duration<0&&this.resetDuration()}function Nd(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Rd;case"vector":case"vector2":case"vector3":case"vector4":return Ud;case"color":return Ld;case"quaternion":return Id;case"bool":case"boolean":return Cd;case"string":return Od}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function zd(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=Nd(t.type);if(void 0===t.times){var i=[],n=[];wd.flattenJSON(t.keys,i,n,"value"),t.times=i,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign(Md.prototype,{evaluate:function(t){var e=this.parameterPositions,i=this._cachedIndex,n=e[i],r=e[i-1];t:{e:{var a;i:{n:if(!(t<n)){for(var o=i+2;;){if(void 0===n){if(t<r)break n;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,r)}if(i===o)break;if(r=n,n=e[++i],t<n)break e}a=e.length;break i}if(t>=r)break t;var s=e[1];t<s&&(i=2,r=s);for(o=i-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,n);if(i===o)break;if(n=r,r=e[--i-1],t>=r)break e}a=i,i=0}while(i<a){var c=i+a>>>1;t<e[c]?a=c:i=c+1}if(n=e[i],r=e[i-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,n);if(void 0===n)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,r,t)}this._cachedIndex=i,this.intervalChanged_(i,r,n)}return this.interpolate_(i,r,t,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,i=this.sampleValues,n=this.valueSize,r=t*n,a=0;a!==n;++a)e[a]=i[r+a];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Md.prototype,{beforeStart_:Md.prototype.copySampleValue_,afterEnd_:Md.prototype.copySampleValue_}),Ed.prototype=Object.assign(Object.create(Md.prototype),{constructor:Ed,DefaultSettings_:{endingStart:Ne,endingEnd:Ne},intervalChanged_:function(t,e,i){var n=this.parameterPositions,r=t-2,a=t+1,o=n[r],s=n[a];if(void 0===o)switch(this.getSettings_().endingStart){case ze:r=t,o=2*e-i;break;case Fe:r=n.length-2,o=e+n[r]-n[r+1];break;default:r=t,o=i}if(void 0===s)switch(this.getSettings_().endingEnd){case ze:a=t,s=2*i-e;break;case Fe:a=1,s=i+n[1]-n[0];break;default:a=t-1,s=e}var c=.5*(i-e),l=this.valueSize;this._weightPrev=c/(e-o),this._weightNext=c/(s-i),this._offsetPrev=r*l,this._offsetNext=a*l},interpolate_:function(t,e,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,c=s-o,l=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(i-e)/(n-e),f=p*p,m=f*p,v=-h*m+2*h*f-h*p,g=(1+h)*m+(-1.5-2*h)*f+(-.5+h)*p+1,y=(-1-d)*m+(1.5+d)*f+.5*p,_=d*m-d*f,x=0;x!==o;++x)r[x]=v*a[l+x]+g*a[c+x]+y*a[s+x]+_*a[u+x];return r}}),Sd.prototype=Object.assign(Object.create(Md.prototype),{constructor:Sd,interpolate_:function(t,e,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,c=s-o,l=(i-e)/(n-e),u=1-l,h=0;h!==o;++h)r[h]=a[c+h]*u+a[s+h]*l;return r}}),Ad.prototype=Object.assign(Object.create(Md.prototype),{constructor:Ad,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(Td,{toJSON:function(t){var e,i=t.constructor;if(void 0!==i.toJSON)e=i.toJSON(t);else{e={name:t.name,times:wd.convertArray(t.times,Array),values:wd.convertArray(t.values,Array)};var n=t.getInterpolation();n!==t.DefaultInterpolation&&(e.interpolation=n)}return e.type=t.ValueTypeName,e}}),Object.assign(Td.prototype,{constructor:Td,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Ue,InterpolantFactoryMethodDiscrete:function(t){return new Ad(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Sd(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Ed(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case Oe:e=this.InterpolantFactoryMethodDiscrete;break;case Ue:e=this.InterpolantFactoryMethodLinear;break;case De:e=this.InterpolantFactoryMethodSmooth;break}if(void 0===e){var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Oe;case this.InterpolantFactoryMethodLinear:return Ue;case this.InterpolantFactoryMethodSmooth:return De}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,i=0,n=e.length;i!==n;++i)e[i]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,i=0,n=e.length;i!==n;++i)e[i]*=t;return this},trim:function(t,e){var i=this.times,n=i.length,r=0,a=n-1;while(r!==n&&i[r]<t)++r;while(-1!==a&&i[a]>e)--a;if(++a,0!==r||a!==n){r>=a&&(a=Math.max(a,1),r=a-1);var o=this.getValueSize();this.times=wd.arraySlice(i,r,a),this.values=wd.arraySlice(this.values,r*o,a*o)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var i=this.times,n=this.values,r=i.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var a=null,o=0;o!==r;o++){var s=i[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),t=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),t=!1;break}a=s}if(void 0!==n&&wd.isTypedArray(n)){o=0;for(var c=n.length;o!==c;++o){var l=n[o];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,l),t=!1;break}}}return t},optimize:function(){for(var t=wd.arraySlice(this.times),e=wd.arraySlice(this.values),i=this.getValueSize(),n=this.getInterpolation()===De,r=1,a=t.length-1,o=1;o<a;++o){var s=!1,c=t[o],l=t[o+1];if(c!==l&&(1!==o||c!==c[0]))if(n)s=!0;else for(var u=o*i,h=u-i,d=u+i,p=0;p!==i;++p){var f=e[u+p];if(f!==e[h+p]||f!==e[d+p]){s=!0;break}}if(s){if(o!==r){t[r]=t[o];var m=o*i,v=r*i;for(p=0;p!==i;++p)e[v+p]=e[m+p]}++r}}if(a>0){t[r]=t[a];for(m=a*i,v=r*i,p=0;p!==i;++p)e[v+p]=e[m+p];++r}return r!==t.length?(this.times=wd.arraySlice(t,0,r),this.values=wd.arraySlice(e,0,r*i)):(this.times=t,this.values=e),this},clone:function(){var t=wd.arraySlice(this.times,0),e=wd.arraySlice(this.values,0),i=this.constructor,n=new i(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}),Cd.prototype=Object.assign(Object.create(Td.prototype),{constructor:Cd,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Oe,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ld.prototype=Object.assign(Object.create(Td.prototype),{constructor:Ld,ValueTypeName:"color"}),Rd.prototype=Object.assign(Object.create(Td.prototype),{constructor:Rd,ValueTypeName:"number"}),Pd.prototype=Object.assign(Object.create(Md.prototype),{constructor:Pd,interpolate_:function(t,e,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,c=(i-e)/(n-e),l=s+o;s!==l;s+=4)gi.slerpFlat(r,0,a,s-o,a,s,c);return r}}),Id.prototype=Object.assign(Object.create(Td.prototype),{constructor:Id,ValueTypeName:"quaternion",DefaultInterpolation:Ue,InterpolantFactoryMethodLinear:function(t){return new Pd(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Od.prototype=Object.assign(Object.create(Td.prototype),{constructor:Od,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Oe,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ud.prototype=Object.assign(Object.create(Td.prototype),{constructor:Ud,ValueTypeName:"vector"}),Object.assign(Dd,{parse:function(t){for(var e=[],i=t.tracks,n=1/(t.fps||1),r=0,a=i.length;r!==a;++r)e.push(zd(i[r]).scale(n));return new Dd(t.name,t.duration,e,t.blendMode)},toJSON:function(t){for(var e=[],i=t.tracks,n={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode},r=0,a=i.length;r!==a;++r)e.push(Td.toJSON(i[r]));return n},CreateFromMorphTargetSequence:function(t,e,i,n){for(var r=e.length,a=[],o=0;o<r;o++){var s=[],c=[];s.push((o+r-1)%r,o,(o+1)%r),c.push(0,1,0);var l=wd.getKeyframeOrder(s);s=wd.sortedArray(s,1,l),c=wd.sortedArray(c,1,l),n||0!==s[0]||(s.push(r),c.push(c[0])),a.push(new Rd(".morphTargetInfluences["+e[o].name+"]",s,c).scale(1/i))}return new Dd(t,-1,a)},findByName:function(t,e){var i=t;if(!Array.isArray(t)){var n=t;i=n.geometry&&n.geometry.animations||n.animations}for(var r=0;r<i.length;r++)if(i[r].name===e)return i[r];return null},CreateClipsFromMorphTargetSequences:function(t,e,i){for(var n={},r=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],c=s.name.match(r);if(c&&c.length>1){var l=c[1],u=n[l];u||(n[l]=u=[]),u.push(s)}}var h=[];for(var l in n)h.push(Dd.CreateFromMorphTargetSequence(l,n[l],e,i));return h},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var i=function(t,e,i,n,r){if(0!==i.length){var a=[],o=[];wd.flattenJSON(i,a,o,n),0!==a.length&&r.push(new t(e,a,o))}},n=[],r=t.name||"default",a=t.length||-1,o=t.fps||30,s=t.blendMode,c=t.hierarchy||[],l=0;l<c.length;l++){var u=c[l].keys;if(u&&0!==u.length)if(u[0].morphTargets){for(var h={},d=0;d<u.length;d++)if(u[d].morphTargets)for(var p=0;p<u[d].morphTargets.length;p++)h[u[d].morphTargets[p]]=-1;for(var f in h){var m=[],v=[];for(p=0;p!==u[d].morphTargets.length;++p){var g=u[d];m.push(g.time),v.push(g.morphTarget===f?1:0)}n.push(new Rd(".morphTargetInfluence["+f+"]",m,v))}a=h.length*(o||1)}else{var y=".bones["+e[l].name+"]";i(Ud,y+".position",u,"pos",n),i(Id,y+".quaternion",u,"rot",n),i(Ud,y+".scale",u,"scl",n)}}if(0===n.length)return null;var _=new Dd(r,a,n,s);return _}}),Object.assign(Dd.prototype,{resetDuration:function(){for(var t=this.tracks,e=0,i=0,n=t.length;i!==n;++i){var r=this.tracks[i];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){for(var t=[],e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new Dd(this.name,this.duration,t,this.blendMode)}});var Fd={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function Bd(t,e,i){var n=this,r=!1,a=0,o=0,s=void 0,c=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(t){o++,!1===r&&void 0!==n.onStart&&n.onStart(t,a,o),r=!0},this.itemEnd=function(t){a++,void 0!==n.onProgress&&n.onProgress(t,a,o),a===o&&(r=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(t){void 0!==n.onError&&n.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this},this.addHandler=function(t,e){return c.push(t,e),this},this.removeHandler=function(t){var e=c.indexOf(t);return-1!==e&&c.splice(e,2),this},this.getHandler=function(t){for(var e=0,i=c.length;e<i;e+=2){var n=c[e],r=c[e+1];if(n.global&&(n.lastIndex=0),n.test(t))return r}return null}}var Gd=new Bd;function kd(t){this.manager=void 0!==t?t:Gd,this.crossOrigin="anonymous",this.path="",this.resourcePath=""}Object.assign(kd.prototype,{load:function(){},loadAsync:function(t,e){var i=this;return new Promise((function(n,r){i.load(t,n,e,r)}))},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this}});var Hd={};function Vd(t){kd.call(this,t)}function jd(t){kd.call(this,t)}function Wd(t){kd.call(this,t)}function Xd(t){kd.call(this,t)}function Yd(t){kd.call(this,t)}function Zd(t){kd.call(this,t)}function qd(t){kd.call(this,t)}function Jd(){this.type="Curve",this.arcLengthDivisions=200}function Qd(t,e,i,n,r,a,o,s){Jd.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=i||1,this.yRadius=n||1,this.aStartAngle=r||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function Kd(t,e,i,n,r,a){Qd.call(this,t,e,i,i,n,r,a),this.type="ArcCurve"}function $d(){var t=0,e=0,i=0,n=0;function r(r,a,o,s){t=r,e=o,i=-3*r+3*a-2*o-s,n=2*r-2*a+o+s}return{initCatmullRom:function(t,e,i,n,a){r(e,i,a*(i-t),a*(n-e))},initNonuniformCatmullRom:function(t,e,i,n,a,o,s){var c=(e-t)/a-(i-t)/(a+o)+(i-e)/o,l=(i-e)/o-(n-e)/(o+s)+(n-i)/s;c*=o,l*=o,r(e,i,c,l)},calc:function(r){var a=r*r,o=a*r;return t+e*r+i*a+n*o}}}Vd.prototype=Object.assign(Object.create(kd.prototype),{constructor:Vd,load:function(t,e,i,n){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=Fd.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout((function(){e&&e(a),r.manager.itemEnd(t)}),0),a;if(void 0===Hd[t]){var o=/^data:(.*?)(;base64)?,(.*)$/,s=t.match(o);if(s){var c=s[1],l=!!s[2],u=s[3];u=decodeURIComponent(u),l&&(u=atob(u));try{var h,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var p=new Uint8Array(u.length),f=0;f<u.length;f++)p[f]=u.charCodeAt(f);h="blob"===d?new Blob([p.buffer],{type:c}):p.buffer;break;case"document":var m=new DOMParser;h=m.parseFromString(u,c);break;case"json":h=JSON.parse(u);break;default:h=u;break}setTimeout((function(){e&&e(h),r.manager.itemEnd(t)}),0)}catch(y){setTimeout((function(){n&&n(y),r.manager.itemError(t),r.manager.itemEnd(t)}),0)}}else{Hd[t]=[],Hd[t].push({onLoad:e,onProgress:i,onError:n});var v=new XMLHttpRequest;for(var g in v.open("GET",t,!0),v.addEventListener("load",(function(e){var i=this.response,n=Hd[t];if(delete Hd[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Fd.add(t,i);for(var a=0,o=n.length;a<o;a++){var s=n[a];s.onLoad&&s.onLoad(i)}r.manager.itemEnd(t)}else{for(a=0,o=n.length;a<o;a++){s=n[a];s.onError&&s.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}}),!1),v.addEventListener("progress",(function(e){for(var i=Hd[t],n=0,r=i.length;n<r;n++){var a=i[n];a.onProgress&&a.onProgress(e)}}),!1),v.addEventListener("error",(function(e){var i=Hd[t];delete Hd[t];for(var n=0,a=i.length;n<a;n++){var o=i[n];o.onError&&o.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),v.addEventListener("abort",(function(e){var i=Hd[t];delete Hd[t];for(var n=0,a=i.length;n<a;n++){var o=i[n];o.onError&&o.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(v.responseType=this.responseType),void 0!==this.withCredentials&&(v.withCredentials=this.withCredentials),v.overrideMimeType&&v.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)v.setRequestHeader(g,this.requestHeader[g]);v.send(null)}return r.manager.itemStart(t),v}Hd[t].push({onLoad:e,onProgress:i,onError:n})},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),jd.prototype=Object.assign(Object.create(kd.prototype),{constructor:jd,load:function(t,e,i,n){var r=this,a=new Vd(r.manager);a.setPath(r.path),a.load(t,(function(t){e(r.parse(JSON.parse(t)))}),i,n)},parse:function(t){for(var e=[],i=0;i<t.length;i++){var n=Dd.parse(t[i]);e.push(n)}return e}}),Wd.prototype=Object.assign(Object.create(kd.prototype),{constructor:Wd,load:function(t,e,i,n){var r=this,a=[],o=new Bu;o.image=a;var s=new Vd(this.manager);function c(c){s.load(t[c],(function(t){var i=r.parse(t,!0);a[c]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},l+=1,6===l&&(1===i.mipmapCount&&(o.minFilter=mt),o.format=i.format,o.needsUpdate=!0,e&&e(o))}),i,n)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var l=0,u=0,h=t.length;u<h;++u)c(u);else s.load(t,(function(t){var i=r.parse(t,!0);if(i.isCubemap)for(var n=i.mipmaps.length/i.mipmapCount,s=0;s<n;s++){a[s]={mipmaps:[]};for(var c=0;c<i.mipmapCount;c++)a[s].mipmaps.push(i.mipmaps[s*i.mipmapCount+c]),a[s].format=i.format,a[s].width=i.width,a[s].height=i.height}else o.image.width=i.width,o.image.height=i.height,o.mipmaps=i.mipmaps;1===i.mipmapCount&&(o.minFilter=mt),o.format=i.format,o.needsUpdate=!0,e&&e(o)}),i,n);return o}}),Xd.prototype=Object.assign(Object.create(kd.prototype),{constructor:Xd,load:function(t,e,i,n){var r=this,a=new Kr,o=new Vd(this.manager);return o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(t,(function(t){var i=r.parse(t);i&&(void 0!==i.image?a.image=i.image:void 0!==i.data&&(a.image.width=i.width,a.image.height=i.height,a.image.data=i.data),a.wrapS=void 0!==i.wrapS?i.wrapS:ut,a.wrapT=void 0!==i.wrapT?i.wrapT:ut,a.magFilter=void 0!==i.magFilter?i.magFilter:mt,a.minFilter=void 0!==i.minFilter?i.minFilter:mt,a.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.format&&(a.format=i.format),void 0!==i.type&&(a.type=i.type),void 0!==i.mipmaps&&(a.mipmaps=i.mipmaps,a.minFilter=gt),1===i.mipmapCount&&(a.minFilter=mt),a.needsUpdate=!0,e&&e(a,i))}),i,n),a}}),Yd.prototype=Object.assign(Object.create(kd.prototype),{constructor:Yd,load:function(t,e,i,n){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=Fd.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout((function(){e&&e(a),r.manager.itemEnd(t)}),0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",c,!1),Fd.add(t,this),e&&e(this),r.manager.itemEnd(t)}function c(e){o.removeEventListener("load",s,!1),o.removeEventListener("error",c,!1),n&&n(e),r.manager.itemError(t),r.manager.itemEnd(t)}return o.addEventListener("load",s,!1),o.addEventListener("error",c,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(t),o.src=t,o}}),Zd.prototype=Object.assign(Object.create(kd.prototype),{constructor:Zd,load:function(t,e,i,n){var r=new Gs,a=new Yd(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(i){a.load(t[i],(function(t){r.images[i]=t,o++,6===o&&(r.needsUpdate=!0,e&&e(r))}),void 0,n)}for(var c=0;c<t.length;++c)s(c);return r}}),qd.prototype=Object.assign(Object.create(kd.prototype),{constructor:qd,load:function(t,e,i,n){var r=new pi,a=new Yd(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,(function(i){r.image=i;var n=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);r.format=n?Pt:It,r.needsUpdate=!0,void 0!==e&&e(r)}),i,n),r}}),Object.assign(Jd.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){var i=this.getUtoTmapping(t);return this.getPoint(i,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i,n=[],r=this.getPoint(0),a=0;for(n.push(0),i=1;i<=t;i++)e=this.getPoint(i/t),a+=e.distanceTo(r),n.push(a),r=e;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var i,n=this.getLengths(),r=0,a=n.length;i=e||t*n[a-1];var o,s=0,c=a-1;while(s<=c)if(r=Math.floor(s+(c-s)/2),o=n[r]-i,o<0)s=r+1;else{if(!(o>0)){c=r;break}c=r-1}if(r=c,n[r]===i)return r/(a-1);var l=n[r],u=n[r+1],h=u-l,d=(i-l)/h,p=(r+d)/(a-1);return p},getTangent:function(t,e){var i=1e-4,n=t-i,r=t+i;n<0&&(n=0),r>1&&(r=1);var a=this.getPoint(n),o=this.getPoint(r),s=e||(a.isVector2?new li:new xi);return s.copy(o).sub(a).normalize(),s},getTangentAt:function(t,e){var i=this.getUtoTmapping(t);return this.getTangent(i,e)},computeFrenetFrames:function(t,e){var i,n,r,a=new xi,o=[],s=[],c=[],l=new xi,u=new Ci;for(i=0;i<=t;i++)n=i/t,o[i]=this.getTangentAt(n,new xi),o[i].normalize();s[0]=new xi,c[0]=new xi;var h=Number.MAX_VALUE,d=Math.abs(o[0].x),p=Math.abs(o[0].y),f=Math.abs(o[0].z);for(d<=h&&(h=d,a.set(1,0,0)),p<=h&&(h=p,a.set(0,1,0)),f<=h&&a.set(0,0,1),l.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],l),c[0].crossVectors(o[0],s[0]),i=1;i<=t;i++)s[i]=s[i-1].clone(),c[i]=c[i-1].clone(),l.crossVectors(o[i-1],o[i]),l.length()>Number.EPSILON&&(l.normalize(),r=Math.acos(ci.clamp(o[i-1].dot(o[i]),-1,1)),s[i].applyMatrix4(u.makeRotationAxis(l,r))),c[i].crossVectors(o[i],s[i]);if(!0===e)for(r=Math.acos(ci.clamp(s[0].dot(s[t]),-1,1)),r/=t,o[0].dot(l.crossVectors(s[0],s[t]))>0&&(r=-r),i=1;i<=t;i++)s[i].applyMatrix4(u.makeRotationAxis(o[i],r*i)),c[i].crossVectors(o[i],s[i]);return{tangents:o,normals:s,binormals:c}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),Qd.prototype=Object.create(Jd.prototype),Qd.prototype.constructor=Qd,Qd.prototype.isEllipseCurve=!0,Qd.prototype.getPoint=function(t,e){var i=e||new li,n=2*Math.PI,r=this.aEndAngle-this.aStartAngle,a=Math.abs(r)<Number.EPSILON;while(r<0)r+=n;while(r>n)r-=n;r<Number.EPSILON&&(r=a?0:n),!0!==this.aClockwise||a||(r===n?r=-n:r-=n);var o=this.aStartAngle+t*r,s=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),u=Math.sin(this.aRotation),h=s-this.aX,d=c-this.aY;s=h*l-d*u+this.aX,c=h*u+d*l+this.aY}return i.set(s,c)},Qd.prototype.copy=function(t){return Jd.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Qd.prototype.toJSON=function(){var t=Jd.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},Qd.prototype.fromJSON=function(t){return Jd.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Kd.prototype=Object.create(Qd.prototype),Kd.prototype.constructor=Kd,Kd.prototype.isArcCurve=!0;var tp=new xi,ep=new $d,ip=new $d,np=new $d;function rp(t,e,i,n){Jd.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=i||"centripetal",this.tension=n||.5}function ap(t,e,i,n,r){var a=.5*(n-e),o=.5*(r-i),s=t*t,c=t*s;return(2*i-2*n+a+o)*c+(-3*i+3*n-2*a-o)*s+a*t+i}function op(t,e){var i=1-t;return i*i*e}function sp(t,e){return 2*(1-t)*t*e}function cp(t,e){return t*t*e}function lp(t,e,i,n){return op(t,e)+sp(t,i)+cp(t,n)}function up(t,e){var i=1-t;return i*i*i*e}function hp(t,e){var i=1-t;return 3*i*i*t*e}function dp(t,e){return 3*(1-t)*t*t*e}function pp(t,e){return t*t*t*e}function fp(t,e,i,n,r){return up(t,e)+hp(t,i)+dp(t,n)+pp(t,r)}function mp(t,e,i,n){Jd.call(this),this.type="CubicBezierCurve",this.v0=t||new li,this.v1=e||new li,this.v2=i||new li,this.v3=n||new li}function vp(t,e,i,n){Jd.call(this),this.type="CubicBezierCurve3",this.v0=t||new xi,this.v1=e||new xi,this.v2=i||new xi,this.v3=n||new xi}function gp(t,e){Jd.call(this),this.type="LineCurve",this.v1=t||new li,this.v2=e||new li}function yp(t,e){Jd.call(this),this.type="LineCurve3",this.v1=t||new xi,this.v2=e||new xi}function _p(t,e,i){Jd.call(this),this.type="QuadraticBezierCurve",this.v0=t||new li,this.v1=e||new li,this.v2=i||new li}function xp(t,e,i){Jd.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new xi,this.v1=e||new xi,this.v2=i||new xi}function bp(t){Jd.call(this),this.type="SplineCurve",this.points=t||[]}rp.prototype=Object.create(Jd.prototype),rp.prototype.constructor=rp,rp.prototype.isCatmullRomCurve3=!0,rp.prototype.getPoint=function(t,e){var i,n,r,a,o=e||new xi,s=this.points,c=s.length,l=(c-(this.closed?0:1))*t,u=Math.floor(l),h=l-u;if(this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/c)+1)*c:0===h&&u===c-1&&(u=c-2,h=1),this.closed||u>0?i=s[(u-1)%c]:(tp.subVectors(s[0],s[1]).add(s[0]),i=tp),n=s[u%c],r=s[(u+1)%c],this.closed||u+2<c?a=s[(u+2)%c]:(tp.subVectors(s[c-1],s[c-2]).add(s[c-1]),a=tp),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,p=Math.pow(i.distanceToSquared(n),d),f=Math.pow(n.distanceToSquared(r),d),m=Math.pow(r.distanceToSquared(a),d);f<1e-4&&(f=1),p<1e-4&&(p=f),m<1e-4&&(m=f),ep.initNonuniformCatmullRom(i.x,n.x,r.x,a.x,p,f,m),ip.initNonuniformCatmullRom(i.y,n.y,r.y,a.y,p,f,m),np.initNonuniformCatmullRom(i.z,n.z,r.z,a.z,p,f,m)}else"catmullrom"===this.curveType&&(ep.initCatmullRom(i.x,n.x,r.x,a.x,this.tension),ip.initCatmullRom(i.y,n.y,r.y,a.y,this.tension),np.initCatmullRom(i.z,n.z,r.z,a.z,this.tension));return o.set(ep.calc(h),ip.calc(h),np.calc(h)),o},rp.prototype.copy=function(t){Jd.prototype.copy.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var n=t.points[e];this.points.push(n.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},rp.prototype.toJSON=function(){var t=Jd.prototype.toJSON.call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++){var n=this.points[e];t.points.push(n.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},rp.prototype.fromJSON=function(t){Jd.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var n=t.points[e];this.points.push((new xi).fromArray(n))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},mp.prototype=Object.create(Jd.prototype),mp.prototype.constructor=mp,mp.prototype.isCubicBezierCurve=!0,mp.prototype.getPoint=function(t,e){var i=e||new li,n=this.v0,r=this.v1,a=this.v2,o=this.v3;return i.set(fp(t,n.x,r.x,a.x,o.x),fp(t,n.y,r.y,a.y,o.y)),i},mp.prototype.copy=function(t){return Jd.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},mp.prototype.toJSON=function(){var t=Jd.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},mp.prototype.fromJSON=function(t){return Jd.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},vp.prototype=Object.create(Jd.prototype),vp.prototype.constructor=vp,vp.prototype.isCubicBezierCurve3=!0,vp.prototype.getPoint=function(t,e){var i=e||new xi,n=this.v0,r=this.v1,a=this.v2,o=this.v3;return i.set(fp(t,n.x,r.x,a.x,o.x),fp(t,n.y,r.y,a.y,o.y),fp(t,n.z,r.z,a.z,o.z)),i},vp.prototype.copy=function(t){return Jd.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},vp.prototype.toJSON=function(){var t=Jd.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},vp.prototype.fromJSON=function(t){return Jd.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},gp.prototype=Object.create(Jd.prototype),gp.prototype.constructor=gp,gp.prototype.isLineCurve=!0,gp.prototype.getPoint=function(t,e){var i=e||new li;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},gp.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},gp.prototype.getTangent=function(t,e){var i=e||new li;i=i.copy(this.v2).sub(this.v1).normalize();return i},gp.prototype.copy=function(t){return Jd.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},gp.prototype.toJSON=function(){var t=Jd.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},gp.prototype.fromJSON=function(t){return Jd.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},yp.prototype=Object.create(Jd.prototype),yp.prototype.constructor=yp,yp.prototype.isLineCurve3=!0,yp.prototype.getPoint=function(t,e){var i=e||new xi;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},yp.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},yp.prototype.copy=function(t){return Jd.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},yp.prototype.toJSON=function(){var t=Jd.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},yp.prototype.fromJSON=function(t){return Jd.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},_p.prototype=Object.create(Jd.prototype),_p.prototype.constructor=_p,_p.prototype.isQuadraticBezierCurve=!0,_p.prototype.getPoint=function(t,e){var i=e||new li,n=this.v0,r=this.v1,a=this.v2;return i.set(lp(t,n.x,r.x,a.x),lp(t,n.y,r.y,a.y)),i},_p.prototype.copy=function(t){return Jd.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},_p.prototype.toJSON=function(){var t=Jd.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},_p.prototype.fromJSON=function(t){return Jd.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},xp.prototype=Object.create(Jd.prototype),xp.prototype.constructor=xp,xp.prototype.isQuadraticBezierCurve3=!0,xp.prototype.getPoint=function(t,e){var i=e||new xi,n=this.v0,r=this.v1,a=this.v2;return i.set(lp(t,n.x,r.x,a.x),lp(t,n.y,r.y,a.y),lp(t,n.z,r.z,a.z)),i},xp.prototype.copy=function(t){return Jd.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},xp.prototype.toJSON=function(){var t=Jd.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},xp.prototype.fromJSON=function(t){return Jd.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},bp.prototype=Object.create(Jd.prototype),bp.prototype.constructor=bp,bp.prototype.isSplineCurve=!0,bp.prototype.getPoint=function(t,e){var i=e||new li,n=this.points,r=(n.length-1)*t,a=Math.floor(r),o=r-a,s=n[0===a?a:a-1],c=n[a],l=n[a>n.length-2?n.length-1:a+1],u=n[a>n.length-3?n.length-1:a+2];return i.set(ap(o,s.x,c.x,l.x,u.x),ap(o,s.y,c.y,l.y,u.y)),i},bp.prototype.copy=function(t){Jd.prototype.copy.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var n=t.points[e];this.points.push(n.clone())}return this},bp.prototype.toJSON=function(){var t=Jd.prototype.toJSON.call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++){var n=this.points[e];t.points.push(n.toArray())}return t},bp.prototype.fromJSON=function(t){Jd.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var n=t.points[e];this.points.push((new li).fromArray(n))}return this};var wp=Object.freeze({__proto__:null,ArcCurve:Kd,CatmullRomCurve3:rp,CubicBezierCurve:mp,CubicBezierCurve3:vp,EllipseCurve:Qd,LineCurve:gp,LineCurve3:yp,QuadraticBezierCurve:_p,QuadraticBezierCurve3:xp,SplineCurve:bp});function Mp(){Jd.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Ep(t){Mp.call(this),this.type="Path",this.currentPoint=new li,t&&this.setFromPoints(t)}function Sp(t){Ep.call(this,t),this.uuid=ci.generateUUID(),this.type="Shape",this.holes=[]}function Ap(t,e){Xi.call(this),this.type="Light",this.color=new Fn(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function Tp(t,e,i){Ap.call(this,t,i),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Xi.DefaultUp),this.updateMatrix(),this.groundColor=new Fn(e)}function Cp(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new li(512,512),this.map=null,this.mapPass=null,this.matrix=new Ci,this._frustum=new ea,this._frameExtents=new li(1,1),this._viewportCount=1,this._viewports=[new fi(0,0,1,1)]}function Lp(){Cp.call(this,new Yr(50,1,.5,500))}function Rp(t,e,i,n,r,a){Ap.call(this,t,e),this.type="SpotLight",this.position.copy(Xi.DefaultUp),this.updateMatrix(),this.target=new Xi,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==i?i:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==a?a:1,this.shadow=new Lp}function Pp(){Cp.call(this,new Yr(90,1,.5,500)),this._frameExtents=new li(4,2),this._viewportCount=6,this._viewports=[new fi(2,1,1,1),new fi(0,1,1,1),new fi(3,1,1,1),new fi(1,1,1,1),new fi(3,0,1,1),new fi(1,0,1,1)],this._cubeDirections=[new xi(1,0,0),new xi(-1,0,0),new xi(0,0,1),new xi(0,0,-1),new xi(0,1,0),new xi(0,-1,0)],this._cubeUps=[new xi(0,1,0),new xi(0,1,0),new xi(0,1,0),new xi(0,1,0),new xi(0,0,1),new xi(0,0,-1)]}function Ip(t,e,i,n){Ap.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==i?i:0,this.decay=void 0!==n?n:1,this.shadow=new Pp}function Op(t,e,i,n,r,a){Xr.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==i?i:1,this.bottom=void 0!==n?n:-1,this.near=void 0!==r?r:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function Up(){Cp.call(this,new Op(-5,5,5,-5,.5,500))}function Dp(t,e){Ap.call(this,t,e),this.type="DirectionalLight",this.position.copy(Xi.DefaultUp),this.updateMatrix(),this.target=new Xi,this.shadow=new Up}function Np(t,e){Ap.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function zp(t,e,i,n){Ap.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==i?i:10,this.height=void 0!==n?n:10}function Fp(){this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new xi)}function Bp(t,e){Ap.call(this,void 0,e),this.type="LightProbe",this.sh=void 0!==t?t:new Fp}function Gp(t){kd.call(this,t),this.textures={}}Mp.prototype=Object.assign(Object.create(Jd.prototype),{constructor:Mp,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new gp(e,t))},getPoint:function(t){var e=t*this.getLength(),i=this.getCurveLengths(),n=0;while(n<i.length){if(i[n]>=e){var r=i[n]-e,a=this.curves[n],o=a.getLength(),s=0===o?0:1-r/o;return a.getPointAt(s)}n++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0,n=this.curves.length;i<n;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,i=[],n=0,r=this.curves;n<r.length;n++)for(var a=r[n],o=a&&a.isEllipseCurve?2*t:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),c=0;c<s.length;c++){var l=s[c];e&&e.equals(l)||(i.push(l),e=l)}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},copy:function(t){Jd.prototype.copy.call(this,t),this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var n=t.curves[e];this.curves.push(n.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){var t=Jd.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,i=this.curves.length;e<i;e++){var n=this.curves[e];t.curves.push(n.toJSON())}return t},fromJSON:function(t){Jd.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var n=t.curves[e];this.curves.push((new wp[n.type]).fromJSON(n))}return this}}),Ep.prototype=Object.assign(Object.create(Mp.prototype),{constructor:Ep,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this},moveTo:function(t,e){return this.currentPoint.set(t,e),this},lineTo:function(t,e){var i=new gp(this.currentPoint.clone(),new li(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this},quadraticCurveTo:function(t,e,i,n){var r=new _p(this.currentPoint.clone(),new li(t,e),new li(i,n));return this.curves.push(r),this.currentPoint.set(i,n),this},bezierCurveTo:function(t,e,i,n,r,a){var o=new mp(this.currentPoint.clone(),new li(t,e),new li(i,n),new li(r,a));return this.curves.push(o),this.currentPoint.set(r,a),this},splineThru:function(t){var e=[this.currentPoint.clone()].concat(t),i=new bp(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,e,i,n,r,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(t+o,e+s,i,n,r,a),this},absarc:function(t,e,i,n,r,a){return this.absellipse(t,e,i,i,n,r,a),this},ellipse:function(t,e,i,n,r,a,o,s){var c=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(t+c,e+l,i,n,r,a,o,s),this},absellipse:function(t,e,i,n,r,a,o,s){var c=new Qd(t,e,i,n,r,a,o,s);if(this.curves.length>0){var l=c.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(c);var u=c.getPoint(1);return this.currentPoint.copy(u),this},copy:function(t){return Mp.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=Mp.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return Mp.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),Sp.prototype=Object.assign(Object.create(Ep.prototype),{constructor:Sp,getPointsHoles:function(t){for(var e=[],i=0,n=this.holes.length;i<n;i++)e[i]=this.holes[i].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){Ep.prototype.copy.call(this,t),this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var n=t.holes[e];this.holes.push(n.clone())}return this},toJSON:function(){var t=Ep.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,i=this.holes.length;e<i;e++){var n=this.holes[e];t.holes.push(n.toJSON())}return t},fromJSON:function(t){Ep.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var n=t.holes[e];this.holes.push((new Ep).fromJSON(n))}return this}}),Ap.prototype=Object.assign(Object.create(Xi.prototype),{constructor:Ap,isLight:!0,copy:function(t){return Xi.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=Xi.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),Tp.prototype=Object.assign(Object.create(Ap.prototype),{constructor:Tp,isHemisphereLight:!0,copy:function(t){return Ap.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(Cp.prototype,{_projScreenMatrix:new Ci,_lightPositionWorld:new xi,_lookTarget:new xi,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){var e=this.camera,i=this.matrix,n=this._projScreenMatrix,r=this._lookTarget,a=this._lightPositionWorld;a.setFromMatrixPosition(t.matrixWorld),e.position.copy(a),r.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(r),e.updateMatrixWorld(),n.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(n),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(e.projectionMatrix),i.multiply(e.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),Lp.prototype=Object.assign(Object.create(Cp.prototype),{constructor:Lp,isSpotLightShadow:!0,updateMatrices:function(t){var e=this.camera,i=2*ci.RAD2DEG*t.angle,n=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;i===e.fov&&n===e.aspect&&r===e.far||(e.fov=i,e.aspect=n,e.far=r,e.updateProjectionMatrix()),Cp.prototype.updateMatrices.call(this,t)}}),Rp.prototype=Object.assign(Object.create(Ap.prototype),{constructor:Rp,isSpotLight:!0,copy:function(t){return Ap.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Pp.prototype=Object.assign(Object.create(Cp.prototype),{constructor:Pp,isPointLightShadow:!0,updateMatrices:function(t,e){void 0===e&&(e=0);var i=this.camera,n=this.matrix,r=this._lightPositionWorld,a=this._lookTarget,o=this._projScreenMatrix;r.setFromMatrixPosition(t.matrixWorld),i.position.copy(r),a.copy(i.position),a.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(a),i.updateMatrixWorld(),n.makeTranslation(-r.x,-r.y,-r.z),o.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o)}}),Ip.prototype=Object.assign(Object.create(Ap.prototype),{constructor:Ip,isPointLight:!0,copy:function(t){return Ap.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Op.prototype=Object.assign(Object.create(Xr.prototype),{constructor:Op,isOrthographicCamera:!0,copy:function(t,e){return Xr.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,i,n,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=n,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,n=(this.top+this.bottom)/2,r=i-t,a=i+t,o=n+e,s=n-e;if(null!==this.view&&this.view.enabled){var c=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=c*this.view.offsetX,a=r+c*this.view.width,o-=l*this.view.offsetY,s=o-l*this.view.height}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=Xi.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),Up.prototype=Object.assign(Object.create(Cp.prototype),{constructor:Up,isDirectionalLightShadow:!0,updateMatrices:function(t){Cp.prototype.updateMatrices.call(this,t)}}),Dp.prototype=Object.assign(Object.create(Ap.prototype),{constructor:Dp,isDirectionalLight:!0,copy:function(t){return Ap.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Np.prototype=Object.assign(Object.create(Ap.prototype),{constructor:Np,isAmbientLight:!0}),zp.prototype=Object.assign(Object.create(Ap.prototype),{constructor:zp,isRectAreaLight:!0,copy:function(t){return Ap.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=Ap.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}}),Object.assign(Fp.prototype,{isSphericalHarmonics3:!0,set:function(t){for(var e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this},zero:function(){for(var t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this},getAt:function(t,e){var i=t.x,n=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.282095),e.addScaledVector(a[1],.488603*n),e.addScaledVector(a[2],.488603*r),e.addScaledVector(a[3],.488603*i),e.addScaledVector(a[4],i*n*1.092548),e.addScaledVector(a[5],n*r*1.092548),e.addScaledVector(a[6],.315392*(3*r*r-1)),e.addScaledVector(a[7],i*r*1.092548),e.addScaledVector(a[8],.546274*(i*i-n*n)),e},getIrradianceAt:function(t,e){var i=t.x,n=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.886227),e.addScaledVector(a[1],1.023328*n),e.addScaledVector(a[2],1.023328*r),e.addScaledVector(a[3],1.023328*i),e.addScaledVector(a[4],.858086*i*n),e.addScaledVector(a[5],.858086*n*r),e.addScaledVector(a[6],.743125*r*r-.247708),e.addScaledVector(a[7],.858086*i*r),e.addScaledVector(a[8],.429043*(i*i-n*n)),e},add:function(t){for(var e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this},addScaledSH:function(t,e){for(var i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this},scale:function(t){for(var e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this},lerp:function(t,e){for(var i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this},equals:function(t){for(var e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0},copy:function(t){return this.set(t.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(t,e){void 0===e&&(e=0);for(var i=this.coefficients,n=0;n<9;n++)i[n].fromArray(t,e+3*n);return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);for(var i=this.coefficients,n=0;n<9;n++)i[n].toArray(t,e+3*n);return t}}),Object.assign(Fp,{getBasisAt:function(t,e){var i=t.x,n=t.y,r=t.z;e[0]=.282095,e[1]=.488603*n,e[2]=.488603*r,e[3]=.488603*i,e[4]=1.092548*i*n,e[5]=1.092548*n*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*i*r,e[8]=.546274*(i*i-n*n)}}),Bp.prototype=Object.assign(Object.create(Ap.prototype),{constructor:Bp,isLightProbe:!0,copy:function(t){return Ap.prototype.copy.call(this,t),this.sh.copy(t.sh),this},fromJSON:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this},toJSON:function(t){var e=Ap.prototype.toJSON.call(this,t);return e.object.sh=this.sh.toArray(),e}}),Gp.prototype=Object.assign(Object.create(kd.prototype),{constructor:Gp,load:function(t,e,i,n){var r=this,a=new Vd(r.manager);a.setPath(r.path),a.load(t,(function(t){e(r.parse(JSON.parse(t)))}),i,n)},parse:function(t){var e=this.textures;function i(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var n=new bd[t.type];if(void 0!==t.uuid&&(n.uuid=t.uuid),void 0!==t.name&&(n.name=t.name),void 0!==t.color&&n.color.setHex(t.color),void 0!==t.roughness&&(n.roughness=t.roughness),void 0!==t.metalness&&(n.metalness=t.metalness),void 0!==t.sheen&&(n.sheen=(new Fn).setHex(t.sheen)),void 0!==t.emissive&&n.emissive.setHex(t.emissive),void 0!==t.specular&&n.specular.setHex(t.specular),void 0!==t.shininess&&(n.shininess=t.shininess),void 0!==t.clearcoat&&(n.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(n.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.fog&&(n.fog=t.fog),void 0!==t.flatShading&&(n.flatShading=t.flatShading),void 0!==t.blending&&(n.blending=t.blending),void 0!==t.combine&&(n.combine=t.combine),void 0!==t.side&&(n.side=t.side),void 0!==t.opacity&&(n.opacity=t.opacity),void 0!==t.transparent&&(n.transparent=t.transparent),void 0!==t.alphaTest&&(n.alphaTest=t.alphaTest),void 0!==t.depthTest&&(n.depthTest=t.depthTest),void 0!==t.depthWrite&&(n.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(n.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(n.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(n.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(n.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(n.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(n.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(n.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(n.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(n.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(n.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(n.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(n.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(n.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(n.rotation=t.rotation),1!==t.linewidth&&(n.linewidth=t.linewidth),void 0!==t.dashSize&&(n.dashSize=t.dashSize),void 0!==t.gapSize&&(n.gapSize=t.gapSize),void 0!==t.scale&&(n.scale=t.scale),void 0!==t.polygonOffset&&(n.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(n.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(n.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(n.skinning=t.skinning),void 0!==t.morphTargets&&(n.morphTargets=t.morphTargets),void 0!==t.morphNormals&&(n.morphNormals=t.morphNormals),void 0!==t.dithering&&(n.dithering=t.dithering),void 0!==t.vertexTangents&&(n.vertexTangents=t.vertexTangents),void 0!==t.visible&&(n.visible=t.visible),void 0!==t.toneMapped&&(n.toneMapped=t.toneMapped),void 0!==t.userData&&(n.userData=t.userData),void 0!==t.vertexColors&&("number"===typeof t.vertexColors?n.vertexColors=t.vertexColors>0:n.vertexColors=t.vertexColors),void 0!==t.uniforms)for(var r in t.uniforms){var a=t.uniforms[r];switch(n.uniforms[r]={},a.type){case"t":n.uniforms[r].value=i(a.value);break;case"c":n.uniforms[r].value=(new Fn).setHex(a.value);break;case"v2":n.uniforms[r].value=(new li).fromArray(a.value);break;case"v3":n.uniforms[r].value=(new xi).fromArray(a.value);break;case"v4":n.uniforms[r].value=(new fi).fromArray(a.value);break;case"m3":n.uniforms[r].value=(new ui).fromArray(a.value);case"m4":n.uniforms[r].value=(new Ci).fromArray(a.value);break;default:n.uniforms[r].value=a.value}}if(void 0!==t.defines&&(n.defines=t.defines),void 0!==t.vertexShader&&(n.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(n.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(var o in t.extensions)n.extensions[o]=t.extensions[o];if(void 0!==t.shading&&(n.flatShading=1===t.shading),void 0!==t.size&&(n.size=t.size),void 0!==t.sizeAttenuation&&(n.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(n.map=i(t.map)),void 0!==t.matcap&&(n.matcap=i(t.matcap)),void 0!==t.alphaMap&&(n.alphaMap=i(t.alphaMap)),void 0!==t.bumpMap&&(n.bumpMap=i(t.bumpMap)),void 0!==t.bumpScale&&(n.bumpScale=t.bumpScale),void 0!==t.normalMap&&(n.normalMap=i(t.normalMap)),void 0!==t.normalMapType&&(n.normalMapType=t.normalMapType),void 0!==t.normalScale){var s=t.normalScale;!1===Array.isArray(s)&&(s=[s,s]),n.normalScale=(new li).fromArray(s)}return void 0!==t.displacementMap&&(n.displacementMap=i(t.displacementMap)),void 0!==t.displacementScale&&(n.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(n.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(n.roughnessMap=i(t.roughnessMap)),void 0!==t.metalnessMap&&(n.metalnessMap=i(t.metalnessMap)),void 0!==t.emissiveMap&&(n.emissiveMap=i(t.emissiveMap)),void 0!==t.emissiveIntensity&&(n.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(n.specularMap=i(t.specularMap)),void 0!==t.envMap&&(n.envMap=i(t.envMap)),void 0!==t.envMapIntensity&&(n.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(n.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(n.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(n.lightMap=i(t.lightMap)),void 0!==t.lightMapIntensity&&(n.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(n.aoMap=i(t.aoMap)),void 0!==t.aoMapIntensity&&(n.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(n.gradientMap=i(t.gradientMap)),void 0!==t.clearcoatMap&&(n.clearcoatMap=i(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(n.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(n.clearcoatNormalMap=i(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(n.clearcoatNormalScale=(new li).fromArray(t.clearcoatNormalScale)),n},setTextures:function(t){return this.textures=t,this}});var kp={decodeText:function(t){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",i=0,n=t.length;i<n;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch(r){return e}},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function Hp(){dr.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Vp(t,e,i,n){"number"===typeof i&&(n=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Yn.call(this,t,e,i),this.meshPerAttribute=n||1}function jp(t){kd.call(this,t)}Hp.prototype=Object.assign(Object.create(dr.prototype),{constructor:Hp,isInstancedBufferGeometry:!0,copy:function(t){return dr.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t=dr.prototype.toJSON.call(this);return t.maxInstancedCount=this.maxInstancedCount,t.isInstancedBufferGeometry=!0,t}}),Vp.prototype=Object.assign(Object.create(Yn.prototype),{constructor:Vp,isInstancedBufferAttribute:!0,copy:function(t){return Yn.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){var t=Yn.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),jp.prototype=Object.assign(Object.create(kd.prototype),{constructor:jp,load:function(t,e,i,n){var r=this,a=new Vd(r.manager);a.setPath(r.path),a.load(t,(function(t){e(r.parse(JSON.parse(t)))}),i,n)},parse:function(t){var e=t.isInstancedBufferGeometry?new Hp:new dr,i=t.data.index;if(void 0!==i){var n=new Wp[i.type](i.array);e.setIndex(new Yn(n,1))}var r=t.data.attributes;for(var a in r){var o=r[a],s=(n=new Wp[o.type](o.array),o.isInstancedBufferAttribute?Vp:Yn),c=new s(n,o.itemSize,o.normalized);void 0!==o.name&&(c.name=o.name),e.setAttribute(a,c)}var l=t.data.morphAttributes;if(l)for(var a in l){for(var u=l[a],h=[],d=0,p=u.length;d<p;d++){o=u[d],n=new Wp[o.type](o.array),c=new Yn(n,o.itemSize,o.normalized);void 0!==o.name&&(c.name=o.name),h.push(c)}e.morphAttributes[a]=h}var f=t.data.morphTargetsRelative;f&&(e.morphTargetsRelative=!0);var m=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==m){d=0;for(var v=m.length;d!==v;++d){var g=m[d];e.addGroup(g.start,g.count,g.materialIndex)}}var y=t.data.boundingSphere;if(void 0!==y){var _=new xi;void 0!==y.center&&_.fromArray(y.center),e.boundingSphere=new hn(_,y.radius)}return t.name&&(e.name=t.name),t.userData&&(e.userData=t.userData),e}});var Wp={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Xp(t){kd.call(this,t)}Xp.prototype=Object.assign(Object.create(kd.prototype),{constructor:Xp,load:function(t,e,i,n){var r=this,a=""===this.path?kp.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||a;var o=new Vd(r.manager);o.setPath(this.path),o.load(t,(function(i){var a=null;try{a=JSON.parse(i)}catch(s){return void 0!==n&&n(s),void console.error("THREE:ObjectLoader: Can't parse "+t+".",s.message)}var o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?r.parse(a,e):console.error("THREE.ObjectLoader: Can't load "+t)}),i,n)},parse:function(t,e){var i=this.parseShape(t.shapes),n=this.parseGeometries(t.geometries,i),r=this.parseImages(t.images,(function(){void 0!==e&&e(s)})),a=this.parseTextures(t.textures,r),o=this.parseMaterials(t.materials,a),s=this.parseObject(t.object,n,o);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseShape:function(t){var e={};if(void 0!==t)for(var i=0,n=t.length;i<n;i++){var r=(new Sp).fromJSON(t[i]);e[r.uuid]=r}return e},parseGeometries:function(t,e){var i={};if(void 0!==t)for(var n=new jp,r=0,a=t.length;r<a;r++){var o,s=t[r];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new ud[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new ud[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new ud[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new ud[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new ud[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new ud[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new ud[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new ud[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new ud[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new ud[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":o=new ud[s.type]((new wp[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":o=new ud[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new ud[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var c=[],l=0,u=s.shapes.length;l<u;l++){var h=e[s.shapes[l]];c.push(h)}o=new ud[s.type](c,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(c=[],l=0,u=s.shapes.length;l<u;l++){h=e[s.shapes[l]];c.push(h)}var d=s.options.extrudePath;void 0!==d&&(s.options.extrudePath=(new wp[d.type]).fromJSON(d)),o=new ud[s.type](c,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":o=n.parse(s);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),i[s.uuid]=o}return i},parseMaterials:function(t,e){var i={},n={};if(void 0!==t){var r=new Gp;r.setTextures(e);for(var a=0,o=t.length;a<o;a++){var s=t[a];if("MultiMaterial"===s.type){for(var c=[],l=0;l<s.materials.length;l++){var u=s.materials[l];void 0===i[u.uuid]&&(i[u.uuid]=r.parse(u)),c.push(i[u.uuid])}n[s.uuid]=c}else void 0===i[s.uuid]&&(i[s.uuid]=r.parse(s)),n[s.uuid]=i[s.uuid]}}return n},parseAnimations:function(t){for(var e=[],i=0;i<t.length;i++){var n=t[i],r=Dd.parse(n);void 0!==n.uuid&&(r.uuid=n.uuid),e.push(r)}return e},parseImages:function(t,e){var i=this,n={};function r(t){return i.manager.itemStart(t),o.load(t,(function(){i.manager.itemEnd(t)}),void 0,(function(){i.manager.itemError(t),i.manager.itemEnd(t)}))}if(void 0!==t&&t.length>0){var a=new Bd(e),o=new Yd(a);o.setCrossOrigin(this.crossOrigin);for(var s=0,c=t.length;s<c;s++){var l=t[s],u=l.url;if(Array.isArray(u)){n[l.uuid]=[];for(var h=0,d=u.length;h<d;h++){var p=u[h],f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;n[l.uuid].push(r(f))}}else{f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:i.resourcePath+l.url;n[l.uuid]=r(f)}}}return n},parseTextures:function(t,e){function i(t,e){return"number"===typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var n={};if(void 0!==t)for(var r=0,a=t.length;r<a;r++){var o,s=t[r];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===e[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),o=Array.isArray(e[s.image])?new Gs(e[s.image]):new pi(e[s.image]),o.needsUpdate=!0,o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.mapping&&(o.mapping=i(s.mapping,Zp)),void 0!==s.offset&&o.offset.fromArray(s.offset),void 0!==s.repeat&&o.repeat.fromArray(s.repeat),void 0!==s.center&&o.center.fromArray(s.center),void 0!==s.rotation&&(o.rotation=s.rotation),void 0!==s.wrap&&(o.wrapS=i(s.wrap[0],qp),o.wrapT=i(s.wrap[1],qp)),void 0!==s.format&&(o.format=s.format),void 0!==s.type&&(o.type=s.type),void 0!==s.encoding&&(o.encoding=s.encoding),void 0!==s.minFilter&&(o.minFilter=i(s.minFilter,Jp)),void 0!==s.magFilter&&(o.magFilter=i(s.magFilter,Jp)),void 0!==s.anisotropy&&(o.anisotropy=s.anisotropy),void 0!==s.flipY&&(o.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(o.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(o.unpackAlignment=s.unpackAlignment),n[s.uuid]=o}return n},parseObject:function(t,e,i){var n;function r(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function a(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],n=0,r=t.length;n<r;n++){var a=t[n];void 0===i[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),e.push(i[a])}return e}return void 0===i[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),i[t]}}switch(t.type){case"Scene":n=new Yi,void 0!==t.background&&Number.isInteger(t.background)&&(n.background=new Fn(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?n.fog=new kl(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(n.fog=new Gl(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":n=new Yr(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(n.focus=t.focus),void 0!==t.zoom&&(n.zoom=t.zoom),void 0!==t.filmGauge&&(n.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(n.filmOffset=t.filmOffset),void 0!==t.view&&(n.view=Object.assign({},t.view));break;case"OrthographicCamera":n=new Op(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(n.zoom=t.zoom),void 0!==t.view&&(n.view=Object.assign({},t.view));break;case"AmbientLight":n=new Np(t.color,t.intensity);break;case"DirectionalLight":n=new Dp(t.color,t.intensity);break;case"PointLight":n=new Ip(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":n=new zp(t.color,t.intensity,t.width,t.height);break;case"SpotLight":n=new Rp(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":n=new Tp(t.color,t.groundColor,t.intensity);break;case"LightProbe":n=(new Bp).fromJSON(t);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var o=r(t.geometry),s=a(t.material);n=new Rr(o,s);break;case"InstancedMesh":o=r(t.geometry),s=a(t.material);var c=t.count,l=t.instanceMatrix;n=new _u(o,s,c),n.instanceMatrix=new Yn(new Float32Array(l.array),16);break;case"LOD":n=new lu;break;case"Line":n=new Au(r(t.geometry),a(t.material),t.mode);break;case"LineLoop":n=new Ru(r(t.geometry),a(t.material));break;case"LineSegments":n=new Lu(r(t.geometry),a(t.material));break;case"PointCloud":case"Points":n=new Nu(r(t.geometry),a(t.material));break;case"Sprite":n=new au(a(t.material));break;case"Group":n=new Nl;break;default:n=new Xi}if(n.uuid=t.uuid,void 0!==t.name&&(n.name=t.name),void 0!==t.matrix?(n.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(n.matrixAutoUpdate=t.matrixAutoUpdate),n.matrixAutoUpdate&&n.matrix.decompose(n.position,n.quaternion,n.scale)):(void 0!==t.position&&n.position.fromArray(t.position),void 0!==t.rotation&&n.rotation.fromArray(t.rotation),void 0!==t.quaternion&&n.quaternion.fromArray(t.quaternion),void 0!==t.scale&&n.scale.fromArray(t.scale)),void 0!==t.castShadow&&(n.castShadow=t.castShadow),void 0!==t.receiveShadow&&(n.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(n.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(n.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&n.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(n.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(n.visible=t.visible),void 0!==t.frustumCulled&&(n.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(n.renderOrder=t.renderOrder),void 0!==t.userData&&(n.userData=t.userData),void 0!==t.layers&&(n.layers.mask=t.layers),void 0!==t.children)for(var u=t.children,h=0;h<u.length;h++)n.add(this.parseObject(u[h],e,i));if("LOD"===t.type){void 0!==t.autoUpdate&&(n.autoUpdate=t.autoUpdate);for(var d=t.levels,p=0;p<d.length;p++){var f=d[p],m=n.getObjectByProperty("uuid",f.object);void 0!==m&&n.addLevel(m,f.distance)}}return n}});var Yp,Zp={UVMapping:et,CubeReflectionMapping:it,CubeRefractionMapping:nt,EquirectangularReflectionMapping:rt,EquirectangularRefractionMapping:at,SphericalReflectionMapping:ot,CubeUVReflectionMapping:st,CubeUVRefractionMapping:ct},qp={RepeatWrapping:lt,ClampToEdgeWrapping:ut,MirroredRepeatWrapping:ht},Jp={NearestFilter:dt,NearestMipmapNearestFilter:pt,NearestMipmapLinearFilter:ft,LinearFilter:mt,LinearMipmapNearestFilter:vt,LinearMipmapLinearFilter:gt};function Qp(t){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),kd.call(this,t),this.options=void 0}function Kp(){this.type="ShapePath",this.color=new Fn,this.subPaths=[],this.currentPath=null}function $p(t){this.type="Font",this.data=t}function tf(t,e,i){for(var n=Array.from?Array.from(t):String(t).split(""),r=e/i.resolution,a=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*r,o=[],s=0,c=0,l=0;l<n.length;l++){var u=n[l];if("\n"===u)s=0,c-=a;else{var h=ef(u,r,s,c,i);s+=h.offsetX,o.push(h.path)}}return o}function ef(t,e,i,n,r){var a=r.glyphs[t]||r.glyphs["?"];if(a){var o,s,c,l,u,h,d,p,f=new Kp;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,g=m.length;v<g;){var y=m[v++];switch(y){case"m":o=m[v++]*e+i,s=m[v++]*e+n,f.moveTo(o,s);break;case"l":o=m[v++]*e+i,s=m[v++]*e+n,f.lineTo(o,s);break;case"q":c=m[v++]*e+i,l=m[v++]*e+n,u=m[v++]*e+i,h=m[v++]*e+n,f.quadraticCurveTo(u,h,c,l);break;case"b":c=m[v++]*e+i,l=m[v++]*e+n,u=m[v++]*e+i,h=m[v++]*e+n,d=m[v++]*e+i,p=m[v++]*e+n,f.bezierCurveTo(u,h,d,p,c,l);break}}return{offsetX:a.ha*e,path:f}}console.error('THREE.Font: character "'+t+'" does not exists in font family '+r.familyName+".")}function nf(t){kd.call(this,t)}Qp.prototype=Object.assign(Object.create(kd.prototype),{constructor:Qp,setOptions:function(t){return this.options=t,this},load:function(t,e,i,n){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=Fd.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout((function(){e&&e(a),r.manager.itemEnd(t)}),0),a;fetch(t).then((function(t){return t.blob()})).then((function(t){return void 0===r.options?createImageBitmap(t):createImageBitmap(t,r.options)})).then((function(i){Fd.add(t,i),e&&e(i),r.manager.itemEnd(t)})).catch((function(e){n&&n(e),r.manager.itemError(t),r.manager.itemEnd(t)})),r.manager.itemStart(t)}}),Object.assign(Kp.prototype,{moveTo:function(t,e){return this.currentPath=new Ep,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this},lineTo:function(t,e){return this.currentPath.lineTo(t,e),this},quadraticCurveTo:function(t,e,i,n){return this.currentPath.quadraticCurveTo(t,e,i,n),this},bezierCurveTo:function(t,e,i,n,r,a){return this.currentPath.bezierCurveTo(t,e,i,n,r,a),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,e){function i(t){for(var e=[],i=0,n=t.length;i<n;i++){var r=t[i],a=new Sp;a.curves=r.curves,e.push(a)}return e}function n(t,e){for(var i=e.length,n=!1,r=i-1,a=0;a<i;r=a++){var o=e[r],s=e[a],c=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=e[a],c=-c,s=e[r],l=-l),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var u=l*(t.x-o.x)-c*(t.y-o.y);if(0===u)return!0;if(u<0)continue;n=!n}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return n}var r=Bh.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===e)return i(a);var o,s,c,l=[];if(1===a.length)return s=a[0],c=new Sp,c.curves=s.curves,l.push(c),l;var u=!r(a[0].getPoints());u=t?!u:u;var h,d,p=[],f=[],m=[],v=0;f[v]=void 0,m[v]=[];for(var g=0,y=a.length;g<y;g++)s=a[g],h=s.getPoints(),o=r(h),o=t?!o:o,o?(!u&&f[v]&&v++,f[v]={s:new Sp,p:h},f[v].s.curves=s.curves,u&&v++,m[v]=[]):m[v].push({h:s,p:h[0]});if(!f[0])return i(a);if(f.length>1){for(var _=!1,x=[],b=0,w=f.length;b<w;b++)p[b]=[];for(b=0,w=f.length;b<w;b++)for(var M=m[b],E=0;E<M.length;E++){for(var S=M[E],A=!0,T=0;T<f.length;T++)n(S.p,f[T].p)&&(b!==T&&x.push({froms:b,tos:T,hole:E}),A?(A=!1,p[T].push(S)):_=!0);A&&p[b].push(S)}x.length>0&&(_||(m=p))}g=0;for(var C=f.length;g<C;g++){c=f[g].s,l.push(c),d=m[g];for(var L=0,R=d.length;L<R;L++)c.holes.push(d[L].h)}return l}}),Object.assign($p.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);for(var i=[],n=tf(t,e,this.data),r=0,a=n.length;r<a;r++)Array.prototype.push.apply(i,n[r].toShapes());return i}}),nf.prototype=Object.assign(Object.create(kd.prototype),{constructor:nf,load:function(t,e,i,n){var r=this,a=new Vd(this.manager);a.setPath(this.path),a.load(t,(function(t){var i;try{i=JSON.parse(t)}catch(a){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),i=JSON.parse(t.substring(65,t.length-2))}var n=r.parse(i);e&&e(n)}),i,n)},parse:function(t){return new $p(t)}});var rf={getContext:function(){return void 0===Yp&&(Yp=new(window.AudioContext||window.webkitAudioContext)),Yp},setContext:function(t){Yp=t}};function af(t){kd.call(this,t)}function of(t,e,i){Bp.call(this,void 0,i);var n=(new Fn).set(t),r=(new Fn).set(e),a=new xi(n.r,n.g,n.b),o=new xi(r.r,r.g,r.b),s=Math.sqrt(Math.PI),c=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(c)}function sf(t,e){Bp.call(this,void 0,e);var i=(new Fn).set(t);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}af.prototype=Object.assign(Object.create(kd.prototype),{constructor:af,load:function(t,e,i,n){var r=new Vd(this.manager);r.setResponseType("arraybuffer"),r.setPath(this.path),r.load(t,(function(t){var i=t.slice(0),n=rf.getContext();n.decodeAudioData(i,(function(t){e(t)}))}),i,n)}}),of.prototype=Object.assign(Object.create(Bp.prototype),{constructor:of,isHemisphereLightProbe:!0,copy:function(t){return Bp.prototype.copy.call(this,t),this},toJSON:function(t){var e=Bp.prototype.toJSON.call(this,t);return e}}),sf.prototype=Object.assign(Object.create(Bp.prototype),{constructor:sf,isAmbientLightProbe:!0,copy:function(t){return Bp.prototype.copy.call(this,t),this},toJSON:function(t){var e=Bp.prototype.toJSON.call(this,t);return e}});var cf=new Ci,lf=new Ci;function uf(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Yr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Yr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function hf(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(uf.prototype,{update:function(t){var e=this._cache,i=e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep;if(i){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;var n,r,a=t.projectionMatrix.clone(),o=e.eyeSep/2,s=o*e.near/e.focus,c=e.near*Math.tan(ci.DEG2RAD*e.fov*.5)/e.zoom;lf.elements[12]=-o,cf.elements[12]=o,n=-c*e.aspect+s,r=c*e.aspect+s,a.elements[0]=2*e.near/(r-n),a.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(a),n=-c*e.aspect-s,r=c*e.aspect-s,a.elements[0]=2*e.near/(r-n),a.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(a)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(lf),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(cf)}}),Object.assign(hf.prototype,{start:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"===typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}});var df=new xi,pf=new gi,ff=new xi,mf=new xi;function vf(){Xi.call(this),this.type="AudioListener",this.context=rf.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new hf}function gf(t){Xi.call(this),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._progress=0,this.filters=[]}vf.prototype=Object.assign(Object.create(Xi.prototype),{constructor:vf,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(t){Xi.prototype.updateMatrixWorld.call(this,t);var e=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(df,pf,ff),mf.set(0,0,-1).applyQuaternion(pf),e.positionX){var n=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(df.x,n),e.positionY.linearRampToValueAtTime(df.y,n),e.positionZ.linearRampToValueAtTime(df.z,n),e.forwardX.linearRampToValueAtTime(mf.x,n),e.forwardY.linearRampToValueAtTime(mf.y,n),e.forwardZ.linearRampToValueAtTime(mf.z,n),e.upX.linearRampToValueAtTime(i.x,n),e.upY.linearRampToValueAtTime(i.y,n),e.upZ.linearRampToValueAtTime(i.z,n)}else e.setPosition(df.x,df.y,df.z),e.setOrientation(mf.x,mf.y,mf.z,i.x,i.y,i.z)}}),gf.prototype=Object.assign(Object.create(Xi.prototype),{constructor:gf,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setMediaStreamSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(t){if(void 0===t&&(t=0),!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+t;var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},setDetune:function(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart:function(t){return this.loopStart=t,this},setLoopEnd:function(t){return this.loopEnd=t,this},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}});var yf=new xi,_f=new gi,xf=new xi,bf=new xi;function wf(t){gf.call(this,t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function Mf(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function Ef(t,e,i){var n,r,a;switch(this.binding=t,this.valueSize=i,e){case"quaternion":n=this._slerp,r=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*i),this._workIndex=5;break;case"string":case"bool":n=this._select,r=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*i);break;default:n=this._lerp,r=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*i)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=r,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}wf.prototype=Object.assign(Object.create(gf.prototype),{constructor:wf,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this},updateMatrixWorld:function(t){if(Xi.prototype.updateMatrixWorld.call(this,t),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(yf,_f,xf),bf.set(0,0,1).applyQuaternion(_f);var e=this.panner;if(e.positionX){var i=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(yf.x,i),e.positionY.linearRampToValueAtTime(yf.y,i),e.positionZ.linearRampToValueAtTime(yf.z,i),e.orientationX.linearRampToValueAtTime(bf.x,i),e.orientationY.linearRampToValueAtTime(bf.y,i),e.orientationZ.linearRampToValueAtTime(bf.z,i)}else e.setPosition(yf.x,yf.y,yf.z),e.setOrientation(bf.x,bf.y,bf.z)}}}),Object.assign(Mf.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),i=0;i<e.length;i++)t+=e[i];return t/e.length}}),Object.assign(Ef.prototype,{accumulate:function(t,e){var i=this.buffer,n=this.valueSize,r=t*n+n,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==n;++o)i[r+o]=i[o];a=e}else{a+=e;var s=e/a;this._mixBufferRegion(i,r,0,s,n)}this.cumulativeWeight=a},accumulateAdditive:function(t){var e=this.buffer,i=this.valueSize,n=i*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,n,0,t,i),this.cumulativeWeightAdditive+=t},apply:function(t){var e=this.valueSize,i=this.buffer,n=t*e+e,r=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){var s=e*this._origIndex;this._mixBufferRegion(i,n,s,1-r,e)}a>0&&this._mixBufferRegionAdditive(i,n,this._addIndex*e,1,e);for(var c=e,l=e+e;c!==l;++c)if(i[c]!==i[c+e]){o.setValue(i,n);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,i=this.valueSize,n=i*this._origIndex;t.getValue(e,n);for(var r=i,a=n;r!==a;++r)e[r]=e[n+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_setAdditiveIdentityNumeric:function(){var t=this._addIndex*this.valueSize;this.buffer.fill(0,t,t+this.valueSize)},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[4*this._addIndex+3]=1},_setAdditiveIdentityOther:function(){var t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;this.buffer.copyWithin(e,t,this.valueSize)},_select:function(t,e,i,n,r){if(n>=.5)for(var a=0;a!==r;++a)t[e+a]=t[i+a]},_slerp:function(t,e,i,n){gi.slerpFlat(t,e,t,e,t,i,n)},_slerpAdditive:function(t,e,i,n,r){var a=this._workIndex*r;gi.multiplyQuaternionsFlat(t,a,t,e,t,i),gi.slerpFlat(t,e,t,e,t,a,n)},_lerp:function(t,e,i,n,r){for(var a=1-n,o=0;o!==r;++o){var s=e+o;t[s]=t[s]*a+t[i+o]*n}},_lerpAdditive:function(t,e,i,n,r){for(var a=0;a!==r;++a){var o=e+a;t[o]=t[o]+t[i+a]*n}}});var Sf="\\[\\]\\.:\\/",Af=new RegExp("["+Sf+"]","g"),Tf="[^"+Sf+"]",Cf="[^"+Sf.replace("\\.","")+"]",Lf=/((?:WC+[\/:])*)/.source.replace("WC",Tf),Rf=/(WCOD+)?/.source.replace("WCOD",Cf),Pf=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Tf),If=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Tf),Of=new RegExp("^"+Lf+Rf+Pf+If+"$"),Uf=["material","materials","bones"];function Df(t,e,i){var n=i||Nf.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,n)}function Nf(t,e,i){this.path=e,this.parsedPath=i||Nf.parseTrackName(e),this.node=Nf.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function zf(){this.uuid=ci.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,i=arguments.length;e!==i;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}function Ff(t,e,i,n){this._mixer=t,this._clip=e,this._localRoot=i||null,this.blendMode=n||e.blendMode;for(var r=e.tracks,a=r.length,o=new Array(a),s={endingStart:Ne,endingEnd:Ne},c=0;c!==a;++c){var l=r[c].createInterpolant(null);o[c]=l,l.settings=s}this._interpolantSettings=s,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Pe,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Bf(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Gf(t){"string"===typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function kf(t,e,i){Hl.call(this,t,e),this.meshPerAttribute=i||1}function Hf(t,e,i,n){this.ray=new _n(t,e),this.near=i||0,this.far=n||1/0,this.camera=null,this.layers=new Ii,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Vf(t,e){return t.distance-e.distance}function jf(t,e,i,n){if(t.layers.test(e.layers)&&t.raycast(e,i),!0===n)for(var r=t.children,a=0,o=r.length;a<o;a++)jf(r[a],e,i,!0)}function Wf(t,e,i){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==i?i:0,this}function Xf(t,e,i){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==i?i:0,this}Object.assign(Df.prototype,{getValue:function(t,e){this.bind();var i=this._targetGroup.nCachedObjects_,n=this._bindings[i];void 0!==n&&n.getValue(t,e)},setValue:function(t,e){for(var i=this._bindings,n=this._targetGroup.nCachedObjects_,r=i.length;n!==r;++n)i[n].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}),Object.assign(Nf,{Composite:Df,create:function(t,e,i){return t&&t.isAnimationObjectGroup?new Nf.Composite(t,e,i):new Nf(t,e,i)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(Af,"")},parseTrackName:function(t){var e=Of.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},n=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){var r=i.nodeName.substring(n+1);-1!==Uf.indexOf(r)&&(i.nodeName=i.nodeName.substring(0,n),i.objectName=r)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i},findNode:function(t,e){if(!e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var i=t.skeleton.getBoneByName(e);if(void 0!==i)return i}if(t.children){var n=function(t){for(var i=0;i<t.length;i++){var r=t[i];if(r.name===e||r.uuid===e)return r;var a=n(r.children);if(a)return a}return null},r=n(t.children);if(r)return r}return null}}),Object.assign(Nf.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)t[e++]=i[n]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++]},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,i=e.objectName,n=e.propertyName,r=e.propertyIndex;if(t||(t=Nf.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(i){var a=e.objectIndex;switch(i){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[i]}if(void 0!==a){if(void 0===t[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[a]}}var s=t[n];if(void 0!==s){var c=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===n){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(t.geometry.morphAttributes.position[o].name===r){r=o;break}}else{if(!t.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(t.geometry.morphTargets[o].name===r){r=o;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}else{var u=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+n+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Nf.prototype,{_getValue_unbound:Nf.prototype.getValue,_setValue_unbound:Nf.prototype.setValue}),Object.assign(zf.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,i=this.nCachedObjects_,n=this._indicesByUUID,r=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,c=void 0,l=0,u=arguments.length;l!==u;++l){var h=arguments[l],d=h.uuid,p=n[d];if(void 0===p){p=e++,n[d]=p,t.push(h);for(var f=0,m=s;f!==m;++f)o[f].push(new Nf(h,r[f],a[f]))}else if(p<i){c=t[p];var v=--i,g=t[v];n[g.uuid]=p,t[p]=g,n[d]=v,t[v]=h;for(f=0,m=s;f!==m;++f){var y=o[f],_=y[v],x=y[p];y[p]=_,void 0===x&&(x=new Nf(h,r[f],a[f])),y[v]=x}}else t[p]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=i},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,i=this._indicesByUUID,n=this._bindings,r=n.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],c=s.uuid,l=i[c];if(void 0!==l&&l>=e){var u=e++,h=t[u];i[h.uuid]=l,t[l]=h,i[c]=u,t[u]=s;for(var d=0,p=r;d!==p;++d){var f=n[d],m=f[u],v=f[l];f[l]=m,f[u]=v}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,i=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,a=r.length,o=0,s=arguments.length;o!==s;++o){var c=arguments[o],l=c.uuid,u=n[l];if(void 0!==u)if(delete n[l],u<i){var h=--i,d=t[h],p=--e,f=t[p];n[d.uuid]=u,t[u]=d,n[f.uuid]=h,t[h]=f,t.pop();for(var m=0,v=a;m!==v;++m){var g=r[m],y=g[h],_=g[p];g[u]=y,g[h]=_,g.pop()}}else{p=--e,f=t[p];n[f.uuid]=u,t[u]=f,t.pop();for(m=0,v=a;m!==v;++m){g=r[m];g[u]=g[p],g.pop()}}}this.nCachedObjects_=i},subscribe_:function(t,e){var i=this._bindingsIndicesByPath,n=i[t],r=this._bindings;if(void 0!==n)return r[n];var a=this._paths,o=this._parsedPaths,s=this._objects,c=s.length,l=this.nCachedObjects_,u=new Array(c);n=r.length,i[t]=n,a.push(t),o.push(e),r.push(u);for(var h=l,d=s.length;h!==d;++h){var p=s[h];u[h]=new Nf(p,t,e)}return u},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,i=e[t];if(void 0!==i){var n=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o],c=t[o];e[c]=i,a[i]=s,a.pop(),r[i]=r[o],r.pop(),n[i]=n[o],n.pop()}}}),Object.assign(Ff.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){var n=this._clip.duration,r=t._clip.duration,a=r/n,o=n/r;t.warp(1,a,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,i){return t.crossFadeFrom(this,e,i)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,i){var n=this._mixer,r=n.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=n._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,c=a.sampleValues;return s[0]=r,s[1]=r+i,c[0]=t/o,c[1]=e/o,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,i,n){if(this.enabled){var r=this._startTime;if(null!==r){var a=(t-r)*i;if(a<0||0===i)return;this._startTime=null,e=i*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0){var c=this._interpolants,l=this._propertyBindings;switch(this.blendMode){case Ge:for(var u=0,h=c.length;u!==h;++u)c[u].evaluate(o),l[u].accumulateAdditive(s);break;case Be:default:for(u=0,h=c.length;u!==h;++u)c[u].evaluate(o),l[u].accumulate(n,s)}}}else this._updateWeight(t)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var i=this._weightInterpolant;if(null!==i){var n=i.evaluate(t)[0];e*=n,t>i.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var i=this._timeScaleInterpolant;if(null!==i){var n=i.evaluate(t)[0];e*=n,t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t,i=this._clip.duration,n=this.loop,r=this._loopCount,a=n===Ie;if(0===t)return-1===r?e:a&&1===(1&r)?i-e:e;if(n===Re){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=i)e=i;else{if(!(e<0)){this.time=e;break t}e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),e>=i||e<0){var o=Math.floor(e/i);e-=i*o,r+=Math.abs(o);var s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?i:0,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var c=t<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=e;if(a&&1===(1&r))return i-e}return e},_setEndings:function(t,e,i){var n=this._interpolantSettings;i?(n.endingStart=ze,n.endingEnd=ze):(n.endingStart=t?this.zeroSlopeAtStart?ze:Ne:Fe,n.endingEnd=e?this.zeroSlopeAtEnd?ze:Ne:Fe)},_scheduleFading:function(t,e,i){var n=this._mixer,r=n.time,a=this._weightInterpolant;null===a&&(a=n._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=r,s[0]=e,o[1]=r+t,s[1]=i,this}}),Bf.prototype=Object.assign(Object.create(ri.prototype),{constructor:Bf,_bindAction:function(t,e){var i=t._localRoot||this._root,n=t._clip.tracks,r=n.length,a=t._propertyBindings,o=t._interpolants,s=i.uuid,c=this._bindingsByRootAndName,l=c[s];void 0===l&&(l={},c[s]=l);for(var u=0;u!==r;++u){var h=n[u],d=h.name,p=l[d];if(void 0!==p)a[u]=p;else{if(p=a[u],void 0!==p){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,d));continue}var f=e&&e._propertyBindings[u].binding.parsedPath;p=new Ef(Nf.create(i,d,f),h.ValueTypeName,h.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,s,d),a[u]=p}o[u].resultBuffer=p.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,i=t._clip.uuid,n=this._actionsByClip[i];this._bindAction(t,n&&n.knownActions[0]),this._addInactiveAction(t,i,e)}for(var r=t._propertyBindings,a=0,o=r.length;a!==o;++a){var s=r[a];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,i=0,n=e.length;i!==n;++i){var r=e[i];0===--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,i){var n=this._actions,r=this._actionsByClip,a=r[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=n.length,n.push(t),a.actionByRoot[i]=t},_removeInactiveAction:function(t){var e=this._actions,i=e[e.length-1],n=t._cacheIndex;i._cacheIndex=n,e[n]=i,e.pop(),t._cacheIndex=null;var r=t._clip.uuid,a=this._actionsByClip,o=a[r],s=o.knownActions,c=s[s.length-1],l=t._byClipCacheIndex;c._byClipCacheIndex=l,s[l]=c,s.pop(),t._byClipCacheIndex=null;var u=o.actionByRoot,h=(t._localRoot||this._root).uuid;delete u[h],0===s.length&&delete a[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,i=0,n=e.length;i!==n;++i){var r=e[i];0===--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(t){var e=this._actions,i=t._cacheIndex,n=this._nActiveActions++,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_takeBackAction:function(t){var e=this._actions,i=t._cacheIndex,n=--this._nActiveActions,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_addInactiveBinding:function(t,e,i){var n=this._bindingsByRootAndName,r=n[e],a=this._bindings;void 0===r&&(r={},n[e]=r),r[i]=t,t._cacheIndex=a.length,a.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,i=t.binding,n=i.rootNode.uuid,r=i.path,a=this._bindingsByRootAndName,o=a[n],s=e[e.length-1],c=t._cacheIndex;s._cacheIndex=c,e[c]=s,e.pop(),delete o[r],0===Object.keys(o).length&&delete a[n]},_lendBinding:function(t){var e=this._bindings,i=t._cacheIndex,n=this._nActiveBindings++,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_takeBackBinding:function(t){var e=this._bindings,i=t._cacheIndex,n=--this._nActiveBindings,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,i=t[e];return void 0===i&&(i=new Sd(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=e,t[e]=i),i},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,i=t.__cacheIndex,n=--this._nActiveControlInterpolants,r=e[n];t.__cacheIndex=n,e[n]=t,r.__cacheIndex=i,e[i]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e,i){var n=e||this._root,r=n.uuid,a="string"===typeof t?Dd.findByName(n,t):t,o=null!==a?a.uuid:t,s=this._actionsByClip[o],c=null;if(void 0===i&&(i=null!==a?a.blendMode:Be),void 0!==s){var l=s.actionByRoot[r];if(void 0!==l&&l.blendMode===i)return l;c=s.knownActions[0],null===a&&(a=c._clip)}if(null===a)return null;var u=new Ff(this,a,e,i);return this._bindAction(u,c),this._addInactiveAction(u,o,r),u},existingAction:function(t,e){var i=e||this._root,n=i.uuid,r="string"===typeof t?Dd.findByName(i,t):t,a=r?r.uuid:t,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[n]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,i=this._bindings,n=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==e;++r)t[r].reset();for(r=0;r!==n;++r)i[r].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,i=this._nActiveActions,n=this.time+=t,r=Math.sign(t),a=this._accuIndex^=1,o=0;o!==i;++o){var s=e[o];s._update(n,t,r,a)}var c=this._bindings,l=this._nActiveBindings;for(o=0;o!==l;++o)c[o].apply(a);return this},setTime:function(t){this.time=0;for(var e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,i=t.uuid,n=this._actionsByClip,r=n[i];if(void 0!==r){for(var a=r.knownActions,o=0,s=a.length;o!==s;++o){var c=a[o];this._deactivateAction(c);var l=c._cacheIndex,u=e[e.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,u._cacheIndex=l,e[l]=u,e.pop(),this._removeInactiveBindingsForAction(c)}delete n[i]}},uncacheRoot:function(t){var e=t.uuid,i=this._actionsByClip;for(var n in i){var r=i[n].actionByRoot,a=r[e];void 0!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}var o=this._bindingsByRootAndName,s=o[e];if(void 0!==s)for(var c in s){var l=s[c];l.restoreOriginalState(),this._removeInactiveBinding(l)}},uncacheAction:function(t,e){var i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}),Gf.prototype.clone=function(){return new Gf(void 0===this.value.clone?this.value:this.value.clone())},kf.prototype=Object.assign(Object.create(Hl.prototype),{constructor:kf,isInstancedInterleavedBuffer:!0,copy:function(t){return Hl.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Object.assign(Hf.prototype,{set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e,i){var n=i||[];return jf(t,this,n,e),n.sort(Vf),n},intersectObjects:function(t,e,i){var n=i||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,a=t.length;r<a;r++)jf(t[r],this,n,e);return n.sort(Vf),n}}),Object.assign(Wf.prototype,{set:function(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(ci.clamp(e/this.radius,-1,1))),this}}),Object.assign(Xf.prototype,{set:function(t,e,i){return this.radius=t,this.theta=e,this.y=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}});var Yf=new li;function Zf(t,e){this.min=void 0!==t?t:new li(1/0,1/0),this.max=void 0!==e?e:new li(-1/0,-1/0)}Object.assign(Zf.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(t,e){var i=Yf.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new li),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new li),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new li),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new li),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(t){var e=Yf.copy(t).clamp(this.min,this.max);return e.sub(t).length()},intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}});var qf=new xi,Jf=new xi;function Qf(t,e){this.start=void 0!==t?t:new xi,this.end=void 0!==e?e:new xi}function Kf(t){Xi.call(this),this.material=t,this.render=function(){}}Object.assign(Qf.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new xi),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(console.warn("THREE.Line3: .delta() target is now required"),t=new xi),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new xi),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(t,e){qf.subVectors(t,this.start),Jf.subVectors(this.end,this.start);var i=Jf.dot(Jf),n=Jf.dot(qf),r=n/i;return e&&(r=ci.clamp(r,0,1)),r},closestPointToPoint:function(t,e,i){var n=this.closestPointToPointParameter(t,e);return void 0===i&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),i=new xi),this.delta(i).multiplyScalar(n).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),Kf.prototype=Object.create(Xi.prototype),Kf.prototype.constructor=Kf,Kf.prototype.isImmediateRenderObject=!0;var $f=new xi;function tm(t,e){Xi.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var i=new dr,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,a=1,o=32;r<o;r++,a++){var s=r/o*Math.PI*2,c=a/o*Math.PI*2;n.push(Math.cos(s),Math.sin(s),1,Math.cos(c),Math.sin(c),1)}i.setAttribute("position",new er(n,3));var l=new xu({fog:!1,toneMapped:!1});this.cone=new Lu(i,l),this.add(this.cone),this.update()}tm.prototype=Object.create(Xi.prototype),tm.prototype.constructor=tm,tm.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},tm.prototype.update=function(){this.light.updateMatrixWorld();var t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),$f.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt($f),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var em=new xi,im=new Ci,nm=new Ci;function rm(t){var e=[];t&&t.isBone&&e.push(t);for(var i=0;i<t.children.length;i++)e.push.apply(e,rm(t.children[i]));return e}function am(t){for(var e=rm(t),i=new dr,n=[],r=[],a=new Fn(0,0,1),o=new Fn(0,1,0),s=0;s<e.length;s++){var c=e[s];c.parent&&c.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(a.r,a.g,a.b),r.push(o.r,o.g,o.b))}i.setAttribute("position",new er(n,3)),i.setAttribute("color",new er(r,3));var l=new xu({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});Lu.call(this,i,l),this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function om(t,e,i){this.light=t,this.light.updateMatrixWorld(),this.color=i;var n=new qh(e,4,2),r=new Wn({wireframe:!0,fog:!1,toneMapped:!1});Rr.call(this,n,r),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}am.prototype=Object.create(Lu.prototype),am.prototype.constructor=am,am.prototype.isSkeletonHelper=!0,am.prototype.updateMatrixWorld=function(t){var e=this.bones,i=this.geometry,n=i.getAttribute("position");nm.getInverse(this.root.matrixWorld);for(var r=0,a=0;r<e.length;r++){var o=e[r];o.parent&&o.parent.isBone&&(im.multiplyMatrices(nm,o.matrixWorld),em.setFromMatrixPosition(im),n.setXYZ(a,em.x,em.y,em.z),im.multiplyMatrices(nm,o.parent.matrixWorld),em.setFromMatrixPosition(im),n.setXYZ(a+1,em.x,em.y,em.z),a+=2)}i.getAttribute("position").needsUpdate=!0,Xi.prototype.updateMatrixWorld.call(this,t)},om.prototype=Object.create(Rr.prototype),om.prototype.constructor=om,om.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},om.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)};var sm=new xi,cm=new Fn,lm=new Fn;function um(t,e,i){Xi.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;var n=new Ju(e);n.rotateY(.5*Math.PI),this.material=new Wn({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);var r=n.getAttribute("position"),a=new Float32Array(3*r.count);n.setAttribute("color",new Yn(a,3)),this.add(new Rr(n,this.material)),this.update()}function hm(t,e,i,n){t=t||10,e=e||10,i=new Fn(void 0!==i?i:4473924),n=new Fn(void 0!==n?n:8947848);for(var r=e/2,a=t/e,o=t/2,s=[],c=[],l=0,u=0,h=-o;l<=e;l++,h+=a){s.push(-o,0,h,o,0,h),s.push(h,0,-o,h,0,o);var d=l===r?i:n;d.toArray(c,u),u+=3,d.toArray(c,u),u+=3,d.toArray(c,u),u+=3,d.toArray(c,u),u+=3}var p=new dr;p.setAttribute("position",new er(s,3)),p.setAttribute("color",new er(c,3));var f=new xu({vertexColors:!0,toneMapped:!1});Lu.call(this,p,f),this.type="GridHelper"}function dm(t,e,i,n,r,a){t=t||10,e=e||16,i=i||8,n=n||64,r=new Fn(void 0!==r?r:4473924),a=new Fn(void 0!==a?a:8947848);var o,s,c,l,u,h,d,p=[],f=[];for(l=0;l<=e;l++)c=l/e*(2*Math.PI),o=Math.sin(c)*t,s=Math.cos(c)*t,p.push(0,0,0),p.push(o,0,s),d=1&l?r:a,f.push(d.r,d.g,d.b),f.push(d.r,d.g,d.b);for(l=0;l<=i;l++)for(d=1&l?r:a,h=t-t/i*l,u=0;u<n;u++)c=u/n*(2*Math.PI),o=Math.sin(c)*h,s=Math.cos(c)*h,p.push(o,0,s),f.push(d.r,d.g,d.b),c=(u+1)/n*(2*Math.PI),o=Math.sin(c)*h,s=Math.cos(c)*h,p.push(o,0,s),f.push(d.r,d.g,d.b);var m=new dr;m.setAttribute("position",new er(p,3)),m.setAttribute("color",new er(f,3));var v=new xu({vertexColors:!0,toneMapped:!1});Lu.call(this,m,v),this.type="PolarGridHelper"}um.prototype=Object.create(Xi.prototype),um.prototype.constructor=um,um.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},um.prototype.update=function(){var t=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var e=t.geometry.getAttribute("color");cm.copy(this.light.color),lm.copy(this.light.groundColor);for(var i=0,n=e.count;i<n;i++){var r=i<n/2?cm:lm;e.setXYZ(i,r.r,r.g,r.b)}e.needsUpdate=!0}t.lookAt(sm.setFromMatrixPosition(this.light.matrixWorld).negate())},hm.prototype=Object.assign(Object.create(Lu.prototype),{constructor:hm,copy:function(t){return Lu.prototype.copy.call(this,t),this.geometry.copy(t.geometry),this.material.copy(t.material),this},clone:function(){return(new this.constructor).copy(this)}}),dm.prototype=Object.create(Lu.prototype),dm.prototype.constructor=dm;var pm=new xi,fm=new xi,mm=new xi;function vm(t,e,i){Xi.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,void 0===e&&(e=1);var n=new dr;n.setAttribute("position",new er([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new xu({fog:!1,toneMapped:!1});this.lightPlane=new Au(n,r),this.add(this.lightPlane),n=new dr,n.setAttribute("position",new er([0,0,0,0,0,1],3)),this.targetLine=new Au(n,r),this.add(this.targetLine),this.update()}vm.prototype=Object.create(Xi.prototype),vm.prototype.constructor=vm,vm.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},vm.prototype.update=function(){pm.setFromMatrixPosition(this.light.matrixWorld),fm.setFromMatrixPosition(this.light.target.matrixWorld),mm.subVectors(fm,pm),this.lightPlane.lookAt(fm),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(fm),this.targetLine.scale.z=mm.length()};var gm=new xi,ym=new Xr;function _m(t){var e=new dr,i=new xu({color:16777215,vertexColors:!0,toneMapped:!1}),n=[],r=[],a={},o=new Fn(16755200),s=new Fn(16711680),c=new Fn(43775),l=new Fn(16777215),u=new Fn(3355443);function h(t,e,i){d(t,i),d(e,i)}function d(t,e){n.push(0,0,0),r.push(e.r,e.g,e.b),void 0===a[t]&&(a[t]=[]),a[t].push(n.length/3-1)}h("n1","n2",o),h("n2","n4",o),h("n4","n3",o),h("n3","n1",o),h("f1","f2",o),h("f2","f4",o),h("f4","f3",o),h("f3","f1",o),h("n1","f1",o),h("n2","f2",o),h("n3","f3",o),h("n4","f4",o),h("p","n1",s),h("p","n2",s),h("p","n3",s),h("p","n4",s),h("u1","u2",c),h("u2","u3",c),h("u3","u1",c),h("c","t",l),h("p","c",u),h("cn1","cn2",u),h("cn3","cn4",u),h("cf1","cf2",u),h("cf3","cf4",u),e.setAttribute("position",new er(n,3)),e.setAttribute("color",new er(r,3)),Lu.call(this,e,i),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function xm(t,e,i,n,r,a,o){gm.set(r,a,o).unproject(n);var s=e[t];if(void 0!==s)for(var c=i.getAttribute("position"),l=0,u=s.length;l<u;l++)c.setXYZ(s[l],gm.x,gm.y,gm.z)}_m.prototype=Object.create(Lu.prototype),_m.prototype.constructor=_m,_m.prototype.update=function(){var t=this.geometry,e=this.pointMap,i=1,n=1;ym.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),xm("c",e,t,ym,0,0,-1),xm("t",e,t,ym,0,0,1),xm("n1",e,t,ym,-i,-n,-1),xm("n2",e,t,ym,i,-n,-1),xm("n3",e,t,ym,-i,n,-1),xm("n4",e,t,ym,i,n,-1),xm("f1",e,t,ym,-i,-n,1),xm("f2",e,t,ym,i,-n,1),xm("f3",e,t,ym,-i,n,1),xm("f4",e,t,ym,i,n,1),xm("u1",e,t,ym,.7*i,1.1*n,-1),xm("u2",e,t,ym,.7*-i,1.1*n,-1),xm("u3",e,t,ym,0,2*n,-1),xm("cf1",e,t,ym,-i,0,1),xm("cf2",e,t,ym,i,0,1),xm("cf3",e,t,ym,0,-n,1),xm("cf4",e,t,ym,0,n,1),xm("cn1",e,t,ym,-i,0,-1),xm("cn2",e,t,ym,i,0,-1),xm("cn3",e,t,ym,0,-n,-1),xm("cn4",e,t,ym,0,n,-1),t.getAttribute("position").needsUpdate=!0};var bm=new cn;function wm(t,e){this.object=t,void 0===e&&(e=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),r=new dr;r.setIndex(new Yn(i,1)),r.setAttribute("position",new Yn(n,3)),Lu.call(this,r,new xu({color:e,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}function Mm(t,e){this.type="Box3Helper",this.box=t,e=e||16776960;var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new dr;r.setIndex(new Yn(i,1)),r.setAttribute("position",new er(n,3)),Lu.call(this,r,new xu({color:e,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}function Em(t,e,i){this.plane=t,this.size=void 0===e?1:e;var n=void 0!==i?i:16776960,r=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],a=new dr;a.setAttribute("position",new er(r,3)),a.computeBoundingSphere(),Au.call(this,a,new xu({color:n,toneMapped:!1})),this.type="PlaneHelper";var o=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],s=new dr;s.setAttribute("position",new er(o,3)),s.computeBoundingSphere(),this.add(new Rr(s,new Wn({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}wm.prototype=Object.create(Lu.prototype),wm.prototype.constructor=wm,wm.prototype.update=function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&bm.setFromObject(this.object),!bm.isEmpty()){var e=bm.min,i=bm.max,n=this.geometry.attributes.position,r=n.array;r[0]=i.x,r[1]=i.y,r[2]=i.z,r[3]=e.x,r[4]=i.y,r[5]=i.z,r[6]=e.x,r[7]=e.y,r[8]=i.z,r[9]=i.x,r[10]=e.y,r[11]=i.z,r[12]=i.x,r[13]=i.y,r[14]=e.z,r[15]=e.x,r[16]=i.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=i.x,r[22]=e.y,r[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}},wm.prototype.setFromObject=function(t){return this.object=t,this.update(),this},wm.prototype.copy=function(t){return Lu.prototype.copy.call(this,t),this.object=t.object,this},wm.prototype.clone=function(){return(new this.constructor).copy(this)},Mm.prototype=Object.create(Lu.prototype),Mm.prototype.constructor=Mm,Mm.prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),Xi.prototype.updateMatrixWorld.call(this,t))},Em.prototype=Object.create(Au.prototype),Em.prototype.constructor=Em,Em.prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?p:d,this.lookAt(this.plane.normal),Xi.prototype.updateMatrixWorld.call(this,t)};var Sm,Am,Tm=new xi;function Cm(t,e,i,n,r,a){Xi.call(this),this.type="ArrowHelper",void 0===t&&(t=new xi(0,0,1)),void 0===e&&(e=new xi(0,0,0)),void 0===i&&(i=1),void 0===n&&(n=16776960),void 0===r&&(r=.2*i),void 0===a&&(a=.2*r),void 0===Sm&&(Sm=new dr,Sm.setAttribute("position",new er([0,0,0,0,1,0],3)),Am=new ad(0,.5,1,5,1),Am.translate(0,-.5,0)),this.position.copy(e),this.line=new Au(Sm,new xu({color:n,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Rr(Am,new Wn({color:n,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,r,a)}function Lm(t){t=t||1;var e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],n=new dr;n.setAttribute("position",new er(e,3)),n.setAttribute("color",new er(i,3));var r=new xu({vertexColors:!0,toneMapped:!1});Lu.call(this,n,r),this.type="AxesHelper"}Cm.prototype=Object.create(Xi.prototype),Cm.prototype.constructor=Cm,Cm.prototype.setDirection=function(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{Tm.set(t.z,0,-t.x).normalize();var e=Math.acos(t.y);this.quaternion.setFromAxisAngle(Tm,e)}},Cm.prototype.setLength=function(t,e,i){void 0===e&&(e=.2*t),void 0===i&&(i=.2*e),this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()},Cm.prototype.setColor=function(t){this.line.material.color.set(t),this.cone.material.color.set(t)},Cm.prototype.copy=function(t){return Xi.prototype.copy.call(this,t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this},Cm.prototype.clone=function(){return(new this.constructor).copy(this)},Lm.prototype=Object.create(Lu.prototype),Lm.prototype.constructor=Lm;var Rm=4,Pm=8,Im=Math.pow(2,Pm),Om=[.125,.215,.35,.446,.526,.582],Um=Pm-Rm+1+Om.length,Dm=20,Nm={[He]:0,[Ve]:1,[We]:2,[Ye]:3,[Ze]:4,[qe]:5,[je]:6},zm=new Op,{_lodPlanes:Fm,_sizeLods:Bm,_sigmas:Gm}=Ym(),km=null,Hm=(1+Math.sqrt(5))/2,Vm=1/Hm,jm=[new xi(1,1,1),new xi(-1,1,1),new xi(1,1,-1),new xi(-1,1,-1),new xi(0,Hm,Vm),new xi(0,Hm,-Vm),new xi(Vm,0,Hm),new xi(-Vm,0,Hm),new xi(Hm,Vm,0),new xi(-Hm,Vm,0)];function Wm(t){this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=Jm(Dm),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}function Xm(t){return void 0!==t&&t.type===yt&&(t.encoding===He||t.encoding===Ve||t.encoding===je)}function Ym(){for(var t=[],e=[],i=[],n=Pm,r=0;r<Um;r++){var a=Math.pow(2,n);e.push(a);var o=1/a;r>Pm-Rm?o=Om[r-Pm+Rm-1]:0==r&&(o=0),i.push(o);for(var s=1/(a-1),c=-s/2,l=1+s/2,u=[c,c,l,c,l,l,c,c,l,l,c,l],h=6,d=6,p=3,f=2,m=1,v=new Float32Array(p*d*h),g=new Float32Array(f*d*h),y=new Float32Array(m*d*h),_=0;_<h;_++){var x=_%3*2/3-1,b=_>2?0:-1,w=[x,b,0,x+2/3,b,0,x+2/3,b+1,0,x,b,0,x+2/3,b+1,0,x,b+1,0];v.set(w,p*d*_),g.set(u,f*d*_);var M=[_,_,_,_,_,_];y.set(M,m*d*_)}var E=new dr;E.setAttribute("position",new Yn(v,p)),E.setAttribute("uv",new Yn(g,f)),E.setAttribute("faceIndex",new Yn(y,m)),t.push(E),n>Rm&&n--}return{_lodPlanes:t,_sizeLods:e,_sigmas:i}}function Zm(t){var e=new mi(3*Im,3*Im,t);return e.texture.mapping=st,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function qm(t,e,i,n,r){t.viewport.set(e,i,n,r),t.scissor.set(e,i,n,r)}function Jm(t){var e=new Float32Array(t),i=new xi(0,1,0),n=new dd({defines:{n:t},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i},inputEncoding:{value:Nm[He]},outputEncoding:{value:Nm[He]}},vertexShader:$m(),fragmentShader:`\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform int samples;\nuniform float weights[n];\nuniform bool latitudinal;\nuniform float dTheta;\nuniform float mipInt;\nuniform vec3 poleAxis;\n\n${tv()}\n\n#define ENVMAP_TYPE_CUBE_UV\n#include <cube_uv_reflection_fragment>\n\nvec3 getSample(float theta, vec3 axis) {\n\tfloat cosTheta = cos(theta);\n\t// Rodrigues' axis-angle rotation\n\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t+ cross(axis, vOutputDirection) * sin(theta)\n\t\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\n\treturn bilinearCubeUV(envMap, sampleDirection, mipInt);\n}\n\nvoid main() {\n\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\n\tif (all(equal(axis, vec3(0.0))))\n\t\taxis = vec3(vOutputDirection.z, 0.0, - vOutputDirection.x);\n\taxis = normalize(axis);\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb += weights[0] * getSample(0.0, axis);\n\tfor (int i = 1; i < n; i++) {\n\t\tif (i >= samples)\n\t\t\tbreak;\n\t\tfloat theta = dTheta * float(i);\n\t\tgl_FragColor.rgb += weights[i] * getSample(-1.0 * theta, axis);\n\t\tgl_FragColor.rgb += weights[i] * getSample(theta, axis);\n\t}\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,blending:v,depthTest:!1,depthWrite:!1});return n.type="SphericalGaussianBlur",n}function Qm(){var t=new li(1,1),e=new dd({uniforms:{envMap:{value:null},texelSize:{value:t},inputEncoding:{value:Nm[He]},outputEncoding:{value:Nm[He]}},vertexShader:$m(),fragmentShader:`\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform vec2 texelSize;\n\n${tv()}\n\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tvec3 outputDirection = normalize(vOutputDirection);\n\tvec2 uv;\n\tuv.y = asin(clamp(outputDirection.y, -1.0, 1.0)) * RECIPROCAL_PI + 0.5;\n\tuv.x = atan(outputDirection.z, outputDirection.x) * RECIPROCAL_PI2 + 0.5;\n\tvec2 f = fract(uv / texelSize - 0.5);\n\tuv -= f * texelSize;\n\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x += texelSize.x;\n\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.y += texelSize.y;\n\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x -= texelSize.x;\n\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tvec3 tm = mix(tl, tr, f.x);\n\tvec3 bm = mix(bl, br, f.x);\n\tgl_FragColor.rgb = mix(tm, bm, f.y);\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,blending:v,depthTest:!1,depthWrite:!1});return e.type="EquirectangularToCubeUV",e}function Km(){var t=new dd({uniforms:{envMap:{value:null},inputEncoding:{value:Nm[He]},outputEncoding:{value:Nm[He]}},vertexShader:$m(),fragmentShader:`\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform samplerCube envMap;\n\n${tv()}\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,blending:v,depthTest:!1,depthWrite:!1});return t.type="CubemapToCubeUV",t}function $m(){return"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t"}function tv(){return"\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t"}Wm.prototype={constructor:Wm,fromScene:function(t,e=0,i=.1,n=100){km=this._renderer.getRenderTarget();var r=this._allocateTargets();return this._sceneToCubeUV(t,i,n,r),e>0&&this._blur(r,0,0,e),this._applyPMREM(r),this._cleanup(r),r},fromEquirectangular:function(t){return t.magFilter=dt,t.minFilter=dt,t.generateMipmaps=!1,this.fromCubemap(t)},fromCubemap:function(t){km=this._renderer.getRenderTarget();var e=this._allocateTargets(t);return this._textureToCubeUV(t,e),this._applyPMREM(e),this._cleanup(e),e},compileCubemapShader:function(){null===this._cubemapShader&&(this._cubemapShader=Km(),this._compileMaterial(this._cubemapShader))},compileEquirectangularShader:function(){null===this._equirectShader&&(this._equirectShader=Qm(),this._compileMaterial(this._equirectShader))},dispose:function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(var t=0;t<Fm.length;t++)Fm[t].dispose()},_cleanup:function(t){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(km),t.scissorTest=!1,t.setSize(t.width,t.height)},_allocateTargets:function(t){var e={magFilter:dt,minFilter:dt,generateMipmaps:!1,type:yt,format:Dt,encoding:Xm(t)?t.encoding:We,depthBuffer:!1,stencilBuffer:!1},i=Zm(e);return i.depthBuffer=!t,this._pingPongRenderTarget=Zm(e),i},_compileMaterial:function(t){var e=new Yi;e.add(new Rr(Fm[0],t)),this._renderer.compile(e,zm)},_sceneToCubeUV:function(t,e,i,n){var r=90,a=1,o=new Yr(r,a,e,i),s=[1,1,1,1,-1,1],c=[1,1,-1,-1,-1,1],l=this._renderer,u=l.outputEncoding,h=l.toneMapping,d=l.toneMappingExposure,p=l.getClearColor(),f=l.getClearAlpha();l.toneMapping=J,l.toneMappingExposure=1,l.outputEncoding=He,t.scale.z*=-1;var m=t.background;if(m&&m.isColor){m.convertSRGBToLinear();var v=Math.max(m.r,m.g,m.b),g=Math.min(Math.max(Math.ceil(Math.log2(v)),-128),127);m=m.multiplyScalar(Math.pow(2,-g));var y=(g+128)/255;l.setClearColor(m,y),t.background=null}for(var _=0;_<6;_++){var x=_%3;0==x?(o.up.set(0,s[_],0),o.lookAt(c[_],0,0)):1==x?(o.up.set(0,0,s[_]),o.lookAt(0,c[_],0)):(o.up.set(0,s[_],0),o.lookAt(0,0,c[_])),qm(n,x*Im,_>2?Im:0,Im,Im),l.setRenderTarget(n),l.render(t,o)}l.toneMapping=h,l.toneMappingExposure=d,l.outputEncoding=u,l.setClearColor(p,f),t.scale.z*=-1},_textureToCubeUV:function(t,e){var i=new Yi,n=this._renderer;t.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=Km()):null==this._equirectShader&&(this._equirectShader=Qm());var r=t.isCubeTexture?this._cubemapShader:this._equirectShader;i.add(new Rr(Fm[0],r));var a=r.uniforms;a["envMap"].value=t,t.isCubeTexture||a["texelSize"].value.set(1/t.image.width,1/t.image.height),a["inputEncoding"].value=Nm[t.encoding],a["outputEncoding"].value=Nm[e.texture.encoding],qm(e,0,0,3*Im,2*Im),n.setRenderTarget(e),n.render(i,zm)},_applyPMREM:function(t){var e=this._renderer,i=e.autoClear;e.autoClear=!1;for(var n=1;n<Um;n++){var r=Math.sqrt(Gm[n]*Gm[n]-Gm[n-1]*Gm[n-1]),a=jm[(n-1)%jm.length];this._blur(t,n-1,n,r,a)}e.autoClear=i},_blur:function(t,e,i,n,r){var a=this._pingPongRenderTarget;this._halfBlur(t,a,e,i,n,"latitudinal",r),this._halfBlur(a,t,i,i,n,"longitudinal",r)},_halfBlur:function(t,e,i,n,r,a,o){var s=this._renderer,c=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var l=3,u=new Yi;u.add(new Rr(Fm[n],c));var h=c.uniforms,d=Bm[i]-1,p=isFinite(r)?Math.PI/(2*d):2*Math.PI/(2*Dm-1),f=r/p,m=isFinite(r)?1+Math.floor(l*f):Dm;m>Dm&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${Dm}`);for(var v=[],g=0,y=0;y<Dm;++y){var _=y/f,x=Math.exp(-_*_/2);v.push(x),0==y?g+=x:y<m&&(g+=2*x)}for(y=0;y<v.length;y++)v[y]=v[y]/g;h["envMap"].value=t.texture,h["samples"].value=m,h["weights"].value=v,h["latitudinal"].value="latitudinal"===a,o&&(h["poleAxis"].value=o),h["dTheta"].value=p,h["mipInt"].value=Pm-i,h["inputEncoding"].value=Nm[t.texture.encoding],h["outputEncoding"].value=Nm[t.texture.encoding];var b=Bm[n],w=(_=3*Math.max(0,Im-2*b),(0===n?0:2*Im)+2*b*(n>Pm-Rm?n-Pm+Rm:0));qm(e,_,w,3*b,2*b),s.setRenderTarget(e),s.render(u,zm)}};function ev(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),rp.call(this,t),this.type="catmullrom",this.closed=!0}function iv(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),rp.call(this,t),this.type="catmullrom"}function nv(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),rp.call(this,t),this.type="catmullrom"}Jd.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Jd.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(Mp.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var e=new zr,i=0,n=t.length;i<n;i++){var r=t[i];e.vertices.push(new xi(r.x,r.y,r.z||0))}return e}}),Object.assign(Ep.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),ev.prototype=Object.create(rp.prototype),iv.prototype=Object.create(rp.prototype),nv.prototype=Object.create(rp.prototype),Object.assign(nv.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),hm.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},am.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(kd.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),kp.extractUrlBase(t)}}),kd.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(Xp.prototype,{setTexturePath:function(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}),Object.assign(Zf.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(cn.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(hn.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),ea.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},Qf.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(ci,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),ci.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),ci.ceilPowerOfTwo(t)}}),Object.assign(ui.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Ci.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new xi).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,i,n,r,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,n,i,r,a)}}),Mn.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},gi.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(_n.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(Un.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(Un,{barycoordFromPoint:function(t,e,i,n,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Un.getBarycoord(t,e,i,n,r)},normal:function(t,e,i,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Un.getNormal(t,e,i,n)}}),Object.assign(Sp.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Hh(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new td(this,t)}}),Object.assign(li.prototype,{fromAttribute:function(t,e,i){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(xi.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,i){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(fi.prototype,{fromAttribute:function(t,e,i){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,i)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(zr.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(t){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.assign(Xi.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(Xi.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(Rr.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(Rr.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),ke},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(lu.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(pu.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),uu.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Jd.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),Yr.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Ap.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(Yn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===ni},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(ni)}}}),Object.assign(Yn.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?ni:ii),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(dr.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new Yn(arguments[1],arguments[2])))},addDrawCall:function(t,e,i){void 0!==i&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},applyMatrix:function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(dr.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Hf.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(t){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=t}}}),Object.defineProperties(Hl.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===ni},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}}),Object.assign(Hl.prototype,{setDynamic:function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?ni:ii),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Vh.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Gf.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(jn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Fn}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===m}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}}),Object.defineProperties(md.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Wr.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(Bl.prototype,{clearTarget:function(t,e,i,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,i,n)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Bl.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===t?Ve:He}}}),Object.defineProperties(Pl.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(mi.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(gf.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this,i=new af;return i.load(t,(function(t){e.setBuffer(t)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),Mf.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Jr.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};hi.crossOrigin=void 0,hi.loadTexture=function(t,e,i,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new qd;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,i,void 0,n);return e&&(a.mapping=e),a},hi.loadTextureCube=function(t,e,i,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new Zd;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,i,void 0,n);return e&&(a.mapping=e),a},hi.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},hi.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:a}}));var rv=i("8a05"),av=i("3c87"),ov=i.n(av),sv=i("1dbf"),cv=i.n(sv),lv=i("34b4"),uv=i.n(lv),hv=i("c6d9"),dv=i.n(hv),pv=i("8b2d"),fv=i.n(pv),mv={name:"ThreeTest",data:function(){return{scene:null,camera:null,renderer:null,controls:null,OrbitControls:null,geometryEarth:null,materialEarth:null,textureEarth:null,audioLoader:null,shaderMaterialEarth:null,geometryCloud:null,materialCloud:null,geometryGalaxy:null,materialGalaxy:null,light:null,Earth:null,Cloud:null,Galaxy:null,point1:null,materialPoint1:null,Point1:[],listener:null}},methods:{init:function(){this.scene=new Yi,this.camera=new Yr(75,window.innerWidth/window.innerHeight,.1,1e3),this.renderer=new Bl({alpha:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight);var t=this.$refs.earthСontainer;t.appendChild(this.renderer.domElement),this.camera.position.z=25,this.controls=new rv["OrbitControls"](this.camera,this.renderer.domElement),this.controls.autoRotate=!0,this.controls.minPolarAngle=0,this.controls.maxPolarAngle=Math.PI,this.controls.minDistance=0,this.controls.maxDistance=1/0,this.controls.enableZoom=!0,this.controls.zoomSpeed=1,this.controls.enablePan=!0,this.controls.update(),this.geometryEarth=new Zh(10,32,32),this.materialEarth=new fd({map:(new qd).load(ov.a),bumpMap:(new qd).load(cv.a),transparent:!0}),this.Earth=new Rr(this.geometryEarth,this.materialEarth),this.listener=new vf,this.geometryCloud=new Zh(10.3,32,32),this.materialCloud=new pd({map:(new qd).load(uv.a),alphaMap:(new qd).load(dv.a),fog:3,transparent:!0,color:9687023}),this.Cloud=new Rr(this.geometryCloud,this.materialCloud),this.geometryGalaxy=new Zh(100,32,32),this.materialGalaxy=new pd({map:(new qd).load(fv.a)}),this.materialGalaxy.side=p,this.Galaxy=new Rr(this.geometryGalaxy,this.materialGalaxy),this.light=new Ip(16777215,1.4,1e3),this.light.position.set(-15,5,15),this.scene.add(this.light),this.scene.add(this.Earth),this.scene.add(this.Cloud),this.scene.add(this.Galaxy),this.scene.add(this.audioLoader)},animate:function(){requestAnimationFrame(this.animate),this.Earth.rotation.y+=.001,this.Earth.rotation.x=.2,this.Cloud.rotation.x+=.0018*Math.random()+2e-4,this.Cloud.rotation.y+=.002,this.renderer.setPixelRatio(window.devicePixelRatio),this.controls.update(),this.controls.autoRotateSpeed=.1,this.renderer.render(this.scene,this.camera)},onWindowResize:function(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix()}},created:function(){var t=this;window.addEventListener("resize",(function(){t.onWindowResize()}))},mounted:function(){this.init(),this.animate()}},vv=mv,gv=(i("8cc5"),i("2877")),yv=Object(gv["a"])(vv,n,r,!1,null,null,null);e["default"]=yv.exports},e867:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA8CAMAAADrC+IEAAAAk1BMVEUAAADoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUXoRUV4dCyLAAAAMHRSTlMAB/ccwy/d1vJlEiUW7JZgKuW4ko5cy69yVenhyJyGazw2DdLOvqihSTm0gXhPQiOy+e5IAAAC0klEQVRIx5SU6ZaiMBCFQ0iAIDsIsomIW7e2fd//6SZpDhicmT56f0C4p74UVUUg/1XfOpQ6bU/elNFR0KqSl854j8wAVkZRyYDsLbAD2nHVAt0bYO/jbIxL4wz/9Vr3DEdjrvgItn+VDOFzMov7CF8E3QHZsluD+xpZouL6M69QvpYyQbp0UiTub4DpeZ5aRHDuZKG7g0jdZYD5tIUnCjbYUvkx3QQoyJMKBJv0mKuIgRXCm7OlFoWuOrsvUmY1dFErHTOvGqBOQ76SKsOAQcqxg92I7QLbUQ4LwlJF8DCtgWalMh7hC/cxeIGD+KQAtW+mebPV6lMcIB4RrvBxdNXYq4t+SFK0xPBEUgGOA/iJ8AzSItWPzKVSH8cJwaJZNjY/O5Q+IOHwh9jA9vSoACdCGF3r3jcqVSHPAJ8xSWdcVVvhW49aU0ZIsyR3OBgk2qrqZBGXwgG2ETEO2C3JhpAEN90TSMg6Blg4PpcMiNcySuhRNySqhERv0BVNABw2D2tzAIIGV71FiWoGh7/SvDOkMpNoMjPlnTVn5YPLLLlufqgX/SJP+sqB+EPfPjdUJaCzubaAk0f+knkCrPW8PR2P3T6ffxdbAHFE/qEoBrCdfzb5COzo6LkngMGaauRtUbR8SmqBASd33J9OI7pCzZQ3wJbPpKghVYuZ5Fug4WqWuM6jKOD0kQ10xn4i+xhD1w2I+4ncGx1gR72Dwnh0OUdtwfmSERMZYIhkeQOCifRkjx1YNfIVWQ6DXohGfqIbP/ViIpV/ofp4nsk/nZfBCcAwDAOhppAWiumnE/TV/QfsJ4/gIBRuAINJZOl09smjTO5lUm/7lm1j2Na+UJoXor/ClcDVNys+FhU/X9mzdGX8srmbWAdL5WDONb9NuSZ3ap0O2Uw6yES6TCLxFMTJi9OeEgajGkBSkN44MWJK5WSMaRw3ANA6QrQO33TuppsOb1c/I1OKqoOiF68AAAAASUVORK5CYII="},f29f:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmNjY3YjExZC0xMjlhLWJkNDAtYjY0ZS1lMzJhNWU5ODM1ZTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTg0MTRCNjZFQUNFMTFFOUI5MTlDNjA5MDhBNzdGNTgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTg0MTRCNjVFQUNFMTFFOUI5MTlDNjA5MDhBNzdGNTgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OWYyOWNhMDgtMDFlNC0yYzQyLWFiYzItZTYxMmUxMWYzZmEyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOmY2NjdiMTFkLTEyOWEtYmQ0MC1iNjRlLWUzMmE1ZTk4MzVlOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkGczx8AAAFpSURBVHjarNRLKMVBFMfxey8KC/Y3r71HKY8s5FEehWSjJAvdUvZWUhRlJysbWZEoC3kVYWHBQiGvlUeJLMjKxvP6nvpdjekvG1Of5t/Muec/c2b+NxyPx0P/2ZInbk5/mytAG6oQxSdusYcFnAUmDBgrxijqEdbYu/p8NGAQ6+jzE0e85CPY148s2QWakCatuNZcIw4x4OZJrDBD26hzXvCEGm0zF1bsJRzA6pSJFAyjHB14jmhi00tmbVLJenGllfVobMqLbcYG0i3hGEoDanmuvltbMl3enNsqMG5Bi/gICMhRv+WMbavPCoh/s5JYwmV04tULiNkW0K+DacGQShTzYl/QjpXE6cyrhndOUB5WtdI1C9bh2AKynbh71GqnP67Nju7gjDNWjUsc40TPlZqzU59FEXaD7qG1BxW+DHN2DZCEQn05EY1No0SlevzrSwnpctu9SlWyqLO9o4B6f7fwf/85fAkwAO5TUXGtr68IAAAAAElFTkSuQmCC"},f39c:function(t,e,i){t.exports=i.p+"img/6.a0c861f2.png"},f510:function(t,e,i){t.exports=i.p+"img/5.fe468de1.png"},f66c:function(t,e,i){t.exports=i.p+"img/Search.a7a621f4.svg"},fb19:function(t,e,i){t.exports=i.p+"img/down_arrows.874f7b7a.svg"},fe68:function(t,e,i){t.exports=i.p+"img/2.ff671ee5.png"}}]);
//# sourceMappingURL=about.0956ec7d.js.map